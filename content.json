{"pages":[{"title":"notebook","text":"å·¥ä½œæ‰‹å†Œæ€»ç»“å·¥ä½œä¸­éœ€è¦æ³¨æ„çš„æ–¹æ–¹é¢é¢ æ€åº¦ç¯‡ æ¯æ—¥å°ä¼šè®®æ€»ç»“æ˜¯å¿…é¡»çš„ï¼ˆåŠæ—¶æ²Ÿé€šï¼‰ å®Œä¸æˆè¦æå‰é¢„è­¦ï¼Œé™ä½ä¸Šçº§éƒ¨é—¨çš„é¢„æœŸ ç€æ‰‹ä¹‹å‰é€šè§‚å…¨å±€ï¼Œå†³å®šæ¶æ„å’Œæ–¹æ¡ˆï¼Œä¸è¦èµ°ä¸€æ­¥ç®—ä¸€æ­¥ã€‚ æŠŠé—®é¢˜é—®æ¸…æ¥šï¼ŒæŠŠé—®é¢˜è¡¨è¿°æ¸…æ¥šã€‚ æŠŠæ‰€æœ‰ä¸œè¥¿æ•´ç†æˆæ–‡æ¡£ã€‚ æœ‰ä¸ªè§„åˆ’ï¼Œæ¯æ—¥ä»»åŠ¡ ä¸»åŠ¨æ‰¿æ‹…è´£ä»»ï¼ˆæ—©æ™šæœ‰æ„æƒ³ä¸åˆ°çš„ç»“æœï¼‰ æ¶ˆæ¯æˆ–æ–‡ä»¶ä¼ è¾“åä¸€å®šè¦æœ‰å›æ‰§ã€‚ A: å‰å¤©è®©ä½ å‘ç»™æˆ‘çš„æ–‡ä»¶ï¼Œæ€ä¹ˆåˆ°ç°åœ¨è¿˜æ²¡å‘é€ï¼ŸBï¼šä¸æ˜¯å·²ç»å‘ç»™ä½ äº†å—ï¼Ÿï¼ˆèµ¶ç´§å›å¤´çœ‹è®°å½•ï¼Œå‘ç°æ–‡ä»¶å‰æœ‰ä¸ªæ„Ÿå¹å·â—ï¸ï¼‰Bï¼šä¸å¥½æ„æ€ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯ç½‘ç»œåŸå› ï¼Œé‚£å¤©æ²¡æœ‰å‘é€æˆåŠŸã€‚ åˆ«äººæŒ‡å‡ºçš„é—®é¢˜ï¼Œä¸è¦åæ„Ÿï¼Œé™¤éä½ æœ‰ç†ç”±è¯´æœåˆ«äººä½ æ˜¯æ­£ç¡®çš„ã€‚ è¯·å‡è¦å°½é‡æå‰ä¸€äº›å¤©ï¼Œè®©é¢†å¯¼èƒ½æå‰åè°ƒå¤§å®¶å·¥ä½œçš„è¿›å±•ã€‚ å‘¨äº”ç»“æŸå·¥ä½œæ—¶ï¼Œåˆ—å‡ºä¸‹å‘¨ä¸€è¦åšçš„äº‹æƒ…ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ä¼‘æ¯åˆ°å·¥ä½œçš„è¿‡åº¦æ—¶é—´ã€‚ æŠ€æœ¯ç¯‡æ—¥å¿— å…¥å‚ä¸€å®šè¦æ‰“å°å‡ºæ¥ï¼Œæ–¹æ³•ä¸­æ¯ä¸ªreturnå‰è¦æ‰“å°è¯´æ˜åŸå› ã€‚ å¾ªç¯ä¸­è°¨æ…æ‰“å°æ—¥å¿— æœåŠ¡ æš´éœ²çš„æœåŠ¡ä»…æä¾›çš„jaråº”æ˜¯æœ€ç®€åŒ–ç‰ˆï¼Œä»…åŒ…å«æš´éœ²æ‰€éœ€ã€‚ æ•°æ®åº“ ä¸è¦åœ¨ä»£ç å¾ªåè¯­å¥å†…è¿æ¥æ•°æ®åº“ã€‚è¿™ä¼šè®©æ•°æ®åº“å†…å­˜å¾ˆå¿«æ¶¨èµ·æ¥ã€‚ ä¿®æ”¹mysql server çš„æœ€å¤§è¿æ¥æ•°ï¼ˆé»˜è®¤150ä¸ªï¼‰ï¼Œå½“ä½ è¶…è¿‡æ—¶ä¼šæ”¶åˆ°ä¸€ä¸ªå¼‚å¸¸ Too many connections,æœ‰ä¸¤ä¸ªå‘½ä»¤å¯ä»¥å¸®åˆ°ä½ ï¼š 123456#æŸ¥çœ‹è¿›ç¨‹show processlist; #æŸ¥çœ‹æœ€å¤§è¿æ¥è®¾ç½®show variables like 'max_connections'; #è®¾ç½®æœ€å¤§è¿æ¥æ•°set GLOBAL max_connections=1500; è¿™ç§è®¾ç½®ï¼Œä¸€æ—¦serveré‡å¯åå°±å¤±æ•ˆäº†ï¼Œæœ€æ ¹æœ¬çš„æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚ ä¸è¦åœ¨ in ä¸­æ”¾ç½®è¿‡å¤šå†…å®¹ï¼Œä¼šå¯¼è‡´ç¨‹åºå‡ºç°Caused by: com.mysql.jdbc.PacketTooBigException: Packet for query is too large (1379 &gt; 1024). You can change this value on the server by setting the max_allowed_packet&#39; variable. ä¸è¦æŠŠæ•°ç»„è½¬æˆå­—ç¬¦ä¸²åœ¨inä¸­ï¼Œå¦‚æœè¿™æ ·ï¼Œå®ƒåªä¼šåŒ¹é…ç¬¬ä¸€ä¸ªé€—å·ä¹‹å‰çš„æ•°å­—ï¼ˆä¸‹é¢ä¾‹å­å³åªåŒ¹é…idä¸º1çš„ï¼‰ã€‚åä¾‹ï¼š 1String ids = \"1,2,3\"; 1select * from a where id in ('1,2,3') å¦‚æœç¡®å®éœ€è¦ï¼Œä½ å¯ä»¥ä¿®æ”¹mysql server çš„max_allowed_packetå¤§å°ã€‚æ–¹å¼å¦‚ä¸‹ï¼š 123show variables like '%max_allowed_packet%';# æ‰©å¤§é…ç½®é™åˆ¶ï¼Œå°†1024ï¼ˆ1Mï¼‰å¢å¤§ï¼Œå°†å…¶ä¿®æ”¹ä¸º20Mset global max_allowed_packet = 2*1024*1024*10; é¢è¯•ç¯‡ äº†è§£æ¸…æ¥šå…¬å¸çš„äº§å“æœ‰å¤šå°‘ï¼Ÿç”¨åˆ°ä»€ä¹ˆæŠ€æœ¯ï¼Ÿæœ‰ä»€ä¹ˆä¾èµ–ï¼Ÿ åŒè¯­è¨€å¼€å‘ä¸ä½äº5äººï¼Œå„ä¸ªå±‚çº§æ˜¯å¦æœ‰äººï¼ˆé«˜ä¸­åˆçº§ï¼‰ï¼Ÿæ˜¯å¦æœ‰æŠ€æœ¯ç§¯ç´¯ï¼ˆå±•ç¤ºæ¸ é“ï¼Œå¯å›å®¶çœ‹çœ‹ï¼‰ï¼Ÿ å…¬å¸çš„ç¯å¢ƒï¼Œåƒé¥­å’Œå•æ‰€æ˜¯æ¯”è¾ƒé‡è¦çš„äº‹æƒ…ï¼Œæœ‰æ—¶é—´å¯ä»¥å»å«ç”Ÿé—´çœ‹çœ‹ï¼Œä¸€ä¸ªå«ç”Ÿé—´åŸºæœ¬å¯ä»¥çœ‹å‡ºå·¥ä½œç¯å¢ƒã€‚ æœ€åæ˜¯å…³äºç¦åˆ©","link":"/notebook/index.html"},{"title":"about","text":"ä¸ªäººç®€ä»‹å§“åï¼šflyheroå…³æ³¨ï¼šJavaåœ°ç‚¹ï¼šä¸Šæµ·é‚®ç®±ï¼šecho -n &quot;aWZseWFwaUBnbWFpbC5jb20=&quot; | base64 -DGithubï¼šhttps://github.com/flyhero èŒä¸šæŠ€èƒ½è¯­è¨€ï¼šç†Ÿæ‚‰Java,äº†è§£Cè¯­è¨€å‰ç«¯ï¼šäº†è§£javascirptã€jspã€htmlã€cssã€Jqueryã€bootstrapåå°ï¼šç†Ÿæ‚‰Springã€SpringMVCã€Mybatisï¼ŒSpring bootï¼ŒSpring Cloudçš„åº”ç”¨æœåŠ¡å™¨ï¼šç†Ÿæ‚‰Tomcatæ•°æ®åº“ï¼šç†Ÿæ‚‰mysqlè„šæœ¬: ç®€å•Shellè„šæœ¬è™šæ‹ŸåŒ–ï¼šDockerçš„ä½¿ç”¨æ„å»ºï¼šäº†è§£Mavenç‰ˆæœ¬æ§åˆ¶ï¼šGit , SVNç³»ç»Ÿï¼šç†Ÿç»ƒä½¿ç”¨MacOSä»¥åŠlinuxæ—¥å¸¸æ“ä½œ","link":"/about/index.html"},{"title":"ä¹¦å•","text":"ä¹¦ç± å¼€å§‹æ—¶é—´ ç»“æŸæ—¶é—´ å®Œæˆåº¦ å¤‡æ³¨ Javaç¼–ç¨‹æ€æƒ³ 2017-11-02 30% æˆ‘è®¤ä¸ºè‡³å°‘è¯»ä¸‰éï¼Œæ¯æ¬¡éƒ½æœ‰æ”¶è· å¤§è¯è®¾è®¡æ¨¡å¼ 2018-03-12 2018-08-28 100% æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº 2018-01-04 30% Effective Java ä¸­æ–‡ç‰ˆ 2018-06-09 10% å¼ºçƒˆæ¨è ç¼–å†™é«˜è´¨é‡ä»£ç -151ä¸ªå»ºè®® 2018-04-12 ä»£ç æ•´æ´ä¹‹é“ 2018-06-20 2018-07-26 80% è¯»èµ·æ¥å•°å—¦ï¼Œæ™¦æ¶©ï¼Œä¸æ¨è Java8å®æˆ˜ 2018-07-25 2018-08-23 100% éå¸¸å¥½","link":"/read/index.html"}],"posts":[{"title":"Javaä½è¿ç®—","text":"æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä¸ºè¿ç®—ä½¿ç”¨çš„å¹¶ä¸å¤šï¼Œä½†å¦‚æœèƒ½å·§å¦™çš„ä½¿ç”¨ä½è¿ç®—å¯ä»¥å‡å°‘è¿è¡Œå¼€é”€å’Œä¼˜åŒ–ç®—æ³•ï¼Œé€šè¿‡Javaçš„æºç å¯çŸ¥ï¼Œå¦‚HashMapã€‚ å•ä½æ¢ç®— bitï¼šä½ ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®0æˆ–1ï¼Œæ˜¯1bitï¼› byteï¼šå­—èŠ‚1 byte = 8 bit , å­˜å‚¨ç©ºé—´çš„åŸºæœ¬è®¡é‡å•ä½ ä¸€ä¸ªè‹±æ–‡å­—ç¬¦å ä¸€ä¸ªå­—èŠ‚ï¼›1 å­—æ¯ = 1 byte = 8 bit ä¸€ä¸ªæ±‰å­—å 2ä¸ªå­—èŠ‚ï¼›1 æ±‰å­— = 2 byte = 16 bit æ”¯æŒçš„æ•°æ®ç±»å‹é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼ŒJavaä¸­çš„ä½è¿ç®—æ˜¯é’ˆå¯¹æ•´å‹çš„æ•°æ®ç±»å‹è¿›è¡Œè¿ç®—çš„ï¼Œæ‰€ä»¥æ“ä½œæ•°å¿…é¡»æ˜¯ä¸€ä¸‹äº”ç§ä¹‹ä¸€ã€‚ æ•°æ®ç±»å‹ æ‰€å ä½æ•°ï¼ˆbitï¼‰ byte 8 short 16 int 32 long 64 char 16 æ•°æ®å­˜å‚¨æ–¹å¼è®¡ç®—æœºä¸­å­˜å‚¨çš„æ•°æ®æœ€ç»ˆæ˜¯ä»¥äºŒè¿›åˆ¶å­˜å‚¨ï¼Œå¦‚intç±»å‹çš„åè¿›åˆ¶æ•°å­—10è¡¨ç¤ºä¸º32bitçš„äºŒè¿›åˆ¶ï¼š 0000 0000 0000 0000 0000 0000 0000 1010 ä½è¿ç®—ç¬¦ è¿ç®—ç¬¦ æ„ä¹‰ &amp; æŒ‰ä½ä¸ &#124; æŒ‰ä½æˆ– ~ æŒ‰ä½é ^ æŒ‰ä½å¼‚æˆ– &lt;&lt; å·¦ç§» &gt;&gt; å³ç§» &lt;&lt;&lt; æ— ç¬¦å·å³ç§» æŒ‰ä½ä¸&amp; æ“ä½œ åè¿›åˆ¶ äºŒè¿›åˆ¶ æ“ä½œæ•°1 3 0 0 1 1 æ“ä½œæ•°2 5 0 1 0 1 &amp; åç»“æœ 1 0 0 0 1 æ€»ç»“ï¼šå¯¹åº”ä½åŒä¸º1æ—¶ï¼Œæ‰ä¸º1ï¼Œå¦åˆ™å…¨ä¸º0ï¼ˆå¯¹åº”ä½åªè¦æœ‰0ï¼Œå…¨ä¸º0ï¼Œå¦åˆ™ä¸º1ï¼‰ã€‚ å¦å¤–ï¼šä½ å¯ä»¥æŠŠ1ç†è§£ä¸ºtrue,æŠŠ0ç†è§£ä¸ºfalse, trueå’Œfalseè¿›è¡Œä¸ï¼ˆ&amp;ï¼‰æ—¶ï¼Œå¿…é¡»åŒä¸ºtrueæ—¶ç»“æœæ‰ä¸ºtrue. æŒ‰ä½æˆ– | æ“ä½œ åè¿›åˆ¶ äºŒè¿›åˆ¶ æ“ä½œæ•°1 3 0 0 1 1 æ“ä½œæ•°2 5 0 1 0 1 &#124; åç»“æœ 7 0 1 1 1 æ€»ç»“ï¼šå¯¹åº”ä½åªè¦æœ‰1æ—¶ï¼Œå³ä¸º1ï¼Œå¦åˆ™å…¨ä¸º0ï¼ˆå¯¹åº”ä½åªæœ‰å…¨æ˜¯0æ—¶ï¼Œç»“æœæ‰æ˜¯0ï¼Œå¦åˆ™ä¸º1ï¼‰ã€‚ å¦å¤–ï¼šä½ å¯ä»¥æŠŠ1ç†è§£ä¸ºtrue,æŠŠ0ç†è§£ä¸ºfalse, trueå’Œfalseè¿›è¡Œæˆ–ï¼ˆ|ï¼‰æ—¶ï¼Œåªè¦æœ‰true,ç»“æœå³ä¸ºtrue. æŒ‰ä½é~ æ“ä½œ åè¿›åˆ¶ äºŒè¿›åˆ¶ æ“ä½œæ•°1 3 0 0 1 1 ~ åç»“æœ 12 1 1 0 0 æ€»ç»“ï¼šå¯¹æ¯ä½è¿›è¡Œå–åã€‚ æŒ‰ä½å¼‚æˆ– ^ æ“ä½œ åè¿›åˆ¶ äºŒè¿›åˆ¶ æ“ä½œæ•°1 3 0 0 1 1 æ“ä½œæ•°2 5 0 1 0 1 ^ åç»“æœ 7 0 1 1 0 æ€»ç»“ï¼šåªè¦å¯¹åº”ä¸ºä¸åŒå³ä¸º1 å·¦ç§»&lt;&lt; å’Œ å³ç§» &gt;&gt;é€šè¿‡ä¸‹é¢çš„å›¾æ›´åŠ ç›´è§‚ï¼š å·¦ç§»æ€»ç»“ m&lt;&lt;nå³åœ¨æ•°å­—æ²¡æœ‰æº¢å‡ºçš„å‰æä¸‹ï¼Œå¯¹äºæ­£æ•°å’Œè´Ÿæ•°ï¼Œå·¦ç§»nä½éƒ½ç›¸å½“äºmä¹˜ä»¥2çš„næ¬¡æ–¹ã€‚ æº¢å‡ºæƒ…å†µä¸¾ä¾‹ï¼š5&lt;&lt;29ï¼Œç›¸å½“äº ï¼ˆ2^2 + 1ï¼‰ * 2^29 ï¼Œè¿™ä¸ªç»“æœæ˜¾ç„¶å¤§äºæ­£æ•°çš„æœ€å¤§å€¼ 2^31-1ï¼Œæ‰€ä»¥å¾—å‡ºçš„æ˜¯ä¸ªè´Ÿæ•°ã€‚ å³ç§»æ€»ç»“ m&gt;&gt;nå³ç›¸å½“äºmé™¤ä»¥2çš„næ¬¡æ–¹ï¼Œå¾—åˆ°çš„ä¸ºæ•´æ•°æ—¶ï¼Œå³ä¸ºç»“æœã€‚å¦‚æœç»“æœä¸ºå°æ•°ï¼Œæ­¤æ—¶ä¼šå‡ºç°ä¸¤ç§æƒ…å†µï¼š å¦‚æœmä¸ºæ­£æ•°ï¼Œå¾—åˆ°çš„å•†ä¼šæ— æ¡ä»¶ çš„èˆå¼ƒå°æ•°ä½ï¼› å¦‚æœmä¸ºè´Ÿæ•°ï¼Œèˆå¼ƒå°æ•°éƒ¨åˆ†ï¼Œç„¶åæŠŠæ•´æ•°éƒ¨åˆ†åŠ +1å¾—åˆ°ä½ç§»åçš„å€¼ã€‚ æ— ç¬¦å·å³ç§» &gt;&gt;&gt;æ— ç¬¦å·å³ç§»&gt;&gt;&gt; ä¸ å³ç§»&gt;&gt; çš„åŒºåˆ«å°±æ˜¯æ— è®ºæ“ä½œæ•°æ˜¯æ­£æ•°è¿˜æ˜¯è´Ÿæ•°ï¼Œé«˜ä½éƒ½æ˜¯è¡¥0ã€‚","link":"/2018/07/16/Javaä½è¿ç®—/"},{"title":"Kafkaé›†ç¾¤æ­å»º","text":"åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œæèµ·æ¶ˆæ¯é˜Ÿåˆ—ä¼°è®¡å¤§å®¶æƒ³åˆ°çš„éƒ½æ˜¯Kafkaè¿™å®¶ä¼™ï¼Œå› ä¸ºè¿™å®¶ä¼™å¿«é€ŸæŒä¹…åŒ–ï¼Œé«˜ååï¼Œæ€§èƒ½å¥½ã€‚ ç®€ä»‹Apache kafkaæ˜¯ç”±Apacheè½¯ä»¶åŸºé‡‘ä¼šå¼€å‘çš„ä¸€ä¸ªå¼€æºæµå¤„ç†å¹³å°ï¼Œç”±Scalaå’ŒJavaç¼–å†™ã€‚Kafkaæ˜¯ä¸€ç§é«˜ååé‡çš„åˆ†å¸ƒå¼å‘å¸ƒè®¢é˜…æ¶ˆæ¯ç³»ç»Ÿï¼Œæ˜¯æ¶ˆæ¯ä¸­é—´ä»¶çš„ä¸€ç§ï¼Œç”¨äºæ„å»ºå®æ—¶æ•°æ®ç®¡é“å’Œæµåº”ç”¨ç¨‹åºã€‚æœ¬æ–‡ä¸å¯¹kafkaåšè¿‡å¤šçš„ä»‹ç»ï¼Œè¯¦æƒ…è¯·Google. èŠ‚ç‚¹åˆ—è¡¨ host IP Software Port OS server-1 192.168.1.1 kafka-2.11-2.0.0 9092 CentOS 6.8 server-2 192.168.1.2 kafka-2.11-2.0.0 9092 CentOS 6.8 server-3 192.168.1.3 kafka-2.11-2.0.0 9092 CentOS 6.8 å®‰è£…1234567[192.168.1.1]~$ wget http://archive.apache.org/dist/kafka/2.0.0/kafka_2.11-2.0.0.tgz[192.168.1.1]~$ tar -zxvf kafka_2.11-2.0.0.tgz -C /usr/local/[192.168.1.1]~$ mv /usr/local/kafka_2.11-2.0.0 /usr/local/kafka[192.168.1.1]~$ mkdir /usr/local/kafka/logs å…¶å®ƒä¸¤ä¸ªæœºå™¨åŒæ ·æ‰§è¡Œä¸Šé¢è¿‡ç¨‹ é…ç½® æ‰“å¼€é…ç½® 1[192.168.1.1]~$ vim server.properties ä¿®æ”¹ 1234567891011121314#å”¯ä¸€å€¼ï¼Œæ¯ä¸ªserverå¡«å†™ä¸ä¸€æ ·ã€‚broker.id=1#ä¿®æ”¹ï¼›åè®®ã€å½“å‰brokeræœºå™¨ipã€ç«¯å£ï¼Œæ­¤å€¼å¯ä»¥é…ç½®å¤šä¸ªï¼Œè·ŸSSLç­‰æœ‰å…³ç³»ã€‚listeners=PLAINTEXT://192.168.1.1:9092#ä¿®æ”¹ï¼›kafkaæ•°æ®çš„å­˜æ”¾åœ°å€ï¼Œå¤šä¸ªåœ°å€çš„è¯ç”¨é€—å·åˆ†å‰²log.dirs=/usr/local/kafka/logs#æ¯ä¸ªtopicçš„åˆ†åŒºä¸ªæ•°ï¼Œè‹¥æ˜¯åœ¨topicåˆ›å»ºæ—¶å€™æ²¡æœ‰æŒ‡å®šçš„è¯ä¼šè¢«topicåˆ›å»ºæ—¶çš„æŒ‡å®šå‚æ•°è¦†ç›–ã€‚num.partitions=3#kafkaè¿æ¥çš„zkåœ°å€ï¼Œå„ä¸ªbrokeré…ç½®ä¸€è‡´ã€‚zookeeper.connect=192.168.1.1:2181,192.168.1.2:2181,192.168.1.3:2181 æ–°å¢ 1234567891011121314#æ–°å¢ï¼›è¡¨ç¤ºæ¶ˆæ¯ä½“çš„æœ€å¤§å¤§å°ï¼Œå•ä½æ˜¯å­—èŠ‚ã€‚message.max.bytes=5242880#æ–°å¢ï¼›æ˜¯å¦å…è®¸è‡ªåŠ¨åˆ›å»ºtopicï¼Œè‹¥æ˜¯falseï¼Œå°±éœ€è¦é€šè¿‡å‘½ä»¤åˆ›å»ºtopicã€‚default.replication.factor=2#æ–°å¢ï¼›replicasæ¯æ¬¡è·å–æ•°æ®çš„æœ€å¤§å¤§å°ã€‚replica.fetch.max.bytes=5242880#æ–°å¢ï¼›é…ç½®æ–‡ä»¶ä¸­å¿…é¡»ä½¿ç”¨ä»¥ä¸‹é…ç½®ï¼Œå¦åˆ™åªä¼šæ ‡è®°ä¸ºåˆ é™¤ï¼Œè€Œä¸æ˜¯çœŸæ­£åˆ é™¤ã€‚delete.topic.enable=true#æ–°å¢ï¼›æ˜¯å¦å…è®¸ leader è¿›è¡Œè‡ªåŠ¨å¹³è¡¡ï¼Œboolean å€¼ï¼Œé»˜è®¤ä¸º trueã€‚auto.leader.rebalance.enable=true å…¶å®ƒä¸¤ä¸ªæœºå™¨åŒæ ·æ‰§è¡Œä¸Šé¢è¿‡ç¨‹ é›†ç¾¤çŠ¶æ€å¯åŠ¨12345[192.168.1.1]~$ /usr/local/kafka/bin/kafka-server-start.sh /usr/local/kafka/config/server.properties[192.168.1.2]~$ /usr/local/kafka/bin/kafka-server-start.sh /usr/local/kafka/config/server.properties[192.168.1.3]~$ /usr/local/kafka/bin/kafka-server-start.sh /usr/local/kafka/config/server.properties","link":"/2018/09/27/Kafkaé›†ç¾¤æ­å»º/"},{"title":"SQLæŸ¥è¯¢ä»Šå¤©ã€æ˜å¤©ã€æœ¬å‘¨ã€æœ¬æœˆ","text":"ç»Ÿè®¡sql 123456789101112131415161718192021222324252627282930-- ä»Šå¤©SELECT *FROM d2_lecture where to_days(FROM_UNIXTIME(start_time))= to_days(now())-- æ˜å¤©SELECT *FROM d2_lecture where to_days(FROM_UNIXTIME(start_time))= to_days(now())+1-- 7å¤©å†…SELECT * FROM d2_lecture where DATE(FROM_UNIXTIME(start_time))&gt;DATE_SUB(CURDATE(), INTERVAL 7 DAY)-- æœ¬å‘¨å†…SELECT * FROM d2_lecture WHERE YEARWEEK(date_format(FROM_UNIXTIME(start_time),'%Y-%m-%d')) = YEARWEEK(now());-- æœ¬å‘¨æœ«SELECT * FROM d2_lecture WHERE YEARWEEK(date_format(FROM_UNIXTIME(start_time),'%Y-%m-%d')) = YEARWEEK(now()) AND DAYOFWEEK(date_format(FROM_UNIXTIME(start_time),'%Y-%m-%d')) in(1,7) -- æœ¬æœˆselect *from d2_lecture where date_format(FROM_UNIXTIME(start_time),'%Y-%m')=date_format(now(),'%Y-%m')","link":"/2016/09/19/SQLæŸ¥è¯¢ä»Šå¤©ã€æ˜å¤©ã€æœ¬å‘¨ã€æœ¬æœˆ/"},{"title":"MySQLä¸»ä»å¤åˆ¶æ­å»º","text":"ä¸»ä»å¤åˆ¶æ˜¯ä¸ºäº†ä»¥é˜²ä¸‡ä¸€ä¸€å°æœºå™¨å‡ºç°é—®é¢˜ï¼Œå¤‡ç”¨æ•°æ®åº“èƒ½åŠæ—¶è¡¥å……ä¸Šã€‚ èŠ‚ç‚¹ Host IP Software Port OS Master/Slave server-1 192.168.1.1 MySQL 5.7 3306 CentOS 6.8 Master server-2 192.168.1.2 MySQL 5.7 3306 CentOS 6.8 Slave å®‰è£…å¯åŠ¨ åˆ é™¤æ—§ç‰ˆæœ¬1yum remove mysql* ä¸‹è½½å®‰è£…é…ç½®æ–‡ä»¶ 1wget https://dev.mysql.com/get/mysql57-community-release-el6-11.noarch.rpm å…ˆå®‰è£…åˆšä¸‹è½½çš„æ–‡ä»¶ 1yum localinstall mysql57-community-release-el6-11.noarch.rpm æŸ¥çœ‹ä¸€ä¸‹ä¿¡æ¯ 1yum repolist all | grep mysql é»˜è®¤enableçš„æ˜¯5.7ç‰ˆæœ¬ 1yum install mysql-community-server å¯åŠ¨ 1service mysqld start è·å–ä¸´æ—¶å¯†ç ä¸ºäº†åŠ å¼ºå®‰å…¨æ€§ï¼ŒMySQL5.7ä¸ºrootç”¨æˆ·éšæœºç”Ÿæˆäº†ä¸€ä¸ªå¯†ç ï¼Œåœ¨error logä¸­ï¼Œå…³äºerror logçš„ä½ç½®ï¼Œå¦‚æœå®‰è£…çš„æ˜¯RPMåŒ…ï¼Œåˆ™é»˜è®¤æ˜¯/var/log/mysqld.logã€‚åªæœ‰å¯åŠ¨è¿‡ä¸€æ¬¡mysqlæ‰å¯ä»¥æŸ¥çœ‹ä¸´æ—¶å¯†ç  12$ grep 'temporary password' /var/log/mysqld.loghost:*** æ˜Ÿå·å¤„ä¸ºå¯†ç ã€‚ ç™»å½•å¹¶ä¿®æ”¹å¯†ç  å¯†ç å¤§å°å†™æ•°å­—å­—æ¯ç‰¹æ®Šç¬¦å·æ··åˆï¼Œå¦åˆ™ä¸å®¹æ˜“è®¾ç½®æˆåŠŸã€‚ 123mysql -uroot -p&gt; å¯†ç mysql &gt; ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;å¯†ç &apos;; ä¸¤ä¸ªèŠ‚ç‚¹å‡åŒæ ·çš„æ“ä½œ ä¸»ä»å¤åˆ¶åˆ›å»ºç”¨äºå¤åˆ¶çš„è´¦å·åˆ›å»ºä¸€ä¸ªåä¸ºslaveçš„è´¦å·é€šè¿‡å¯†ç *æ¥ç™»å½•ï¼Œåªå…è®¸ä»192.168.1.2æ¥ç™»å½•ã€‚ 12mysql&gt; grant replication slave on *.* to 'slave'@'192.168.1.2' identified by 'å¯†ç '; mysql&gt; flush privileges; Masteré…ç½® ä¿®æ”¹/etc/my.cnfæ–‡ä»¶å¦‚ä¸‹ï¼š 123456789port=3306 #[å¿…é¡»]å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿— binlog-ignore-db=mysql #[å¿…é¡»]æœåŠ¡å™¨å”¯ä¸€IDï¼Œé»˜è®¤æ˜¯1 server-id= 1 #åªä¿ç•™7å¤©çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä»¥é˜²ç£ç›˜è¢«æ—¥å¿—å æ»¡ expire-logs-days = 7 #ä¸å¤‡ä»½çš„æ•°æ®åº“ binlog-ignore-db=mysql é‡å¯ 1service mysqld restart æŸ¥çœ‹ä¸»æœåŠ¡å™¨ä¸Šå½“å‰çš„äºŒè¿›åˆ¶æ—¥å¿—åå’Œåç§»é‡å€¼ 1234567mysql&gt; show master status; +------------------+----------+--------------+--------------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +------------------+----------+--------------+--------------------------+-------------------+ | mysql-bin.000001 | 154 | | mysql | |+------------------+----------+--------------+-------------------------+-------------------+ 1 row in set (0.00 sec) --------------------- è¿™é‡Œçš„ File ã€Position æ˜¯åœ¨é…ç½®Salveçš„æ—¶å€™è¦ä½¿ç”¨åˆ°çš„ã€‚ Slaveé…ç½® ä¿®æ”¹/etc/my.cnfæ–‡ä»¶å¦‚ä¸‹ï¼š 123server-id=2 #æ­¤å€¼ä¸èƒ½å’Œä¸»æ•°æ®åº“çš„ä¸€æ ·ï¼Œå”¯ä¸€ replicate-do-db = test #å¯ä»¥æŒ‡å®šè¦å¤åˆ¶çš„åº“ replicate-ignore-db = mysql #å¿½ç•¥çš„åº“ è®¾ç½®Slave 123mysql&gt; stop slave; #å…³é—­Slave mysql&gt; change master to master_host='192.168.1.1',master_user='slave',master_password='å¯†ç ',master_log_file='mysql-bin.000001', master_log_pos= 154; mysql&gt; start slave; #å¼€å¯Slave æ³¨æ„ï¼šåœ¨è¿™é‡ŒæŒ‡å®šMasterçš„ä¿¡æ¯ï¼Œmaster_log_fileæ˜¯åœ¨é…ç½®Masterçš„æ—¶å€™çš„Fileé€‰é¡¹ï¼Œ master_log_posæ˜¯åœ¨é…ç½®Masterçš„Position é€‰é¡¹ï¼Œè¿™é‡Œè¦è¿›è¡Œå¯¹åº”ã€‚ æŸ¥çœ‹Slaveé…ç½®1234567891011121314151617mysql&gt; show slave status \\G; *************************** 1. row *************************** Slave_IO_State: Master_Host: 192.168.1.1 Master_User: slave Master_Port: 3306 Connect_Retry: 60 Master_Log_File: mysql-bin.000001 Read_Master_Log_Pos: 154 Relay_Master_Log_File: mysql-bin.000001 Slave_IO_Running: Yes Slave_SQL_Running: Yes Skip_Counter: 0 Exec_Master_Log_Pos: 154 Relay_Log_Space: 154 1 row in set (0.00 sec) ERROR: No query specified Slave_IO_Runningï¼šè¿æ¥åˆ°ä¸»åº“ï¼Œå¹¶è¯»å–ä¸»åº“çš„æ—¥å¿—åˆ°æœ¬åœ°ï¼Œç”Ÿæˆæœ¬åœ°æ—¥å¿—æ–‡ä»¶ã€‚Slave_SQL_Running:è¯»å–æœ¬åœ°æ—¥å¿—æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œæ—¥å¿—é‡Œçš„SQLå‘½ä»¤ã€‚å¦‚æœSlave_IO_Running ä¸ Slave_SQL_Running çš„å€¼éƒ½å¿…é¡»ä¸ºYESï¼Œè¡¨æ˜æˆåŠŸäº†ï¼› æ’é”™ Slave_SQL_Running: Noä¸€èˆ¬æ˜¯ç”±äºäº‹ç‰©å›æ»šé€ æˆçš„ã€‚è§£å†³ï¼š 123mysql&gt; slave stop;mysql&gt; set GLOBAL SQL_SLAVE_SKIP_COUNTER=1;mysql&gt; slave start; Slave_IO_Running: Noå¯èƒ½æ˜¯ä¸»åº“æ˜¯çš„masterçš„ä¿¡æ¯æœ‰å˜åŒ–å¯¼è‡´çš„ã€‚è§£å†³ï¼š æŸ¥çœ‹masterçš„çŠ¶æ€show master status slaveåº“æ‰§è¡Œï¼š123mysql&gt;stop slave;mysql&gt;change master to master_log_file='ä¾‹å¦‚mysql-bin.000005',master_log_pos=æ•°å­—;mysql&gt;start slave;","link":"/2018/09/29/MySQLä¸»ä»å¤åˆ¶æ­å»º/"},{"title":"Shellå˜é‡","text":"ä»»ä½•ç¼–ç¨‹è¯­è¨€ä¸­éƒ½ä¼šå­˜åœ¨å˜é‡ï¼ŒåŒ…æ‹¬å¦‚ä½•å£°æ˜ï¼Œå‘½ååŠä½¿ç”¨é”€æ¯å˜é‡ï¼Œå˜é‡æ ¹æ®ä½œç”¨èŒƒå›´ä¹Ÿè¢«åˆ†ä¸ºå±€éƒ¨å˜é‡åŠå…¨éƒ¨å˜é‡ã€‚ å¦‚ä½•å®šä¹‰å˜é‡å‘½åè§„åˆ™ åªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œä¸”ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ ä¸èƒ½å­˜åœ¨ç©ºæ ¼ ä¸èƒ½æ˜¯bashä¸­çš„å…³é”®å­— å¤§å°å†™åŒºåˆ† é•¿åº¦ä¸é™åˆ¶ å®šä¹‰1name=\"flyhero\" å®šä¹‰å˜é‡ç›´æ¥ä½¿ç”¨å˜é‡åï¼Œç”¨â€=â€å·ç›´æ¥èµ‹å€¼,æ— éœ€æŒ‡å®šå˜é‡ç±»å‹ï¼Œä¸”æ³¨æ„ï¼šå˜é‡åå’Œâ€=â€ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ è¯­å¥èµ‹å€¼ ä¸Šé¢çš„ä¾‹å­æ˜¯ç›´æ¥èµ‹å€¼çš„æ–¹å¼ï¼Œè¿˜æœ‰è¯­å¥èµ‹å€¼çš„æ–¹å¼ï¼Œå¦‚ï¼š12com=$(ls -l)echo $com å•å¼•å·ï¼ŒåŒå¼•å·å’Œæ— å¼•å·çš„åŒºåˆ« å•å¼•å·ï¼šä¼šå°†å•å¼•å·çš„å†…å®¹åŸå°ä¸åŠ¨çš„è¾“å‡ºï¼Œå³ä½¿æœ‰å˜é‡ä¹Ÿä¸ä¼šè¾“å‡ºã€‚ åŒå¼•å·ï¼šå¦‚æœå‘¢ç»’ä¸­æœ‰å‘½ä»¤æˆ–å˜é‡ç­‰ï¼Œå°†ä¼šæŠŠè¿™äº›è§£æå‡ºæ¥ï¼Œç„¶åè¾“å‡ºã€‚ æ— å¼•å·ï¼šå’ŒåŒå¼•å·ç›¸åŒï¼Œä½†å€¼ä¸­ä¸èƒ½åŒ…å«ç©ºæ ¼ï¼Œå¦åˆ™ä¼šå‡ºé”™ï¼› å¦‚ä½•ä½¿ç”¨å˜é‡ä½¿ç”¨å˜é‡æ—¶åªéœ€è¦åœ¨å˜é‡å‰åŠ å…¥â€$â€ç¬¦å·ï¼š123my_name=\"flyhero\"echo $my_nameecho $&#123;my_name&#125; ä½¿ç”¨å˜é‡åŠ å’Œä¸åŠ {}çš„åŒºåˆ«ï¼šåŠ {}åªæ˜¯ä¸ºäº†å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œã€‚å¦‚ï¼š echo $my_nameloveyouè¾“å‡ºä¸ºç©ºï¼Œä»–ä¼šæŠŠ$åæ•´ä¸ªå½“åšä¸€ä¸ªå˜é‡ï¼Œä½†å¹¶ä¸å­˜åœ¨è¿™ä¸ªå˜é‡ã€‚ å˜é‡çš„åªè¯»ï¼ŒæŸ¥çœ‹å’Œåˆ é™¤ åªè¯» é€šè¿‡readonlyå‘½ä»¤ä¿®é¥°å˜é‡ï¼Œå¯ä»¥ä½¿å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚12readonly name=\"hi flyhero\"name=\"change this val\" æ‰§è¡Œåä¼šå‡ºé”™ï¼šThis variable is read only. æŸ¥çœ‹å˜é‡ ä½¿ç”¨setå¯ä»¥æŸ¥çœ‹æ‰€æœ‰å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦æ¥æŸ¥çœ‹ã€‚1set | grep name åˆ é™¤ ä½¿ç”¨unsetå‘½ä»¤å¯ä»¥åˆ é™¤å˜é‡ã€‚(ä¸èƒ½åˆ é™¤åªè¯»å˜é‡)1unset name å˜é‡çš„ç§ç±» å±€éƒ¨å˜é‡ åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰çš„shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellç¨‹åºæ˜¯æ— æ³•è®¿é—®çš„ã€‚ ç¯å¢ƒå˜é‡ æ‰€æœ‰çš„ç¨‹åºéƒ½èƒ½è®¿é—®çš„çš„å˜é‡ï¼Œå› ä¸ºæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸çš„è¿è¡Œã€‚shellè„šæœ¬ä¸­ä¹Ÿèƒ½å®šä¹‰ç¯å¢ƒå˜é‡ã€‚ ä½ç½®å˜é‡ ä½ç½®å˜é‡ä¹Ÿå«ä½ç½®å‚æ•°ï¼Œä¸»è¦ä½œç”¨æ˜¯æŠŠå‘½ä»¤å’Œå‘½ä»¤çš„å‚æ•°ä¼ é€’åˆ°å½“å‰æ‰§è¡Œçš„è„šæœ¬ä¸­ã€‚1./start.sh param1 param2 ä½ç½®å˜é‡ç”¨$næ¥è·å–ï¼Œnè¡¨ç¤º1-9çš„è‡ªç„¶æ•°ï¼Œå¤§äº9çš„è¯ï¼Œè¦${n}æ¥å–ã€‚å…¶ä¸­param1æ˜¯$1,param2æ˜¯$2 ç‰¹æ®Šå˜é‡ è¿™äº›å˜é‡åœ¨ä»¥å¼€å§‹æ‰§è¡Œè„šæœ¬æ—¶å°±è¢«è®¾ç½®äº†ï¼Œä¸”æ— æ³•ä¿®æ”¹ã€‚ å˜é‡ å«ä¹‰ $0 å½“å‰è„šæœ¬çš„æ–‡ä»¶å $n ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ã€‚n æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œè¡¨ç¤ºç¬¬å‡ ä¸ªå‚æ•°ã€‚ä¾‹å¦‚ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯$1ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯$2ã€‚ $# ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€‚ $* ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚ $@ ä¼ é€’ç»™è„šæœ¬æˆ–å‡½æ•°çš„æ‰€æœ‰å‚æ•°ã€‚è¢«åŒå¼•å·(â€œ â€œ)åŒ…å«æ—¶ï¼Œä¸ $* ç¨æœ‰ä¸åŒï¼Œä¸‹é¢å°†ä¼šè®²åˆ°ã€‚ $? ä¸Šä¸ªå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ï¼Œæˆ–å‡½æ•°çš„è¿”å›å€¼ã€‚ $$ å½“å‰Shellè¿›ç¨‹IDï¼Œå¯¹äº Shell è„šæœ¬ï¼Œå°±æ˜¯è¿™äº›è„šæœ¬æ‰€åœ¨çš„è¿›ç¨‹IDã€‚ $! ä¸Šä¸€ä¸ªåå°æŒ‡ä»¤çš„pid æ ·ä¾‹1234567#!/bash/bin echo \"ä¸Šä¸ªè„šæœ¬/å‘½ä»¤çš„è¿”å›å€¼ï¼š\"$? echo \"è„šæœ¬çš„åç§°æ˜¯ï¼š\"$0 echo \"å‚æ•°åˆ—è¡¨ï¼š\"$@ echo \"å‚æ•°çš„ä¸ªæ•°ï¼š\"$# echo \"å½“å‰shellçš„pid:\"$$ echo \"ä¸Šä¸ªåå°å‘½ä»¤çš„pid:\"$! æ‰§è¡Œå‘½ä»¤ï¼š 12345678./teshu.sh num1 num2ä¸Šä¸ªè„šæœ¬/å‘½ä»¤çš„è¿”å›å€¼ï¼š0è„šæœ¬çš„åç§°æ˜¯ï¼š./teshu.shå‚æ•°åˆ—è¡¨ï¼šnum1 num2å‚æ•°çš„ä¸ªæ•°ï¼š2å½“å‰shellçš„pid:49900ä¸Šä¸ªåå°å‘½ä»¤çš„pid:","link":"/2018/05/06/Shellå˜é‡/"},{"title":"Shellç®€ä»‹","text":"Shellå¯ç†è§£ä¸ºä¸€ç§å‘½ä»¤è¯­è¨€è§£é‡Šå™¨ï¼Œä»–æ‹¥æœ‰è‡ªå·±å†…å»ºçš„shellå‘½ä»¤é›†ï¼Œä»–è´Ÿè´£æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„å‘½ä»¤é€å»linux å†…æ ¸æ‰§è¡Œã€‚ ä»€ä¹ˆæ˜¯Shell?é€šä¿—çš„è¯´ï¼šæˆ‘ä»¬å¿…é¡»é€šè¿‡Shellå°†æˆ‘ä»¬è¾“å…¥çš„å‘½ä»¤ä¸Kernelæ²Ÿé€šï¼Œè®©Kernelå¯ä»¥æ§åˆ¶ç¡¬ä»¶æ¥æ­£ç¡®å·¥ä½œã€‚ Shellè„šæœ¬ Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯ä¸€ç§ä¸º shell ç¼–å†™çš„è„šæœ¬ç¨‹åºã€‚ shellè„šæœ¬æ–‡ä»¶æ‰©å±•åä¸€èˆ¬.shç»“å°¾ï¼Œshå³ä»£è¡¨shellï¼Œè¿™æ ·åšæ›´åŠ è§åçŸ¥æ„ã€‚ Shellçš„ç§ç±» /bin/sh (å·²ç»è¢« /bin/bash æ‰€å–ä»£) /bin/bash (å°±æ˜¯ Linux é»˜è®¤çš„ shell) /bin/ksh (Kornshell ç”± AT&amp;T Bell lab. å‘å±•å‡ºæ¥çš„ï¼Œå…¼å®¹äº bash) /bin/csh (å·²ç»è¢« /bin/tcsh æ‰€å–ä»£) /bin/tcsh (æ•´åˆ C Shell ï¼Œæä¾›æ›´å¤šçš„åŠŸèƒ½) /bin/zsh (åŸºäº ksh å‘å±•å‡ºæ¥çš„ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§çš„ shell) é€šè¿‡æ‰§è¡Œä¸‹é¢å‘½ä»¤æŸ¥çœ‹åˆ°å½“å‰ç³»ç»Ÿé»˜è®¤çš„shell12echo $SHELL/bin/bash Shellè„šæœ¬ç»„æˆï¼šç¬¬ä¸€è¡Œï¼šè¡¨ç¤ºä»¥é‚£ç§shellæ–¹å¼æ¥è¿è¡Œ 1#!/bin/bash #! æ˜¯ä¸€ç§çº¦å®šçš„æ ‡è®° /bin/bash è¡¨ç¤ºshellçš„å®Œå…¨è·¯å¾„ æ‰§è¡Œæ–¹å¼ ä½œä¸ºå¯æ‰§è¡Œç¨‹åº ç›´æ¥æ‰§è¡Œshellè„šæœ¬æ–‡ä»¶12chmod +x ./start.sh # ä½¿æ–‡ä»¶å…·æœ‰æ‰§è¡Œæƒé™./start.sh # è¿è¡Œè„šæœ¬ 1.ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¦‚ä¸Š./ è¡¨ç¤ºåœ¨å½“å‰è·¯å¾„ä¸‹å¯»æ‰¾æ–‡ä»¶ 2.ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ï¼š/home/start.sh ä½œä¸ºè§£é‡Šå™¨å‚æ•° ç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼ŒæŠŠè„šæœ¬æ–‡ä»¶ä½œä¸ºå‚æ•° 1/bin/bash start.sh è¿™ç§æ–¹å¼ä¸‹ï¼Œè„šæœ¬æ–‡ä»¶ä¸­ä¸éœ€è¦åœ¨ç¬¬ä¸€è¡ŒæŒ‡å®šå“ªç§shell. æ ·ä¾‹12345#!/bin/bash# å•ç‹¬ä½¿ç”¨ä»£è¡¨æ³¨é‡Š# echo æ§åˆ¶å°è¾“å‡ºecho \"hello world !\"","link":"/2018/04/29/Shellç®€ä»‹/"},{"title":"Solrçš„æ­å»ºä¸ä½¿ç”¨ï¼ˆä¸€ï¼‰","text":"ç”±äºå‚ä¸çš„é¡¹ç›®ä¸æ”¿åºœéƒ¨é—¨æœ‰å…³ï¼Œæ•°æ®é‡éå¸¸å¤§ï¼Œä»…ä»…ä¾é æ•°æ®åº“sqlè¯­å¥æ¥æ£€ç´¢æ•°æ®æ˜¯å¾ˆè€—æ—¶çš„ä¸€ä»¶äº‹ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©äº†ä½¿ç”¨solræ¥åšå…¨æ–‡æ£€ç´¢ã€‚ ç®€ä»‹Solræ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ï¼Œé‡‡ç”¨Java5å¼€å‘ï¼ŒåŸºäºLuceneçš„å…¨æ–‡æœç´¢æœåŠ¡å™¨ã€‚åŒæ—¶å¯¹å…¶è¿›è¡Œäº†æ‰©å±•ï¼Œæä¾›äº†æ¯”Luceneæ›´ä¸ºä¸°å¯Œçš„æŸ¥è¯¢è¯­è¨€ï¼ŒåŒæ—¶å®ç°äº†å¯é…ç½®ã€å¯æ‰©å±•å¹¶å¯¹æŸ¥è¯¢æ€§èƒ½è¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªå®Œå–„çš„åŠŸèƒ½ç®¡ç†ç•Œé¢ï¼Œæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„å…¨æ–‡æœç´¢å¼•æ“ã€‚ æ­å»ºæ­å»ºå‰æwindowsæˆ–linuxï¼›JDK1.5ä»¥ä¸Šï¼›Tomcat(å¯é€‰)ï¼› Windowsä¸‹æ­å»ºä¸‹è½½zipåŒ…å®˜ç½‘åœ°å€ï¼šhttp://lucene.apache.org/solr/å„ç‰ˆæœ¬æ±‡æ€»ï¼šhttp://archive.apache.org/dist/lucene/solr/ æ–¹å¼ä¸€ solrè‡ªå¸¦jettyæœåŠ¡å™¨è§£å‹zipåŒ…åˆ°ä»»æ„ä½ç½®ï¼Œcmdè¿›å…¥åˆ°.\\solr-5.2.1\\binç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼šsolr startç„¶åä½ ä¼šåœ¨dosç•Œé¢çœ‹åˆ°ï¼š12Starting Solr on port 8983 from D:\\solr-5.2.1\\serverDirect your Web browser to http://localhost:8983/solr to visit the Solr Admin UI ç„¶åæ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:8983/solr solrè„šæœ¬å‘½ä»¤ï¼š1234å‰å°è¿è¡Œ bin/solr start -fæŒ‡å®šç«¯å£å· bin/solr start -p 9000ï¼ˆé»˜è®¤ç«¯å£å·8983ï¼‰æŸ¥çœ‹solrçŠ¶æ€ bin/solr statusç»“æŸsolr bin/solr stop -p 9000 æ–¹å¼äºŒ åœ¨Tomcatä¸‹step1:å°†.\\solr\\server\\webappä¸‹çš„solr.warå¤åˆ¶åˆ°tomcatä¸‹çš„webappsé‡Œç„¶åå¯åŠ¨tomcatå°†è‡ªåŠ¨è§£å‹waråŒ…ï¼Œè§£å‹åå°†waråŒ…åˆ é™¤ã€‚ step2:ä¿®æ”¹.\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INFä¸‹çš„web.xmlåœ¨æ–‡ä»¶ä¸­å–æ¶ˆå¦‚ä¸‹çš„æ³¨é‡Šï¼š12345&lt;env-entry&gt; &lt;env-entry-name&gt;solr/home&lt;/env-entry-name&gt; &lt;env-entry-value&gt;/put/your/solr/home/here&lt;/env-entry-value&gt; &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;&lt;/env-entry&gt; å…¶ä¸­/put/your/solr/home/hereä¿®æ”¹ä¸º.\\solr-5.2.1\\server\\solrè¿™ä¸ªè·¯å¾„ã€‚ step3: å°†\\solr-5.2.1\\server\\lib\\extä¸‹çš„æ‰€æœ‰jaråŒ…å¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\libä¸‹ï¼› å°†\\solr-5.2.1\\server\\resourcesä¸‹çš„log4j.propertieså¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\classesä¸‹ã€‚ï¼ˆè‹¥æ— classesæ–°å»ºå³å¯ï¼‰ï¼› é‡å¯tomcatåï¼Œæ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:8080/solr çœ‹åˆ°ç•Œé¢å³ä¸ºæˆåŠŸéƒ¨ç½²ã€‚ åˆ›å»ºcore å…³é—­tomatï¼Œå°†\\solr-5.2.1\\dist\\ä¸‹çš„solr-dataimporthandler-5.2.1.jarå’Œsolr-dataimporthandler-extras-5.2.1.jarå¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\libç›®å½•ä¸‹ï¼ˆè¿™ä¸¤ä¸ªåŒ…ä¸»è¦æŠŠæ•°æ®ä»å…³ç³»å‹æ•°æ®åº“å¯¼å…¥åˆ°solræœåŠ¡å™¨ç”¨åˆ°ï¼‰ï¼› è¿›å…¥\\solr-5.2.1\\server\\solrç›®å½•ä¸‹ï¼Œåˆ›å»ºåä¸ºtestçš„æ–‡ä»¶å¤¹ï¼› å°†\\solr-5.2.1\\example\\example-DIH\\solr\\solrä¸‹çš„confæ–‡ä»¶å¤¹å¤åˆ¶åˆ°testæ–‡ä»¶å¤¹ä¸‹ï¼› åœ¨testæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºåä¸ºdataçš„æ–‡ä»¶å¤¹ï¼› å¯åŠ¨tomcatï¼Œè¿›å…¥solrç•Œé¢ï¼Œç‚¹å‡»Add Coreåˆ›å»ºå¦‚ä¸‹å›¾ï¼š å­¦ä¹ èµ„æºä»¥ä¸‹èµ„æºæ¥è‡ªï¼šhttp://www.aboutyun.com/thread-10830-1-1.html solråº”ç”¨ä¹‹ç”µå•†æœç´¢é“¾æ¥ï¼šhttp://pan.baidu.com/s/1vXBbg å¯†ç ï¼š57r8 solrå¸¸ç”¨ã€åŸºæœ¬åŠŸèƒ½çš„åœ¨ç”µå•†ä¸­çš„åº”ç”¨é“¾æ¥ï¼šhttp://pan.baidu.com/s/1i303cO1 å¯†ç ï¼škulc DIHå…³ç³»å‹æ•°æ®åº“åˆ›å»ºç´¢å¼•é“¾æ¥ï¼šhttp://pan.baidu.com/s/1ntl1OE1 å¯†ç ï¼šfsn0 Solråº”ç”¨ä¹‹æ—¥å¿—ç´¢å¼•ç³»ç»Ÿé“¾æ¥ï¼šhttp://pan.baidu.com/s/1kT3gNWj å¯†ç ï¼šfp4a ä¼ä¸šæœç´¢ä»‹ç»å…¥é—¨ç¯‡(ç¬¬äºŒé›†IKåˆ†è¯é…ç½®forSolr4.3)ä¸‹é“¾æ¥ï¼šhttp://pan.baidu.com/s/1qW9IoZ6 å¯†ç ï¼šc3gt ä¼ä¸šæœç´¢ä»‹ç»é“¾æ¥ï¼šhttp://pan.baidu.com/s/1ntKDIjB å¯†ç ï¼šc1x2 luceneæ‰“åˆ†_clipé“¾æ¥ï¼šhttp://pan.baidu.com/s/1o63GExG å¯†ç ï¼šlfgw åº”ç”¨ç­”ç–‘ï¼ˆä¸Šï¼‰_çŸ¥è¯†è®²è§£é“¾æ¥ï¼šhttp://pan.baidu.com/s/1bnCkAwZ å¯†ç ï¼š9hkt åº”ç”¨ç­”ç–‘ï¼ˆä¸‹ï¼‰_æ¡ˆä¾‹åˆ†æé“¾æ¥ï¼šhttp://pan.baidu.com/s/1dDEiy9F å¯†ç ï¼š4kcs ä½¿ç”¨solrJè¿›è¡Œç´¢å¼•çš„åˆ›å»ºå’ŒæŸ¥è¯¢_clipé“¾æ¥ï¼šhttp://pan.baidu.com/s/1jG66DM2 å¯†ç ï¼šwbo1","link":"/2016/06/07/Solrçš„æ­å»ºä¸ä½¿ç”¨ï¼ˆä¸€ï¼‰/"},{"title":"POIé«˜æ•ˆå¯¼å‡ºç™¾ä¸‡çº§Excelæ•°æ®","text":"åœ¨ä¸€ä¸ªå…·æœ‰ç»Ÿè®¡åŠŸèƒ½çš„ç³»ç»Ÿä¸­ï¼Œå¯¼å‡ºexcelåŠŸèƒ½å‡ ä¹æ˜¯ä¸€å®šçš„ï¼Œå¦‚ä½•å¯¼å‡ºexcelï¼Ÿå¯¼å‡ºçš„æ•°æ®æœ‰å¤šå°‘ï¼Ÿå¦‚ä½•é«˜æ•ˆçš„å¯¼å‡ºï¼Ÿ Excelç®€ä»‹ä»€ä¹ˆæ˜¯excelæ—§ä¸ç”¨ä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦è¯´æ˜ä¸åŒç‰ˆæœ¬ä¸‹æ¯ä¸ªsheetä¸‹çš„è¡Œåˆ—é™åˆ¶ã€‚ ç‰ˆæœ¬åŒºé—´ è¡Œæ•° åˆ—æ•° ç”Ÿæˆæ–‡ä»¶åç¼€ Excel 2003åŠä»¥ä¸‹ 65535 256 xls Excel 2007åŠä»¥ä¸Š 1048576 16384 xlsx ç”±ä¸Šé¢å¯çŸ¥ Excel 2003åŠä»¥ä¸‹æ˜¯æ— æ³•å®ç°å•sheetç™¾ä¸‡çº§çš„æ•°æ®ã€‚ Apache POIç®€ä»‹Apache POI ç®€ä»‹æ˜¯ç”¨Javaç¼–å†™çš„å…è´¹å¼€æºçš„è·¨å¹³å°çš„ Java APIï¼ŒApache POIæä¾›APIç»™Javaç¨‹å¼å¯¹Microsoft Officeï¼ˆExcelã€WORDã€PowerPointã€Visioç­‰ï¼‰æ ¼å¼æ¡£æ¡ˆè¯»å’Œå†™çš„åŠŸèƒ½ã€‚POIä¸ºâ€œPoor Obfuscation Implementationâ€çš„é¦–å­—æ¯ç¼©å†™ï¼Œæ„ä¸ºâ€œå¯æ€œçš„æ¨¡ç³Šå®ç°â€ã€‚ å¸¸ç”¨ç±» HSSF ï¼ æä¾›è¯»å†™Microsoft Excel XLSæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ XSSF ï¼ æä¾›è¯»å†™Microsoft Excel OOXML XLSXæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ SXSSF ï¼ ä¸€ç§åŸºäºXSSFçš„ä½å†…å­˜å ç”¨çš„APIï¼ˆ3.8ç‰ˆæœ¬å¼€å§‹å‡ºç°ï¼‰ã€‚ HWPF ï¼ æä¾›è¯»å†™Microsoft Word DOC97æ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ XWPF ï¼ æä¾›è¯»å†™Microsoft Word DOC2003æ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ HSLF ï¼ æä¾›è¯»å†™Microsoft PowerPointæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ HDGF ï¼ æä¾›è¯»Microsoft Visioæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ HPBF ï¼ æä¾›è¯»Microsoft Publisheræ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ HSMF ï¼ æä¾›è¯»Microsoft Outlookæ ¼å¼æ¡£æ¡ˆçš„åŠŸèƒ½ã€‚ æˆ‘ä»¬è¿™é‡Œæ˜¯å¯¼å‡ºExcelï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ˜¯å‰ä¸‰ä¸ªã€‚ å¯¼å‡ºç­–ç•¥æ–¹æ¡ˆ ä½¿ç”¨XSSFå’ŒSXSSFåˆ†åˆ«å¯¼å…¥1w,10w,100wæ•°æ® ä½¿ç”¨SXSSFï¼ŒSXSSFä»¥10wåˆ†é¡µï¼ŒSXSSFå¤šçº¿ç¨‹ä»¥10wåˆ†é¡µå¯¼å…¥100wæ•°æ® æ€§èƒ½å¯¹æ¯” æ—¶é—´ä¸åŒ…å«ç½‘ç»œè€—æ—¶ ç±»å‹ 1wæ¡/æ—¶é—´ 10wæ¡/æ—¶é—´ 100wæ¡/æ—¶é—´ XSSF 1331ms 10496ms å°å¿ƒç”µè„‘ğŸ’¥ SXSSF 1568ms 600ms 5824ms ç±»å‹ 100wæ¡/æ—¶é—´ 200w/æ—¶é—´ SXSSF 5824ms è¶…è¿‡æœ€å¤§è¡Œæ•° SXSSF Page 6040ms 12473ms SXSSF Page Thread 3410ms 6217ms æ€»ç»“æ–¹æ¡ˆä¸€ æ•°æ®åœ¨ä¸‡æ¡æ—¶XSSFå’ŒSXSSFç›¸å·®ä¸å¤§ æ•°æ®ä¸Šåä¸‡åSXSSFæ€§èƒ½å¼€å§‹çªå‡º æ•°æ®åˆ°è¾¾ç™¾ä¸‡æ—¶ï¼ŒXSSFå·²ä¸é€‚åˆä½¿ç”¨ æ–¹æ¡ˆäºŒ ä¸è¿›è¡Œåˆ†è¡¨æ—¶ï¼ŒSXSSFæœ€å¤šå¯å­˜å‚¨1048576è¡Œ ç™¾ä¸‡çº§æ•°æ®åˆ†è¡¨å­˜å‚¨æ—¶ï¼Œä½¿ç”¨å¤šçº¿ç¨‹å¯¼å‡ºå‡ ä¹æ˜¯ä¸ä½¿ç”¨å¤šçº¿ç¨‹å¯¼å‡ºçš„ä¸€åŠæ—¶é—´ æœ€ç»ˆæˆ‘å¾—å‡ºä¸€ä¸ªå¯¼å‡ºç™¾ä¸‡çº§æ•°æ®çš„æœ€é«˜æ•ˆæ–¹æ¡ˆï¼šå¤šçº¿ç¨‹åˆ†è¡¨å¯¼å‡º å®æˆ˜ controllerå±‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273@RestController @RequestMapping(\"export\")public class ReportController &#123; public static final String[] TITLE = new String[]&#123;\"ç¬¬1åˆ—\", \"ç¬¬2åˆ—\", \"ç¬¬3åˆ—\", \"ç¬¬4åˆ—\", \"ç¬¬5åˆ—\"&#125;; public static final String SHEET_NAME = \"page1\"; @RequestMapping(value = \"/sxssf/page/thread\") @ResponseBody public void exportSXSSFWorkbookByPageThread(HttpServletResponse response, Integer num) throws Exception &#123; //excelæ–‡ä»¶å String fileName = System.currentTimeMillis() + \".xlsx\"; //sheetå if (Objects.isNull(num)) &#123; num = 65536; &#125; String[][] content = buildContent(num); long start = System.currentTimeMillis(); SXSSFWorkbook wb = ExcelUtil.getSXSSFWorkbookByPageThread(SHEET_NAME, TITLE, content, null); long millis = System.currentTimeMillis() - start; long second = millis / 1000; System.out.println(\"SXSSF Page Thread å¯¼å‡º\" + num + \"æ¡æ•°æ®ï¼ŒèŠ±è´¹ï¼š\" + second + \"s/ \" + millis + \"ms\"); writeAndClose(response, fileName, wb); wb.dispose(); &#125; /** * æ„å»ºå†…å®¹ * @param num * @return */ private String[][] buildContent(Integer num) &#123; String[][] content = new String[num][5]; for (int i = 0; i &lt; content.length; i++) &#123; content[i][0] = \"1\"; content[i][1] = \"2\"; content[i][2] = \"3\"; content[i][3] = \"4\"; content[i][4] = \"5\"; &#125; return content; &#125; private void writeAndClose(HttpServletResponse response, String fileName, Workbook wb) &#123; try &#123; this.setResponseHeader(response, fileName); OutputStream os = response.getOutputStream(); wb.write(os); os.flush(); os.close(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; public void setResponseHeader(HttpServletResponse response, String fileName) &#123; try &#123; try &#123; fileName = new String(fileName.getBytes(), \"UTF-8\"); &#125; catch (UnsupportedEncodingException e) &#123; e.printStackTrace(); &#125; response.setContentType(\"application/octet-stream;charset=ISO8859-1\"); response.setHeader(\"Content-Disposition\", \"attachment;filename=\" + fileName); response.addHeader(\"Pargam\", \"no-cache\"); response.addHeader(\"Cache-Control\", \"no-cache\"); &#125; catch (Exception ex) &#123; ex.printStackTrace(); &#125; &#125;&#125; å·¥å…·ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class ExcelUtil &#123; public static final int PER_SHEET_LIMIT = 100000; public static SXSSFWorkbook getSXSSFWorkbookByPageThread(String sheetName, String[] title, String[][] values) &#123; SXSSFWorkbook wb = new SXSSFWorkbook(); int pageNum = values.length / PER_SHEET_LIMIT; int lastCount = values.length % PER_SHEET_LIMIT; if (values.length &gt; PER_SHEET_LIMIT) &#123; CellStyle style = wb.createCellStyle(); CountDownLatch downLatch; Executor executor; if (lastCount == 0) &#123; downLatch = new CountDownLatch(pageNum); executor = Executors.newFixedThreadPool(pageNum); &#125; else &#123; downLatch = new CountDownLatch(pageNum + 1); executor = Executors.newFixedThreadPool(pageNum + 1); &#125; for (int c = 0; c &lt;= pageNum; c++) &#123; int rowNum = PER_SHEET_LIMIT; if (c == pageNum) &#123; if (lastCount == 0) &#123; continue; &#125; rowNum = lastCount; &#125; Sheet sheet = wb.createSheet(\"page\" + c); executor.execute(new PageTask(downLatch, sheet, title, style, rowNum, values)); &#125; try &#123; downLatch.await(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; return wb; &#125;&#125; åˆ†è¡¨ä»»åŠ¡ç±» 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647public class PageTask implements Runnable &#123; private CountDownLatch countDownLatch; private Sheet sheet; private String[] title; private CellStyle style; private int b; private String[][] values; public PageTask(CountDownLatch countDownLatch, Sheet sheet, String[] title, CellStyle style, int b, String[][] values) &#123; this.countDownLatch = countDownLatch; this.sheet = sheet; this.title = title; this.style = style; this.b = b; this.values = values; &#125; @Override public void run() &#123; try &#123; Row row = sheet.createRow(0); Cell cell = null; for (int i = 0; i &lt; title.length; i++) &#123; cell = row.createCell(i); cell.setCellValue(title[i]); cell.setCellStyle(style); &#125; for (int i = 0; i &lt; b; i++) &#123; row = sheet.createRow(i + 1); for (int j = 0; j &lt; values[i].length; j++) &#123; row.createCell(j).setCellValue(values[i][j]); &#125; &#125; &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; finally &#123; if (countDownLatch != null) &#123; countDownLatch.countDown(); &#125; &#125; &#125;&#125;","link":"/2018/10/10/POIé«˜æ•ˆå¯¼å‡ºç™¾ä¸‡çº§Excelæ•°æ®/"},{"title":"Redisé›†ç¾¤æ­å»º","text":"Redisæ˜¯ä½¿ç”¨ç¼“å­˜å¿…ä¸å¯å°‘çš„æœåŠ¡ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºredisè¯»å†™é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ”¯æŒçš„æ•°æ®ç±»å‹æ¯”è¾ƒå¤šã€‚ ç®€ä»‹Redis æ˜¯ä¸€ä¸ªå¼€æºçš„ key-value å­˜å‚¨ç³»ç»Ÿï¼Œç”±äºå‡ºä¼—çš„æ€§èƒ½ï¼Œå¤§éƒ¨åˆ†äº’è”ç½‘ä¼ä¸šéƒ½ç”¨æ¥åšæœåŠ¡å™¨ç«¯ç¼“å­˜ã€‚Redis åœ¨3.0ç‰ˆæœ¬å‰åªæ”¯æŒå•å®ä¾‹æ¨¡å¼ï¼Œè™½ç„¶æ”¯æŒä¸»ä»æ¨¡å¼ã€å“¨å…µæ¨¡å¼éƒ¨ç½²æ¥è§£å†³å•ç‚¹æ•…éšœï¼Œä½†æ˜¯ç°åœ¨äº’è”ç½‘ä¼ä¸šåŠ¨è¾„å¤§å‡ ç™¾Gçš„æ•°æ®ï¼Œå¯å®Œå…¨æ˜¯æ²¡æ³•æ»¡è¶³ä¸šåŠ¡çš„éœ€æ±‚ï¼Œæ‰€ä»¥ï¼ŒRedis åœ¨ 3.0 ç‰ˆæœ¬ä»¥åå°±æ¨å‡ºäº†é›†ç¾¤æ¨¡å¼ã€‚ èŠ‚ç‚¹åˆ—è¡¨ Host IP Software Port OS Master/Slave server-1 192.168.1.1 Redis 3.2.2 7000 CentOS 6.8 Master server-2 192.168.1.2 Redis 3.2.2 7001 CentOS 6.8 Master server-3 192.168.1.3 Redis 3.2.2 7002 CentOS 6.8 Master server-4 192.168.1.4 Redis 3.2.2 7003 CentOS 6.8 Slave server-5 192.168.1.5 Redis 3.2.2 7004 CentOS 6.8 Slave server-6 192.168.1.6 Redis 3.2.2 7005 CentOS 6.8 Slave å®‰è£…Redis123456# wget http://download.redis.io/releases/redis-3.2.2.tar.gz# tar -zxvf redis-3.2.2.tar.gz -C /usr/local/# cd /usr/local/# mv redis-3.2.2 redis-cluster# cd redis-cluster &amp; mkdir -p 7000/data# cp /usr/local/redis-cluster/* /usr/local/redis-cluster/7000 ç¼–è¯‘è§£å‹åçš„redisæ˜¯æ²¡æœ‰å¯åŠ¨redis-serverç­‰å‘½ä»¤çš„ï¼Œæ‰€ä»¥éœ€è¦makeç¼–è¯‘ã€‚ 123456789#å…ˆç¡®ä¿å®‰è£…äº†makeå‘½ä»¤#makeæ˜¯gccçš„ç¼–è¯‘å™¨#å®‰è£…ï¼šyum -y install gcc automake autoconf libtool make#å®‰è£…g++:yum install gcc gcc-c++cd redis-clustermake &amp;&amp; make install å…¶ä»–æœºå™¨åŒæ ·æ‰§è¡Œä¸Šé¢æ­¥éª¤ï¼ˆæ›´æ”¹ç«¯å£å·ï¼‰ ä¿®æ”¹é…ç½® æ‰“å¼€é…ç½®æ–‡ä»¶ 1vim /usr/local/redis-cluster/7000/conf/redis.conf ä¿®æ”¹ 123456789101112131415161718# å…³é—­ä¿æŠ¤æ¨¡å¼protected-mode no# æ¯ä¸ªèŠ‚ç‚¹çš„ç«¯å£å·port 7000 #redisåå°è¿è¡Œdaemonize yes # ç»‘å®šå½“å‰æœºå™¨IPbind 192.168.1.1# æ•°æ®æ–‡ä»¶å­˜æ”¾ä½ç½®dir /usr/local/redis-cluster/7000/data/ # pid 7000å’Œportè¦å¯¹åº”pidfile /var/run/redis_7000.pid# å¯åŠ¨é›†ç¾¤æ¨¡å¼cluster-enabled yes cluster-config-file /usr/local/redis-cluster/7000/conf/nodes_7000.conf cluster-node-timeout 15000 # aofæ—¥å¿—å¼€å¯ï¼Œæœ‰éœ€è¦å°±å¼€å¯ï¼Œå®ƒä¼šæ¯æ¬¡å†™æ“ä½œéƒ½è®°å½•ä¸€æ¡æ—¥å¿—appendonly yes å…¶ä»–æœºå™¨åŒæ ·ï¼Œåªéœ€è¦æ›´æ”¹å¯¹åº”ç«¯å£ å¯åŠ¨å•èŠ‚ç‚¹æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¿™æ ·å¯åŠ¨ï¼š1/usr/local/redis-cluster/7000/bin/redis-server /usr/local/redis-cluster/7000/conf/redis.conf è®¾ç½®å¯†ç  æ–°å»ºä¸€ä¸ªæ–‡ä»¶redis-auth.confï¼Œå†…å®¹å¦‚ä¸‹,æ›¿æ¢å¯†ç ï¼š 1234config set masterauth [å¯†ç ]config set requirepass [å¯†ç ]auth [å¯†ç ]config rewrite è®¾ç½®å¯†ç  123# cat redis-auth.conf | /usr/local/redis-cluster/7000/bin/redis-cli -c -p 7000# cat redis-auth.conf | /usr/local/redis-cluster/7000/bin/redis-cli -c -p 7001# ä»¥æ­¤ç±»æ¨å…¶ä»–æœºå™¨ æ„å»ºé›†ç¾¤å®‰è£…Rubyæ„å»ºé›†ç¾¤çš„ redis-trib.rb å‘½ä»¤æ˜¯ç”¨Rubyå†™çš„,æ‰€ä»¥éœ€è¦å®‰è£…Rubyè¿è¡Œç¯å¢ƒã€‚ 1234$ yum -y install ruby ruby-devel rubygems rpm-build$ gem install redis$ ruby -vruby 2.3.1p112 (2016-04-26) [x86_64-linux-gnu] å¯åŠ¨é›†ç¾¤123456redis-trib.rb create --replicas 1 192.168.1.1:7000 192.168.1.2:7001 192.168.1.3:7002 192.168.1.4:7003 192.168.1.5:7004 192.168.1.6:7005 å‘½ä»¤ä¸­--replicas 1è¡¨ç¤ºä¸»ä»å¤åˆ¶æ¯”ä¾‹ä¸º 1:1ï¼Œå³ä¸€ä¸ªä¸»èŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªä»èŠ‚ç‚¹ï¼›ç„¶åï¼Œé»˜è®¤ç»™æˆ‘ä»¬åˆ†é…å¥½äº†æ¯ä¸ªä¸»èŠ‚ç‚¹å’Œå¯¹åº”ä»èŠ‚ç‚¹æœåŠ¡ã€‚ éªŒè¯é›†ç¾¤123456$ /usr/local/redis-cluster/7000/bin/redis-cli -c -h 192.168.1.1 -p 7000192.168.1.1:7000 &gt; auth å¯†ç # æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨çš„key192.168.1.1:7000 &gt; get abc192.168.1.4:7003 &gt; å½“è·å–æœ¬èŠ‚ç‚¹ä¸å­˜åœ¨çš„keyæ—¶ï¼Œredisä¼šè·³è½¬åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚ é›†ç¾¤ä¿¡æ¯ 12192.168.1.1:7000&gt; cluster nodes192.168.1.1:7000&gt; cluster info æ’é”™ ç¼–è¯‘redisæ—¶ï¼Œmakeå‡ºé”™è§£å†³ï¼š make MALLOC=libc redis-trib.rb æ„å»ºredisé›†ç¾¤çš„æ—¶å€™é—®é¢˜ï¼šredis requires Ruby version &gt;= 2.2.2è§£å†³ï¼šæ­¤æ—¶éœ€è¦å®‰è£…æ›´é«˜çš„Rubyï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š 12345678910# ä¼šåœ¨/etc/yum.repos.d/ç›®å½•ä¸‹å¤šå‡ºä¸€ä¸ªCentOS-SCLo-scl-rh.repoæº$ yum install centos-release-scl-rh # ç›´æ¥yumå®‰è£…å³å¯ $ yum install rh-ruby23 -y $ scl enable rh-ruby23 bash# æŸ¥çœ‹å®‰è£…ç‰ˆæœ¬$ ruby -v $ gem install redis","link":"/2018/09/29/Redisé›†ç¾¤æ­å»º/"},{"title":"Linuxå¸¸ç”¨å‘½ä»¤","text":"ä½œä¸ºä¸€ä¸ªæœ‰ç†æƒ³æœ‰é€¼æ ¼çš„åç«¯å·¥ç¨‹å¸ˆï¼ŒLinuxçš„å¸¸ç”¨å‘½ä»¤æˆ‘ä»¬æ˜¯å¿…é¡»æŒæ¡çš„ã€‚è¿™å¥è¯åªæ˜¯æ˜¾ç¤ºé€¼æ ¼ï¼ŒçœŸå®çš„æ˜¯ï¼ŒLinuxå‘½ä»¤æ˜¯ä¸ªåå°å·¥ç¨‹å¸ˆå°±å¿…é¡»ä¼šçš„ã€‚( I think so . ) Linuxæƒé™æ–‡ä»¶åŠæ–‡ä»¶å¤¹åˆ›å»ºæ–‡ä»¶å¤¹ mkdir åŠŸèƒ½make directoryçš„ç¼©å†™,ç”¨äºåˆ›å»ºç§å­å®šåç§°çš„ç›®å½•ï¼Œè¦æ±‚å½“å‰ç”¨æˆ·å…·æœ‰å†™æƒé™ã€‚ æ ¼å¼mkdir [é€‰é¡¹] ç›®å½•åç§° å‚æ•° -m, â€“mode=MODE è®¾å®šæƒé™&lt;æ¨¡å¼&gt; (ç±»ä¼¼ chmod) -p, â€“parents è‹¥çˆ¶çº§ç›®å½•ä¸å­˜åœ¨ï¼Œè‡ªåŠ¨åˆ›å»º -v, â€“verbose åˆ›å»ºåæ‰“å°ä¿¡æ¯ ç¤ºä¾‹mkdir -m 777 test1 mkdir -p /home/qfwang/test2 mkdir -v test3 $ mkdir: created directory &apos;test3&apos; åˆ›å»ºæ–‡ä»¶ touch åŠŸèƒ½æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–ä¿®æ”¹æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼Œä¸æ˜¯å¾ˆå¸¸ç”¨ã€‚ æ ¼å¼touch [é€‰é¡¹] æ–‡ä»¶åç§° å‚æ•° -a ä»…æ›´æ”¹å­˜å–æ—¶é—´ -c, â€“no-create ä¸åˆ›å»ºä»»ä½•æ–‡æ¡£ -d, â€“date=STRING ä½¿ç”¨æŒ‡å®šçš„æ—¥æœŸæ—¶é—´ä»£æ›¿å½“å‰æ—¥æœŸæ—¶é—´ -m â€“time=modify åªæ›´æ”¹ä¿®æ”¹æ—¶é—´ -r, â€“reference=FILE ä½¿ç”¨æŒ‡å®šæ–‡æ¡£çš„æ—¶é—´ä»£æ›¿å½“å‰æ—¶é—´ -t STAMP ä½¿ç”¨æŒ‡å®šæ—¶é—´ ç¤ºä¾‹ æ–‡ä»¶çš„å¤åˆ¶ cp åŠŸèƒ½copyçš„ç¼©å†™ï¼Œç”¨äºæ–‡ä»¶çš„å¤åˆ¶ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªæ–‡ä»¶å¤åˆ¶åˆ°åŒä¸€ç›®å½•ä¸‹ã€‚ æ ¼å¼cp [é€‰é¡¹] æºâ€¦â€¦ ç›®æ ‡ å‚æ•° -a ï¼šå°†æ–‡ä»¶çš„ç‰¹æ€§ä¸€èµ·å¤åˆ¶ -p ï¼šè¿åŒæ–‡ä»¶çš„å±æ€§ä¸€èµ·å¤åˆ¶ï¼Œè€Œéä½¿ç”¨é»˜è®¤æ–¹å¼ï¼Œä¸-aç›¸ä¼¼ï¼Œå¸¸ç”¨äºå¤‡ä»½ -i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®æ“ä½œçš„è¿›è¡Œ -r ï¼šé€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨äºç›®å½•çš„å¤åˆ¶è¡Œä¸º -u ï¼šç›®æ ‡æ–‡ä»¶ä¸æºæ–‡ä»¶æœ‰å·®å¼‚æ—¶æ‰ä¼šå¤åˆ¶ ç¤ºä¾‹ cp -a file1 file2 #è¿åŒæ–‡ä»¶çš„æ‰€æœ‰ç‰¹æ€§æŠŠæ–‡ä»¶file1å¤åˆ¶æˆæ–‡ä»¶file2 cp file1 file2 file3 dir #æŠŠæ–‡ä»¶file1ã€file2ã€file3å¤åˆ¶åˆ°ç›®å½•dirä¸­ åˆ—å‡ºæ–‡ä»¶ ls åŠŸèƒ½listçš„ç¼©å†™ï¼Œç”¨äºåˆ—å‡ºå½“å‰æˆ–æŒ‡å®šç›®å½•ä¸‹çš„æ–‡ä»¶åŠæ–‡ä»¶å¤¹- æ ¼å¼ls [é€‰é¡¹] æŒ‡å®šç›®å½• å‚æ•° -l ï¼šåˆ—å‡ºé•¿æ•°æ®ä¸²ï¼ŒåŒ…å«æ–‡ä»¶çš„å±æ€§ä¸æƒé™æ•°æ®ç­‰ -a ï¼šåˆ—å‡ºå…¨éƒ¨çš„æ–‡ä»¶ï¼Œè¿åŒéšè—æ–‡ä»¶ï¼ˆå¼€å¤´ä¸º.çš„æ–‡ä»¶ï¼‰ä¸€èµ·åˆ—å‡ºæ¥ï¼ˆå¸¸ç”¨ï¼‰ -d ï¼šä»…åˆ—å‡ºç›®å½•æœ¬èº«ï¼Œè€Œä¸æ˜¯åˆ—å‡ºç›®å½•çš„æ–‡ä»¶æ•°æ® -h ï¼šå°†æ–‡ä»¶å®¹é‡ä»¥è¾ƒæ˜“è¯»çš„æ–¹å¼ï¼ˆGBï¼ŒkBç­‰ï¼‰åˆ—å‡ºæ¥ -R ï¼šè¿åŒå­ç›®å½•çš„å†…å®¹ä¸€èµ·åˆ—å‡ºï¼ˆé€’å½’åˆ—å‡ºï¼‰ï¼Œç­‰äºè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šæ˜¾ç¤ºå‡ºæ¥ ç¤ºä¾‹ 12345678root@java:~$ ls -ltotal 3240drwxrwxr-x 2 root root 4096 Jun 26 02:59 dashboarddrwxrwxr-x 7 root root 4096 Aug 29 03:33 dashboard-srcroot@java:~$ ls -hltotal 3.2Mdrwxrwxr-x 2 root root 4.0K Jun 26 02:59 dashboarddrwxrwxr-x 7 root root 4.0K Aug 29 03:33 dashboard-src æ–‡ä»¶çš„ç§»åŠ¨ mvmvæ˜¯moveçš„ç¼©å†™ï¼Œè¯¥å‘½ä»¤ç”¨äºç§»åŠ¨æ–‡ä»¶ã€ç›®å½•ã€‚ æ ¼å¼mv [é€‰é¡¹] æŒ‡å®šæ–‡ä»¶/ç›®å½•â€¦â€¦ ç›®æ ‡ç›®å½• å‚æ•° -f ï¼šforceå¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›– -i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›– -u ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸”æ¯”ç›®æ ‡æ–‡ä»¶æ–°ï¼Œæ‰ä¼šæ›´æ–° ç¤ºä¾‹ 123456789~/test Â» ls dfadmin@Java-testjm jm.text------------------------------------------------~/test Â» cp -f jm.text jm/jm1.text dfadmin@Java-test------------------------------------------------~/test Â» cp -i jm.text jm/jm1.text dfadmin@Java-testcp: overwrite 'jm/jm1.text'? y------------------------------------------------~/test Â» cp -u jm.text jm/jm1.text wen","link":"/2018/08/05/Linuxå¸¸ç”¨å‘½ä»¤/"},{"title":"Solrçš„æ­å»ºä¸ä½¿ç”¨ï¼ˆäºŒï¼‰","text":"æ·»åŠ ä¸­æ–‡åˆ†è¯å™¨é¦–å…ˆæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹solrå¯¹ä¸­è‹±æ–‡çš„åˆ†è¯æ•ˆæœï¼šç”±äºsolrå¯¹ä¸­æ–‡åˆ†è¯ä¸å¤ªå‹å¥½ï¼Œéœ€è¦æ·»åŠ ä¸­æ–‡åˆ†è¯å™¨ã€‚ ä¸‹è½½åˆ†è¯å™¨ï¼Œåœ°å€ï¼šhttp://download.csdn.net/detail/u010995578/9402443ï¼› æŠŠjaråŒ…å¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\libè·¯å¾„ä¸‹ï¼› ä¿®æ”¹\\solr-5.2.1\\server\\solr\\test\\confä¸‹çš„schema.xmlæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹ï¼š 12345&lt;!--æ·»åŠ IKä¸­æ–‡åˆ†è¯å™¨--&gt;&lt;fieldType name=&quot;text_ik&quot; class=&quot;solr.TextField&quot;&gt; &lt;analyzer type=&quot;index&quot; useSmart=&quot;false&quot; class=&quot;org.wltea.analyzer.lucene.IKAnalyzer&quot;/&gt; &lt;analyzer type=&quot;query&quot; useSmart=&quot;true&quot; class=&quot;org.wltea.analyzer.lucene.IKAnalyzer&quot;/&gt; &lt;/fieldType&gt; æ‰“å¼€solré¡µé¢ï¼Œæ‰¾åˆ°test_ikå­—æ®µåï¼Œæµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼š æ·»åŠ è‡ªå®šä¹‰è¯åº“ï¼šè§£å‹åˆšæ‰ä¸‹è½½çš„jaråŒ…ï¼Œå¦‚å›¾ï¼š æŠŠext.dicå’ŒIKAnalyzer.cfg.xmlå¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\classesä¸‹ï¼› ç”¨notepad++æ‰“å¼€ext.dicå¯ç¼–è¾‘è‡ªå®šä¹‰çš„è¯ã€‚æœ¬èŠ‚å‚è€ƒ ï¼šhttp://www.superwu.cn/2015/05/08/2134/http://iamyida.iteye.com/blog/2220474?utm_source=tuicool&amp;utm_medium=referralå¯¼å…¥æ•°æ® åŒºåˆ†ä½ è¦ä»ä»€ä¹ˆæ•°æ®åº“å¯¼å…¥ï¼Œä»ä»€ä¹ˆæ•°æ®åº“å¯¼å…¥å°±ä¸‹è½½ä»€ä¹ˆæ•°æ®åº“ç›¸åº”çš„é©±åŠ¨jaråŒ…ï¼› å…³é—­tomatï¼Œå°†ä½ çš„jaråŒ…å¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\libä¸‹ï¼› å°†\\solr-5.2.1\\dist\\ä¸‹çš„solr-dataimporthandler-5.2.1.jarå’Œsolr-dataimporthandler-extras-5.2.1.jarå¤åˆ¶åˆ°\\apache-tomcat-7.0.67\\webapps\\solr\\WEB-INF\\libç›®å½•ä¸‹ï¼› æ‰“å¼€\\solr-5.2.1\\server\\solr\\test\\confä¸‹çš„solrconfig.xmlæ–‡ä»¶çœ‹çœ‹æ˜¯å¦å­˜åœ¨ä»¥ä¸‹ï¼š12345&lt;requestHandler name=&quot;/dataimport&quot; class=&quot;solr.DataImportHandler&quot;&gt; &lt;lst name=&quot;defaults&quot;&gt; &lt;str name=&quot;config&quot;&gt;solr-data-config.xml&lt;/str&gt; &lt;/lst&gt;&lt;/requestHandler&gt; å¦‚ä¸å­˜åœ¨ï¼Œæ·»åŠ è¿›å»ï¼› æ‰“å¼€åŒè·¯å¾„ä¸‹çš„data-config.xmlï¼Œæ·»åŠ å¦‚ä¸‹ï¼š12345678910111213&lt;dataConfig&gt; &lt;dataSource type=&quot;JdbcDataSource&quot; driver=&quot;oracle.jdbc.driver.OracleDriver&quot; url=&quot;jdbc:oracle:thin:@//127.0.0.1:1521/orcl&quot; user=&quot;root&quot; password=&quot;123456&quot; batchSize=&quot;10000&quot;/&gt; &lt;document name=&quot;search&quot;&gt; &lt;entity name=&quot;view_table&quot; pk=&quot;id&quot; query=&quot;select * from s_table&quot;&gt; &lt;field column=&quot;id&quot; name=&quot;id&quot;/&gt; &lt;field column=&quot;title&quot; name=&quot;title&quot;/&gt; &lt;field column=&quot;content&quot; name=&quot;content&quot;/&gt; &lt;/entity&gt; &lt;/document&gt; é…ç½®å¥½è‡ªå·±çš„æ•°æ®æºå³å¯ï¼Œå¤šä¸ªè¡¨çš„è¯å°±è¿½åŠ entityæ ‡ç­¾å³å¯ã€‚ éœ€è¦å°†ä½ ä¸Šè¿°è¡¨ä¸­çš„å­—æ®µæ·»åŠ åˆ°åŒç›®å½•ä¸‹çš„schema.xmlä¸­ï¼Œå¦‚ï¼š&lt;field name=&quot;title&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;true&quot;/&gt; æœ€åç‚¹å‡»Dataimport,å¯ä»¥çœ‹åˆ°Commandæœ‰full-importå’Œdelta-importä¸¤ç§ï¼‰ï¼Œç¬¬ä¸€æ¬¡å¯ä»¥é€‰full-importï¼ŒEntityä¸‹æ‹‰æ¡†é¢é€‰view_tableï¼Œé€‰ä¸­â€œAuto-Refresh Statusâ€ï¼Œç‚¹å‡»Execute,å¯ä»¥çœ‹åˆ°å³è¾¹çŠ¶æ€ï¼šIndexingï¼Œæœ€åå˜ä¸ºIndexing completedè¡¨ç¤ºç´¢å¼•å·²ç»å»ºå¥½äº†ã€‚ç„¶åç‚¹å‡»å·¦ä¾§çš„Queryï¼Œåœ¨qä¸‹é¢çš„è¾“å…¥æ¡†ä¸­è¾“å…¥ï¼špassword:aaaï¼Œç‚¹å‡»Execute Queryæ¥ä»ç´¢å¼•ä¸­æŸ¥è¯¢passwordä¸ºaaaçš„ç»“æœã€‚Javaä»£ç å¯¼å…¥æ•°æ®æ•°æ®åº“ä¸­å­˜åœ¨ä¸€ä¸ªå­—æ®µç”¨æ¥æ ‡è¯†æœ¬æ¡è®°å½•æ˜¯å¦å·²ç»å¯¼å…¥ï¼Œè¿™ä¸ªå­—æ®µæœ‰ä¸‰ç§çŠ¶æ€ï¼š0æœªå¯¼å…¥ï¼Œ1æ­£åœ¨å¯¼å…¥ï¼Œ2å·²å¯¼å…¥ã€‚ä¸€èˆ¬è¿™ç§å¯¼å…¥æˆ‘ä»¬æ˜¯ä¸ºäº†å®šæ—¶å¯¼å…¥æ–°ç”Ÿæˆçš„æ•°æ®ï¼Œä½œä¸ºåå°jobä»»åŠ¡ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293import java.net.URI;import java.net.URL;import java.sql.Connection;import java.sql.SQLException;import java.sql.Statement;import org.apache.log4j.Logger;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.jdbc.core.JdbcTemplate;import com.sun.jersey.api.client.Client;import com.sun.jersey.api.client.WebResource;public class SolrDataImport &#123; Logger logger = Logger.getLogger(SolrDataImport.class); @Autowired protected JdbcTemplate jdbcTemplate; //å¤šä¸ªè¡¨ private String[] tableNames = &#123; &quot;è¡¨1&quot;,&quot;è¡¨2&quot;,&quot;è¡¨3&quot; &#125;; public void run()&#123; logger.info(&quot;-------Solrå…¥åº“JOB æ‰§è¡Œå¼€å§‹------------------&quot;); String solrPath = &quot;http://localhost:8080/solr/mytest/dataimport?command=full-import&amp;clean=false&amp;commit=true&quot;; String solrStatusPath = &quot;http://localhost:8080/solr/mytest/dataimport?command=status&quot;; logger.info(&quot;è·å–dataimportåœ°å€&quot;+solrPath); updateLog(&quot;0&quot;, &quot;1&quot;); get(solrPath); String result = get(solrStatusPath); try &#123; while(true)&#123; if(result.indexOf(&quot;busy&quot;) !=-1)&#123; Thread.sleep(1000); result = get(solrStatusPath); &#125;else if(result.indexOf(&quot;idle&quot;) !=-1)&#123; break; &#125;else&#123; updateLog(&quot;1&quot;,&quot;0&quot;); return; &#125; &#125; &#125; catch (InterruptedException e) &#123; // TODO Auto-generated catch block e.printStackTrace(); &#125; updateLog(&quot;1&quot;, &quot;2&quot;); logger.info(&quot;-------Solrå…¥åº“JOB æ‰§è¡Œç»“æŸ------------------&quot;); &#125; private String get(String url_)&#123; Client c = Client.create(); //åˆ›å»ºä¸€ä¸ªClientçš„å®ä¾‹ String result = &quot;&quot;; try &#123; //é…ç½®Clientå‚æ•° URL url = new URL(url_); URI uri = new URI(url.getProtocol(), url.getHost()+&quot;:&quot;+url.getPort(), url.getPath(), url.getQuery(), null); //è·å–ä¸€ä¸ªWebResourceå®ä¾‹ WebResource resource = c.resource(uri); //å‘é€äº†ä¸€ä¸ªGetè¯·æ±‚ result = resource.get(String.class); &#125;catch(Exception e)&#123; e.printStackTrace(); &#125; return result; &#125; //æ›´æ–°æ•°æ®åº“è¡¨è®°å½•çš„çŠ¶æ€ private void updateLog(String from,String state)&#123; String sql = &quot;&quot;; Connection connection = null; Statement st = null; try &#123; connection = jdbcTemplate.getDataSource().getConnection(); connection.setAutoCommit(false); st = connection.createStatement(); for(String table :tableNames)&#123; sql = &quot;update &quot;+ table+&quot; t set LAST_MODIFIED=&apos;&quot;+state+ &quot;&apos; where LAST_MODIFIED=&apos;&quot;+from+&quot;&apos;&quot;; st.executeUpdate(sql); connection.commit(); logger.info(&quot;æ›´æ–°è¡¨çŠ¶æ€sql:&quot;+sql); &#125; &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125;finally&#123; try &#123; st.close(); connection.close(); &#125; catch (SQLException e) &#123; e.printStackTrace(); &#125; &#125; &#125;&#125;","link":"/2016/06/08/Solrçš„æ­å»ºä¸ä½¿ç”¨ï¼ˆäºŒï¼‰/"},{"title":"gitä¸Šä¼ ä»£ç çš„ä¸¤ç§æ–¹å¼","text":"ç¬¬ä¸€ç§ï¼šå…ˆæœ‰è¿œç¨‹ä»£ç ï¼ŒåŒæ­¥åˆ°æœ¬åœ°ä»“åº“ç¬¬ä¸€æ­¥ï¼šå…‹éš†è¿œç¨‹ä»£ç cdåˆ°ä½ çš„æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œgitå‘½ä»¤git clone [è¿œç¨‹ä»£ç åœ°å€]å¦‚ä¸‹ï¼šgit clone https://github.com/flyhero/flyapi2.2.git ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ä»£ç åï¼Œå°†é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­git add . æ³¨æ„åé¢çš„ . å· ç¬¬ä¸‰æ­¥ï¼šå°†æ·»åŠ æˆ–ä¿®æ”¹çš„æ–‡ä»¶ï¼Œæäº¤åˆ°ä»“åº“git commit - m &quot;æ³¨é‡Š&quot; ç¬¬å››æ­¥ï¼Œä¸Šä¼ ä»£ç åˆ°è¿œç¨‹ä»“åº“git push -u origin masterä¹‹åä¼šæç¤ºè®©è¾“å…¥ç”¨æˆ·åå’Œå¯†ç  ç¬¬äºŒç§ï¼šå…ˆæœ‰æœ¬åœ°ä»£ç ï¼Œä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“ç¬¬ä¸€æ­¥ï¼šå»ºç«‹gitä»“åº“cdåˆ°ä½ çš„æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œåˆå§‹åŒ–å‘½ä»¤git initç¬¬äºŒæ­¥ï¼šå°†é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶æ·»åŠ åˆ°ä»“åº“ä¸­git add .å¦‚æœæƒ³æ·»åŠ æŸä¸ªç‰¹å®šçš„æ–‡ä»¶ï¼Œåªéœ€æŠŠ.æ¢æˆç‰¹å®šçš„æ–‡ä»¶åå³å¯ ç¬¬ä¸‰æ­¥ï¼šå°†addçš„æ–‡ä»¶commitåˆ°ä»“åº“git commit -m &quot;æ³¨é‡Šè¯­å¥&quot; ç¬¬å››æ­¥ï¼šå»githubä¸Šåˆ›å»ºè‡ªå·±çš„Repository ç¬¬äº”æ­¥ï¼šå¤åˆ¶githubä¸Šçš„ä»“åº“åœ°å€ ç¬¬å…­æ­¥ï¼šå°†æœ¬åœ°çš„ä»“åº“å…³è”åˆ°è¿œç¨‹ä»“åº“git remote add origin https://github.com/flyhero/flyapi2.2.git ç¬¬ä¸ƒæ­¥ï¼šä¸Šä¼ è¿œç¨‹ä»“åº“ä¹‹å‰ï¼Œè¦å…ˆpullï¼ˆæ›´æ–°/æ‹‰ä¸‹ï¼‰åˆ°æœ¬åœ°ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼šgit pull origin master ç¬¬å…«æ­¥ï¼Œä¸Šä¼ ä»£ç åˆ°githubè¿œç¨‹ä»“åº“git push -u origin master ç¬¬ä¹æ­¥ï¼šè¾“å…¥ç”¨æˆ·åå’Œå¯†ç åï¼Œç­‰å¾…ä¸Šä¼ æˆåŠŸ æ³¨æ„ï¼šå¦‚æœå¤šäººåˆä½œï¼Œä¸€å®šè¦å…ˆpullä»£ç ã€‚","link":"/2016/06/20/gitä¸Šä¼ ä»£ç çš„ä¸¤ç§æ–¹å¼/"},{"title":"zookeeperé›†ç¾¤æ­å»º","text":"ä¸­å°å…¬å¸æˆ–è®¸æ²¡æœ‰ä¸“é—¨çš„Linuxè¿ç»´å·¥ç¨‹å¸ˆï¼ŒæŒæ¡åŸºç¡€çš„Linuxæ“ä½œå¯¹æˆ‘ä»¬æ¥è¯´æˆä¸ºå¿…é¡»çš„è¦æ±‚ã€‚zookeeperæ˜¯dubbo,kafkaç­‰å¸¸ä¾èµ–çš„ç¯å¢ƒï¼Œæ‰€ä»¥å®‰è£…ä¸€ä¸ªzookeeperé›†ç¾¤æ˜¯å¿…ä¸å¯å°‘çš„ã€‚ ç®€ä»‹Zookeeperæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åè°ƒæœåŠ¡ï¼›å°±æ˜¯ä¸ºç”¨æˆ·çš„åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºæä¾›åè°ƒæœåŠ¡ã€‚å…¶ä¸­é›†ç¾¤ä¸­æœ‰å‡ ç§è§’è‰²ï¼šæœ¬æ–‡ä¸å¯¹zookeeperåšè¿‡å¤šçš„ä»‹ç»ï¼Œè¯¦æƒ…è¯·Google. zk serviceèŠ‚ç‚¹åˆ—è¡¨ host IP Software Port OS server-1 192.168.1.1 zookeeper 3.4.8 2181 CentOS 6.8 server-2 192.168.1.2 zookeeper 3.4.8 2181 CentOS 6.8 server-3 192.168.1.3 zookeeper 3.4.8 2181 CentOS 6.8 å®‰è£…123456789[192.168.1.1]~$ wget http://archive.apache.org/dist/zookeeper/zookeeper-3.4.8/zookeeper-3.4.8.tar.gz[192.168.1.1]~$ tar -zxvf zookeeper-3.3.1.tar.gz -C /usr/local/[192.168.1.1]~$ mv /usr/local/zookeeper-3.3.1 /usr/local/zookeeper[192.168.1.1]~$ cd /usr/local/zookeeper/conf [192.168.1.1]~$ cp zoo_sample.cfg zoo.cfg[192.168.1.1]~$ cd .. &amp;&amp; mkdir data &amp;&amp; mkdir log å…¶å®ƒä¸¤ä¸ªæœºå™¨åŒæ ·æ‰§è¡Œä¸Šé¢è¿‡ç¨‹ é…ç½®æ–‡ä»¶ä¿®æ”¹ æ‰“å¼€é…ç½®æ–‡ä»¶ 1vim /usr/local/zookeeper/conf/zoo.cfg ä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼š 12dataDir=/usr/local/zookeeper/datadataLogDir=/usr/local/zookeeper/log åœ¨æ–‡ä»¶æœ€åå¢åŠ èŠ‚ç‚¹ä¿¡æ¯ï¼š 12345server.1=192.168.1.1:2888:3888server.2=192.168.1.2:2888:3888server.3=192.168.1.3:2888:3888 å…¶å®ƒä¸¤ä¸ªæœºå™¨åŒæ ·æ‰§è¡Œä¸Šé¢è¿‡ç¨‹ å»ºç«‹é…ç½®è·¯å¾„myidä¸­çš„å†…å®¹ä¸ºä¸Šé¢é…ç½®æ–‡ä»¶ä¸­çš„server.nçš„næ•°å­—ã€‚ 123[192.168.1.1]$ echo 1 &gt; /usr/local/zookeeper/data/myid[192.168.1.2]$ echo 2 &gt; /usr/local/zookeeper/data/myid[192.168.1.3]$ echo 3 &gt; /usr/local/zookeeper/data/myid zkçŠ¶æ€ å¯åŠ¨ 123456[192.168.1.1]$ /usr/local/zookeeper/bin/zkServer.sh start[192.168.1.2]$ /usr/local/zookeeper/bin/zkServer.sh start[192.168.1.3]$ /usr/local/zookeeper/bin/zkServer.sh start# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯å¯ä½¿ç”¨/usr/local/zookeeper/bin/zkServer.sh start-foreground æŸ¥çœ‹çŠ¶æ€ 12# æŸ¥çœ‹æ˜¯leaderè¿˜æ˜¯follower/usr/local/zookeeper/bin/zkServer.sh status æŸ¥çœ‹è¾“å‡º 12# å®¢æˆ·ç«¯å‘½ä»¤æŸ¥çœ‹è¾“å‡ºä¿¡æ¯[192.168.1.1]$ /usr/local/zookeeper/bin/zkCli.sh -server 192.168.1.1:2181 æ’é”™å¦‚æœé‡åˆ°é”™è¯¯ï¼šError contacting service. It is probably not running.è¯·æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æŒ¡äº†è¿æ¥ã€‚","link":"/2018/09/27/zookeeperé›†ç¾¤æ­å»º/"},{"title":"Springæ•´åˆQuartzä»»åŠ¡è°ƒåº¦","text":"é˜…è¯»æœ¬æ–‡ä½ å°†äº†è§£åˆ°ï¼š ä»€ä¹ˆæ˜¯Quartzï¼Ÿ Quartzçš„ç‰¹ç‚¹ï¼Ÿ ä»»åŠ¡è°ƒåº¦çš„å®ç°æ–¹å¼ Cronè¡¨è¾¾å¼ ä»€ä¹ˆæ˜¯Quartzï¼ŸQuartzæ˜¯OpenSymphonyå¼€æºç»„ç»‡åœ¨Job schedulingé¢†åŸŸåˆä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒå¯ä»¥ä¸J2EEä¸J2SEåº”ç”¨ç¨‹åºç›¸ç»“åˆä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚Quartzå¯ä»¥ç”¨æ¥åˆ›å»ºç®€å•æˆ–ä¸ºè¿è¡Œåä¸ªï¼Œç™¾ä¸ªï¼Œç”šè‡³æ˜¯å¥½å‡ ä¸‡ä¸ªJobsè¿™æ ·å¤æ‚çš„ç¨‹åºã€‚Jobså¯ä»¥åšæˆæ ‡å‡†çš„Javaç»„ä»¶æˆ– EJBs ä¸‹é¢æ˜¯æœ¬æ–‡ä¸­ç”¨åˆ°çš„ä¸€äº›ä¸“ç”¨è¯æ±‡ï¼Œåœ¨æ­¤å£°æ˜ï¼šschedulerï¼šä»»åŠ¡è°ƒåº¦å™¨triggerï¼šè§¦å‘å™¨ï¼Œç”¨äºå®šä¹‰ä»»åŠ¡è°ƒåº¦æ—¶é—´è§„åˆ™jobï¼šä»»åŠ¡ï¼Œå³è¢«è°ƒåº¦çš„ä»»åŠ¡misfireï¼šé”™è¿‡çš„ï¼ŒæŒ‡æœ¬æ¥åº”è¯¥è¢«æ‰§è¡Œä½†å®é™…æ²¡æœ‰è¢«æ‰§è¡Œçš„ä»»åŠ¡è°ƒåº¦ Quartzçš„ç‰¹ç‚¹ï¼Ÿä½œä¸ºä¸€ä¸ªä¼˜ç§€çš„å¼€æºè°ƒåº¦æ¡†æ¶ï¼ŒQuartz å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å¼ºå¤§çš„è°ƒåº¦åŠŸèƒ½ï¼Œä¾‹å¦‚æ”¯æŒä¸°å¯Œå¤šæ ·çš„è°ƒåº¦æ–¹æ³•ï¼Œå¯ä»¥æ»¡è¶³å„ç§å¸¸è§„åŠç‰¹æ®Šéœ€æ±‚ï¼› çµæ´»çš„åº”ç”¨æ–¹å¼ï¼Œä¾‹å¦‚æ”¯æŒä»»åŠ¡å’Œè°ƒåº¦çš„å¤šç§ç»„åˆæ–¹å¼ï¼Œæ”¯æŒè°ƒåº¦æ•°æ®çš„å¤šç§å­˜å‚¨æ–¹å¼ï¼› åˆ†å¸ƒå¼å’Œé›†ç¾¤èƒ½åŠ›ï¼ŒTerracotta æ”¶è´­ååœ¨åŸæ¥åŠŸèƒ½åŸºç¡€ä¸Šä½œäº†è¿›ä¸€æ­¥æå‡ã€‚ ä½œä¸º Spring é»˜è®¤çš„è°ƒåº¦æ¡†æ¶ï¼ŒQuartz å¾ˆå®¹æ˜“ä¸ Spring é›†æˆå®ç°çµæ´»å¯é…ç½®çš„è°ƒåº¦åŠŸèƒ½ã€‚ ä»»åŠ¡è°ƒåº¦çš„å®ç°æ–¹å¼ åˆ›å»ºMaven project; æ·»åŠ Springå’ŒQuartzçš„JaråŒ…ï¼Œå¦‚ä¸‹ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162 &lt;!-- quartz start--&gt; &lt;dependency&gt; &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt; &lt;artifactId&gt;quartz&lt;/artifactId&gt; &lt;version&gt;2.2.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- quartz end --&gt; &lt;!--spring start --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-core&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-beans&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aop&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-expression&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;$&#123;spring.version&#125;&lt;/version&gt;&lt;/dependency&gt;&lt;!--spring end --&gt; çº¯æ³¨è§£æ–¹å¼ åˆ›å»ºjobä»»åŠ¡12345678910111213141516package com.flyhero.demo;import org.springframework.scheduling.annotation.Scheduled;import org.springframework.stereotype.Component;@Componentpublic class QuartzJob &#123; private int i=0; //9ç‚¹åˆ°17ç‚¹é—´æ¯éš”ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ @Scheduled(cron = &quot;0 0/1 9-17 * * ? &quot;) public void taskQuartz()&#123; i++; System.out.println(&quot;now i=&quot;+i); &#125;&#125; XMLé…ç½®æ–¹å¼ æ–°å»ºæ™®é€šjobç±» 12345678package com.flyhero.demo;public class QuartzNewJob &#123; public void run()&#123; System.out.println(&quot;xmlé…ç½®å®šæ—¶ä»»åŠ¡æ‰§è¡Œï¼&quot;); &#125;&#125; åœ¨spring-quartz.xmlé…ç½®æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd &quot;&gt;&lt;!-- &lt;task:annotation-driven /&gt; &lt;context:annotation-config /&gt; &lt;context:component-scan base-package=&quot;com.flyhero.demo&quot;/&gt; --&gt; &lt;bean id=&quot;job&quot; class=&quot;com.flyhero.demo.QuartzNewJob&quot; &gt;&lt;/bean&gt; &lt;!-- MethodInvokingJobDetailFactoryBeanç”¨æ¥å°†ä¸€ä¸ªSpring beanåŒ…è£…ä¸ºä¸€ä¸ªjob --&gt; &lt;!-- ä½¿ç”¨MethodInvokingJobDetailFactoryBeanåŒ…è£…çš„jobä¸èƒ½è¢«åºåˆ—åŒ– --&gt; &lt;bean id=&quot;myJobDetail&quot; class=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt; &lt;!-- è¢«åŒ…è£…çš„Spring bean --&gt; &lt;property name=&quot;targetObject&quot; ref=&quot;job&quot; /&gt; &lt;!-- jobæ‰§è¡Œæ–¹æ³• --&gt; &lt;property name=&quot;targetMethod&quot; value=&quot;run&quot; /&gt; &lt;!-- æ— çŠ¶æ€job --&gt; &lt;property name=&quot;concurrent&quot; value=&quot;false&quot; /&gt; &lt;/bean&gt; &lt;!-- è®¡åˆ’è§¦å‘å™¨ ä¸¤ç§è§¦å‘å™¨å–å…¶ä¸€ --&gt; &lt;bean id=&quot;myCronTrigger&quot; class=&quot;org.springframework.scheduling.quartz.CronTriggerFactoryBean&quot;&gt; &lt;property name=&quot;jobDetail&quot; ref=&quot;myJobDetail&quot; /&gt; &lt;property name=&quot;cronExpression&quot;&gt; &lt;value&gt;0 0/1 * * * ?&lt;/value&gt; &lt;/property&gt; &lt;/bean&gt; &lt;!-- ç®€å•è§¦å‘å™¨ 1såæ¯2sæ‰§è¡Œä¸€æ¬¡ --&gt; &lt;bean class=&quot;org.springframework.scheduling.quartz.SimpleTriggerFactoryBean&quot; id=&quot;simpleTrigger&quot;&gt; &lt;property name=&quot;jobDetail&quot; ref=&quot;myJobDetail&quot;&gt; &lt;property name=&quot;startDelay&quot; value=&quot;1000&quot;&gt; &lt;property name=&quot;repeatInterval&quot; value=&quot;2000&quot;&gt; &lt;/bean&gt; &lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt; &lt;property name=&quot;triggers&quot;&gt; &lt;list&gt; &lt;ref bean=&quot;myCronTrigger&quot; /&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/beans&gt; æœ€åï¼š è¿è¡Œä¸»ç¨‹åºï¼ŒåŠ è½½é…ç½®æ–‡ä»¶1234567891011121314package com.flyhero.test;import org.springframework.context.ApplicationContext;import org.springframework.context.support.ClassPathXmlApplicationContext;public class TestQuartz &#123; private static ApplicationContext context; public static void main(String[] args) &#123; //åŠ è½½é…ç½®æ–‡ä»¶ context = new ClassPathXmlApplicationContext(&quot;spring-quartz.xml&quot;); &#125;&#125; cronè¡¨è¾¾å¼ä¸¾ä¾‹è¯´æ˜ï¼š ç¤ºä¾‹ç®€å•demoä»£ç ï¼šhttps://github.com/flyhero/spring-quartz","link":"/2016/08/04/Springæ•´åˆQuartzä»»åŠ¡è°ƒåº¦/"},{"title":"ä¸€ä¸¾æ‹¿ä¸‹final","text":"finalé€šå¸¸æŒ‡è¢«ä¿®é¥°çš„ä¸œè¥¿ä¸èƒ½è¢«æ”¹å˜çš„ï¼Œä¸èƒ½è¢«æ”¹å˜çš„åŸå› æ—ºå¾€å¾€å¤„äºè®¾è®¡å’Œæ•ˆç‡çš„è€ƒè™‘ã€‚ finalå¸¸é‡finalä¿®é¥°çš„å¸¸é‡å¿…é¡»åœ¨è¢«ä½¿ç”¨å‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆå§‹åŒ–çš„æ–¹å¼æ— éä¸¤ç§ï¼šå®šä¹‰æ—¶èµ‹å€¼æˆ–æ„é€ å‡½æ•°å†…èµ‹å€¼ åŸºæœ¬æ•°æ®ç±»å‹12345678910111213public class Test &#123; private final int A; private final int B = 3; private final int C = new Random().nextInt(); public Test() &#123; this.a = 5; &#125; public Test(int a) &#123; this.a = a; &#125;&#125; ä¸ºä»€ä¹ˆå¸¸é‡Bè¦ç”¨finalä¿®é¥°ï¼Ÿ å› ä¸ºè¿™ç§ç¡®å®šå€¼(å®šä¹‰ä¾¿ç«‹å³èµ‹å€¼)çš„finalå¸¸é‡ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æ—¶å°†è¯¥å¸¸é‡å€¼å¸¦å…¥åˆ°ä»»ä½•å¯èƒ½ç”¨åˆ°å®ƒçš„è®¡ç®—å¼ä¸­ï¼Œè¿™ä¼šå‡è½»è¿è¡Œæ—¶çš„ä¸€äº›è´Ÿæ‹…ã€‚ finalä¿®é¥°çš„å¸¸é‡å€¼æ˜¯åœ¨ç¼–è¯‘æœŸé—´è¢«ç¡®å®šçš„å—ï¼Ÿ æ³¨æ„ä¸Šé¢çš„å˜é‡Cï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ä»¥ä¸ºfinalä¿®é¥°çš„å°±èƒ½åœ¨ç¼–è¯‘æ—¶çŸ¥é“å®ƒçš„å€¼ï¼ŒCçš„å€¼åªæœ‰åœ¨è¿è¡Œæ—¶è¢«åˆå§‹åŒ–æ—¶æ‰ä¼šæ˜¾ç°ã€‚ å¼•ç”¨ç±»å‹å¼•ç”¨ç±»å‹ä¸èƒ½æ”¹å˜æŒ‡çš„æ˜¯å¼•ç”¨è¢«åˆå§‹åŒ–æŒ‡å‘ä¸€ä¸ªå¯¹è±¡åï¼Œå°±å†ä¹Ÿæ— æ³•æ”¹ä¸ºæŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œä½†å…¶æŒ‡å‘çš„å¯¹è±¡æœ¬èº«æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚ 1234567891011121314151617181920212223242526public class B &#123; private final D d =new D(); public D change()&#123; this.d.setS(\"change\"); return d; &#125; public D newD()&#123; this.d = new D(); return d; &#125; class D &#123; private String s= \"init\"; public String getS() &#123; return s; &#125; public void setS(String s) &#123; this.s = s; &#125; &#125;&#125; ä¸Šé¢ä»£ç æ˜¯æ— æ³•ç¼–è¯‘çš„ï¼Œå› ä¸ºthis.d=new D()ä¼šæç¤ºCannot assign a value to final variable â€˜dâ€™,ä½†æ˜¯ä½ å´å¯ä»¥è°ƒç”¨change()æ–¹æ³•æ¥æ”¹å˜då¯¹è±¡çš„så˜é‡å€¼ã€‚ finalæ–¹æ³• ä¸ºä»€ä¹ˆä½¿ç”¨finalä¿®é¥°æ–¹æ³• è®¾è®¡ï¼šæŠŠæ–¹æ³•é”å®šï¼Œé˜²æ­¢ç»§æ‰¿ç±»é‡å†™æˆ–é‡è½½ã€‚ æ•ˆç‡ï¼šæ—©æœŸç¼–è¯‘å™¨ä¼šå°†finalæ–¹æ³•æ‰€æœ‰çš„è°ƒç”¨è½¬ä¸ºå†…åµŒè°ƒç”¨ï¼Œéšç€JVMçš„æé«˜ï¼Œè¿™ç§æ–¹å¼å·²è¢«ä¸¢å¼ƒã€‚ finalå’Œprivate å½“ä¸€ä¸ªæ–¹æ³•è¢«privateä¿®é¥°ï¼Œè¿™ä¼šéšå¼çš„æŒ‡å®šä¸ºfinalï¼Œè¿™ä¹Ÿä¼šä½¿å¾—å­ç±»æ— æ³•è¦†ç›–æ­¤æ–¹æ³•ï¼Œå¯ä»¥å¯¹privateæ–¹æ³•å¢åŠ finalä¿®é¥°ï¼Œä½†å¯¹è¯¥æ–¹æ³•å¹¶ä¸èƒ½å¢åŠ ä»»ä½•æ„ä¹‰ã€‚ finalç±»Stringç±»æ˜¯finalåº”ç”¨çš„å…¸å‹ä¾‹å­ï¼Œå¯å»æŸ¥çœ‹ã€Šä¸€ä¸¾æ‹¿ä¸‹Stringã€‹ã€‚ ä¸ºä»€ä¹ˆè¦æŠŠç±»æŒ‡å®šä¸ºfinalï¼Ÿ å‡ºäºå®‰å…¨è€ƒè™‘æˆ–å…¶ä»–åŸå› ï¼Œä½ ä¸å¸Œæœ›è¯¥ç±»æœ‰ä»»ä½•å˜åŠ¨æˆ–è¢«ç»§æ‰¿ã€‚ ä¸€æ—¦ç±»è¢«finalä¿®é¥°ï¼Œå³ä»£è¡¨finalç±»ä¸­çš„æ‰€æœ‰æˆå‘˜å˜é‡å’Œæ–¹æ³•éƒ½ä¼šéšå¼çš„final. finalå‚æ•°åœ¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸­å°†å‚æ•°æŒ‡å®šä¸ºfinalï¼Œå³ä»£è¡¨è¯¥å‚æ•°å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡æ˜¯æ— æ³•æ”¹å˜çš„ï¼›è‹¥ä¸ºåŸºæœ¬ç±»å‹ï¼Œåˆ™è¡¨ç¤ºå€¼å¯ä»¥è¯»å–ï¼Œä½†æ— æ³•ä¿®æ”¹ã€‚ä¿®é¥°æƒ…å†µå’Œfinalå¸¸é‡ç±»ä¼¼ã€‚ finalç›¸å…³static å’Œ final staticå¼ºè°ƒçš„æ˜¯è¯¥æ•°æ®åªå­˜åœ¨ä¸€ä»½ finalå¼ºè°ƒè¯¥æ•°æ®ä¸å¯å˜ 123456789101112public class C &#123; private final double a = Math.random(); private static double b = Math.random(); public static void main(String[] args) &#123; new C(); new C(); new C(); &#125;&#125; ä¸Šé¢ä»£ç è¿è¡Œåï¼Œaä¼šå­˜åœ¨3ä¸ªï¼Œä½†båªæœ‰ä¸€ä¸ªã€‚ finalï¼Œfinallyå’Œfinalize finally æ˜¯åœ¨å¼‚å¸¸å¤„ç†æ—¶é…åˆtry-catchæ‰§è¡Œæ¸…ç†æ“ä½œï¼Œéœ€è¦æ¸…ç†çš„èµ„æºåŒ…æ‹¬ï¼šæ‰“å¼€çš„æ–‡ä»¶æˆ–ç½‘ç»œè¿æ¥ç­‰ï¼Œå®ƒä¼šæŠŠå†…å­˜ä¹‹å¤–çš„èµ„æºæ¢å¤åˆ°ä»–ä»¬çš„åˆå§‹çŠ¶æ€ã€‚æ— è®ºtryä¸­æ˜¯å¦æœ‰å¼‚å¸¸å‡ºç°ï¼Œfinallyé‡Œçš„æ“ä½œéƒ½ä¼šè¢«æ‰§è¡Œã€‚ finalize è¿™æ˜¯ObjectåŸºç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œåƒåœ¾æ”¶é›†å™¨åœ¨å°†å¯¹è±¡æ¸…é™¤å‡ºå†…å­˜ä¹‹å‰è°ƒç”¨çš„æ¸…ç†èµ„æºæ–¹æ³•ï¼Œä¸”æ­¤æ–¹æ³•åªä¼šè¢«ç³»ç»Ÿè°ƒç”¨ä¸€æ¬¡ï¼Œå…¶å®finalizeèƒ½åšçš„å·¥ä½œï¼Œtry-finallyèƒ½åšçš„æ›´å¥½ï¼Œã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ä¸­å»ºè®®å¤§å®¶å¿˜æ‰è¿™ä¸ªæ–¹æ³•çš„å­˜åœ¨ã€‚","link":"/2018/02/08/ä¸€ä¸¾æ‹¿ä¸‹final/"},{"title":"èŠèŠä½ åº”è¯¥çŸ¥é“çš„Java8","text":"Java8å¯ä»¥æ˜¯è¿‘å¹´æ”¹åŠ¨æ¯”è¾ƒå¤§çš„ä¸€ç‰ˆï¼Œå¯¹äºæ€§èƒ½ï¼Œæ˜“ç”¨æ€§ä¸Šéƒ½æœ‰æå‡ï¼Œå­¦ä¼šJava8å°†å¤§å¤§æé«˜æˆ‘ä»¬çš„æ•ˆç‡ã€‚ä½ è¦çŸ¥é“Java8å‘å¸ƒä¸2014å¹´ï¼Œè€Œä»ŠJava11ä¹Ÿå·²ç»å‘å¸ƒäº†ï¼Œä½ è¿˜åœ¨åœç•™åœ¨Java7å—ï¼Ÿ æ–°ç‰¹æ€§Lambdaè¡¨è¾¾å¼å®šä¹‰â€œLambda è¡¨è¾¾å¼â€(lambda expression)æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒLambdaè¡¨è¾¾å¼åŸºäºæ•°å­¦ä¸­çš„Î»æ¼”ç®—å¾—åï¼Œç›´æ¥å¯¹åº”äºå…¶ä¸­çš„lambdaæŠ½è±¡(lambda abstraction)ï¼Œæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå³æ²¡æœ‰å‡½æ•°åçš„å‡½æ•°ã€‚ è¯­æ³•Lambdaçš„ç»„æˆç”±ä¸‹å›¾å¯çŸ¥ï¼šç®­å¤´æ“ä½œç¬¦å°†Lambdaè¡¨è¾¾å¼åˆ†ä¸ºå·¦å³ä¸¤ä¾§ï¼Œå·¦ä¾§æ˜¯å‚æ•°åˆ—è¡¨ï¼Œå³ä¾§æ˜¯æ‰€æœ‰æ‰§è¡Œçš„ä»£ç ã€‚ é’ˆå¯¹å·¦å³ä¸¤ä¾§è¿˜æœ‰å‡ ç§è¯­æ³•çš„å˜å½¢ï¼š å‚æ•° å‚æ•°ç±»å‹å¯çœç•¥ ä»…ä¸€ä¸ªå‚æ•°ï¼Œå°æ‹¬å·å¯çœç•¥ (a,b) -&gt; {}a -&gt; {} æ‰§è¡Œä¸»ä½“ å¤šæ¡è¯­å¥ï¼Œå¿…é¡»æœ‰å¤§æ‹¬å·{ } ä»…ä¸€æ¡è¯­å¥ï¼Œreturn / { }å¯çœç•¥ (a,b) -&gt; { a= a + b; return a; }a -&gt; a++ Stream APIä»€ä¹ˆæ˜¯Stream ï¼Ÿæ–°æ—¥æœŸ APIä¸ºä»€ä¹ˆè®¾è®¡æ–°çš„æ—¥æœŸæ—¶é—´API ï¼Ÿæ¥å£é»˜è®¤ï¼Œé™æ€æ–¹æ³•Optionalç»„åˆå¼å¼‚æ­¥ç¼–ç¨‹æ€»ç»“","link":"/2018/08/25/èŠèŠä½ åº”è¯¥çŸ¥é“çš„Java8/"},{"title":"è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼","text":"å®šä¹‰ç»“æ„å®ç°ä¼˜ç¼ºç‚¹æ€»ç»“","link":"/2018/10/15/è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼/"},{"title":"è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼","text":"è½¯ä»¶æ˜¯ç°å®ä¸–ç•Œçš„æŠ½è±¡ï¼Œç°å®ä¸­åˆ¶é€ ä¸€ä¸ªæœºå™¨äººæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„è¿‡ç¨‹ï¼ŒåŒæ ·åœ¨è½¯ä»¶ä¸­ä¹Ÿæ˜¯ï¼Œä½†æˆ‘ä»¬ä»ç„¶éœ€è¦åˆ›å»ºè¿™ä¸ªå¤æ‚çš„æœºå™¨äººå¯¹è±¡ï¼Œä½†æ€ä¹ˆèƒ½è®©æˆ‘ä»¬ç®€å•çš„åˆ›å»ºå‡ºè¿™ä¸ªå¤æ‚çš„å¯¹è±¡å‘¢ï¼Ÿ å®šä¹‰å»ºé€ è€…æ¨¡å¼(Builder Pattern)ï¼šå°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ è§’è‰² Builderï¼šæŠ½è±¡å»ºé€ è€…å®šä¹‰äº†äº§å“çš„åˆ›å»ºåŠè¿”å›æ–¹æ³•ã€‚ ConcreteBuilderï¼šå…·ä½“å»ºé€ è€…å…·ä½“å¦‚ä½•åˆ›å»ºäº§å“åŠè¿”å›äº§å“ Directorï¼šæŒ‡æŒ¥è€…æŒ‡æŒ¥å»ºé€ è€…å»ºé€ äº§å“çš„è¿‡ç¨‹ Productï¼šäº§å“è§’è‰²è¦å»ºé€ çš„å¤æ‚äº§å“ï¼ŒåŒ…å«å¤šä¸ªç»„æˆéƒ¨åˆ† ç¤ºä¾‹å¤æ‚äº§å“ 123456789101112131415161718192021222324/** * @author: flyhero * @date: 2018-08-29 ä¸‹åˆ7:05 */public class Robot &#123; /** * éª¨æ¶ */ private String skeleton; /** * ä¸»æ¿ */ private String mainboard; /** * ç”µæ±  */ private String battery; //getter and setter â€¦â€¦ //toString&#125; æŠ½è±¡å»ºé€ è€… 12345678910111213141516171819202122232425262728/** * @author: flyhero * @date: 2018-08-29 ä¸‹åˆ7:14 */public interface Builder &#123; /** * æ„å»ºéª¨æ¶ */ void buildSkeleton(); /** * æ„å»ºä¸»æ¿ */ void buildMailboard(); /** * æ„å»ºç”µæ±  */ void buildBattery(); /** * ç»„è£…ç»“æœ * * @return */ Robot getResult();&#125; å…·ä½“å»ºé€ è€… 12345678910111213141516171819202122232425262728/** * @author: flyhero * @date: 2018-08-29 ä¸‹åˆ7:22 */public class RobotBuilder implements Builder&#123; private Robot robot = new Robot(); @Override public void buildSkeleton() &#123; robot.setSkeleton(\"æ„å»ºæœºå™¨éª¨æ¶\"); &#125; @Override public void buildMailboard() &#123; robot.setMainboard(\"æ„å»ºä¸»æ¿\"); &#125; @Override public void buildBattery() &#123; robot.setBattery(\"æ„å»ºç”µæ± \"); &#125; @Override public Robot getResult() &#123; return this.robot; &#125;&#125; æŒ‡æŒ¥è€… 123456789101112131415161718192021222324252627282930public class Director &#123; /** * ç”Ÿæˆå™¨ */ private Builder builder; public Director(Builder builder) &#123; this.builder = builder; &#125; /** * ç”Ÿäº§æœºå™¨äºº * * @return */ public Robot build() &#123; builder.buildSkeleton(); builder.buildMailboard(); builder.buildBattery(); return builder.getResult(); &#125;/* public static void main(String[] args) &#123; Builder builder = new RobotBuilder(); Director director = new Director(builder); Robot robot = director.build(); System.out.println(robot.toString()); &#125;*/&#125; UML ä¼˜ç‚¹ å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“äº§å“çš„å†…éƒ¨ç»†èŠ‚ï¼Œå°†äº§å“ä¸äº§å“çš„åˆ›å»ºè¿‡ç¨‹è¿›è¡Œè§£è€¦ï¼Œä½¿å¾—åŒæ ·çš„åˆ›å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„äº§å“å¯¹è±¡ã€‚ æ¯ä¸ªå…·ä½“å»ºé€ è€…ç›¸å¯¹ç‹¬ç«‹ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„å¢åŠ æ–°çš„å»ºé€ è€…ã€‚ ç¼ºç‚¹ å»ºé€ è€…æ¨¡å¼æ‰€åˆ›å»ºçš„äº§å“ä¸€èˆ¬å…·æœ‰è¾ƒå¤šçš„å…±åŒç‚¹ï¼Œå…¶ç»„æˆéƒ¨åˆ†ä¹Ÿæ¯”è¾ƒç›¸ä¼¼ï¼Œå¦‚æœäº§å“ä¹‹é—´å·®å¼‚æ€§è¾ƒå¤§ï¼Œå°±ä¸å¤ªåˆé€‚äº†ã€‚","link":"/2018/08/30/è®¾è®¡æ¨¡å¼-å»ºé€ è€…æ¨¡å¼/"},{"title":"è®¾è®¡æ¨¡å¼-å¼€ç¯‡","text":"è®¾è®¡æ¨¡å¼æ˜¯é’ˆå¯¹æŸä¸€ç±»é—®é¢˜çš„æœ€ä¼˜åŒ–è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä»è®¸å¤šä¼˜ç§€çš„è½¯ä»¶ä¸­æ€»ç»“å‡ºæ¥çš„ã€‚ å­¦ä¹ è®¾è®¡æ¨¡å¼åº”è¯¥æ˜¯æˆ‘ä»¬Javaå¼€å‘å¿…é¡»è¦çš„ï¼Œæœ¬ç¯‡ä¸»è¦å¯¹è®¾è®¡æ¨¡å¼æ•´ä½“æœ‰ä¸ªè®¤è¯†ã€‚ æ¨¡å¼åˆ›å»ºå‹æ¨¡å¼åˆ›å»ºå‹æ¨¡å¼æ¶‰åŠå¯¹è±¡çš„å®ä¾‹åŒ–ï¼Œç‰¹ç‚¹æ˜¯ä¸è®©ç”¨æˆ·ä¾èµ–äºå¯¹è±¡çš„åˆ›å»ºæˆ–æ’åˆ—æ–¹å¼ï¼Œé¿å…ç”¨æˆ·ç›´æ¥ä½¿ç”¨newåˆ›å»ºå¯¹è±¡ã€‚ ä¸»è¦æœ‰ä¸€ä¸‹5ç§ï¼š å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ–¹æ³•æ¨¡å¼ã€ç”Ÿæˆå™¨æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ è¡Œä¸ºå‹æ¨¡å¼è¡Œä¸ºæ¨¡å¼æ¶‰åŠæ€ä¹ˆåˆç†çš„è®¾è®¡å¯¹è±¡åœ¨ä¹‹é—´çš„äº¤äº’é€šä¿¡ã€ä»¥åŠæ€ä¹ˆåˆç†çš„ä¸ºå¯¹è±¡åˆ†é…æŒ‡è´£ã€è®©è®¾è®¡å¯Œæœ‰å¼¹æ€§ã€æ˜“äºç»´æŠ¤ï¼Œæ˜“äºå¤ç”¨ã€‚ ä¸»è¦æœ‰ä¸€ä¸‹11ç§ï¼š è´£ä»»é“¾æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€ç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€‚ ç»“æ„å‹æ¨¡å¼ç»“æ„å‹æ¨¡å¼æ¶‰åŠå¦‚ä½•ç»„åˆç±»å’Œå¯¹è±¡ä»¥å½¢æˆæ›´å¤§çš„ç»“æ„ï¼Œå’Œç±»æœ‰å…³çš„ç»“æ„å‹æ¨¡å¼æ¶‰åŠå¦‚ä½•åˆç†ä½¿ç”¨ç»§æ‰¿æœºåˆ¶ï¼›å’Œå¯¹è±¡æœ‰å…³çš„ç»“æ„å‹æ¨¡å¼æ¶‰åŠå¦‚ä½•åˆç†çš„ä½¿ç”¨å¯¹è±¡ç»„åˆæœºåˆ¶ã€‚ ç»“æ„å‹æ¨¡å¼æœ‰ä»¥ä¸‹7ä¸ªï¼š é€‚é…å™¨æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€è£…é¥°æ¨¡å¼ã€‚ åŸåˆ™ å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility Principleï¼‰ï¼šä¸€ä¸ªç±»è´Ÿè´£ä¸€é¡¹èŒè´£ã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ (Liskov Substitution Principleï¼‰ï¼šåªè¦çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±å¯ä»¥å‡ºç°ï¼Œæ›¿æ¢ä¸ºå­ç±»ä¹Ÿä¸ä¼šäº§ç”Ÿä»»ä½•é”™è¯¯å’Œå¼‚å¸¸ï¼Œä½†æ˜¯åè¿‡æ¥å´ä¸è¡Œï¼Œæœ‰å­ç±»çš„åœ°æ–¹çˆ¶ç±»æœªå¿…èƒ½é€‚åº”ã€‚ ä¾èµ–å€’ç½®åŸåˆ™ (Dependence Inversion Principleï¼‰ï¼šé«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½å±‚æ¨¡å—ï¼ŒäºŒè€…éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼›æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ï¼›ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚å³é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œä¸è¦é’ˆå¯¹å®ç°ç¼–ç¨‹ã€‚ æ¥å£éš”ç¦»åŸåˆ™ (Interface Segregation Principleï¼‰ï¼šå»ºç«‹å•ä¸€æ¥å£ï¼Œä¸è¦å»ºç«‹åºå¤§è‡ƒè‚¿çš„æ¥å£ï¼Œå°½é‡ç»†åŒ–æ¥å£ï¼Œæ¥å£ä¸­çš„æ–¹æ³•å°½é‡å°‘ã€‚ è¿ªç±³ç‰¹æ³•åˆ™ (Low Of Demeterï¼‰ï¼šä½è€¦åˆï¼Œé«˜å†…èš. å¼€é—­åŸåˆ™ (Open Close Principleï¼‰ï¼šä¸€ä¸ªè½¯ä»¶å®ä½“å¦‚ç±»ã€æ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ ç»„åˆ/èšåˆå¤ç”¨åŸåˆ™(Composition/Aggregation Reuse Principle(carp) ï¼‰ï¼šå°½é‡ä½¿ç”¨ç»„åˆå’Œèšåˆå°‘ä½¿ç”¨ç»§æ‰¿çš„å…³ç³»æ¥è¾¾åˆ°å¤ç”¨çš„åŸåˆ™ã€‚ æ€»ç»“æœ€åé€šè¿‡ä¸€å¼ å›¾æ¥æ•´ä½“è®¤è¯†ä¸€ä¸‹ï¼š","link":"/2018/07/26/è®¾è®¡æ¨¡å¼-å¼€ç¯‡/"},{"title":"è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","text":"å•ä¾‹æ¨¡å¼æ˜¯æœ€å¸¸è§çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œè™½ç„¶çœ‹ä¼¼ç®€å•ï¼Œä½†è¦çœŸæ­£ç”¨å¥½å¹¶ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚ ä»‹ç»å®šä¹‰ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚ ï¼ˆEnsure a class only has one instance,and provide a global point of access to it.ï¼‰ ä½¿ç”¨åœºæ™¯ éœ€è¦ç”Ÿæˆå”¯ä¸€åºåˆ—çš„ç¯å¢ƒ éœ€è¦é¢‘ç¹å®ä¾‹åŒ–ç„¶åé”€æ¯çš„å¯¹è±¡ã€‚ åˆ›å»ºå¯¹è±¡æ—¶è€—æ—¶è¿‡å¤šæˆ–è€…è€—èµ„æºè¿‡å¤šï¼Œä½†åˆç»å¸¸ç”¨åˆ°çš„å¯¹è±¡ã€‚ æ–¹ä¾¿èµ„æºç›¸äº’é€šä¿¡çš„ç¯å¢ƒ ä½¿ç”¨å®ä¾‹åœ¨Java APIä¸­Runtimeå°±æ˜¯å•ä¾‹çš„ä¸€ä¸ªå®é™…åº”ç”¨ã€‚ 1234567891011public class Runtime &#123; private static Runtime currentRuntime = new Runtime(); public static Runtime getRuntime() &#123; return currentRuntime; &#125; private Runtime() &#123;&#125; â€¦â€¦&#125; å‡ ç§å†™æ³•é¥¿æ±‰å¼é¥¿æ±‰å¼ï¼šå°†ç±»çš„å®ä¾‹åŒ–åœ¨ç±»è¢«åŠ è½½æ—¶å°±å¼€å§‹ï¼ˆå®ƒå¾ˆé¥¿ï¼Œæƒ³é©¬ä¸Šå¾—åˆ°è¿™å—å¤§é¥¼ï¼‰ã€‚ é¥¿æ±‰å¼æœ¬èº«æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ç°èµ·æ¥ä¹Ÿæ¯”è¾ƒç®€å•ã€‚è¿™ç§æ–¹å¼æ˜¯æ‹¿ç©ºé—´æ¢æ—¶é—´çš„åšæ³•ã€‚ 123456789101112131415161718192021public class EagerSingleton &#123; /** * å®šä¹‰æ—¶å³åˆå§‹åŒ–ï¼Œä¿è¯äº†çº¿ç¨‹å®‰å…¨ */ private static EagerSingleton instance = new EagerSingleton(); /** * ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢è¢«å¤–éƒ¨å®ä¾‹åŒ– */ private EagerSingleton() &#123;&#125; /** * é™æ€æ–¹æ³•è·å–å®ä¾‹ * * @return */ public static EagerSingleton getInstance() &#123; return instance; &#125;&#125; æ‡’æ±‰å¼æ‡’æ±‰å¼ï¼šå°†ç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å­ç±»æˆ–æ–¹æ³•ä¸­ï¼ˆå®ƒå¾ˆæ‡’ï¼Œä¸æƒ³ä¸€å¼€å§‹å°±å»åˆ›å»ºå®ä¾‹ï¼‰ã€‚ çº¿ç¨‹ä¸å®‰å…¨è¿™ç§æ–¹å¼è™½ç„¶æœ€ä¸ºç®€å•ï¼Œä½†ä¹Ÿæœ€ä¸æ¨èçš„ä¸€ç§å†™æ³•ã€‚å› ä¸ºåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚ 123456789101112131415161718192021public class LazySingleton1 &#123; private static LazySingleton1 instance = null; /** * ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢è¢«å¤–éƒ¨å®ä¾‹åŒ– */ private LazySingleton1() &#123;&#125; /** * é™æ€æ–¹æ³•åˆ›å»ºå®ä¾‹ * * @return */ public static LazySingleton1 getInstance() &#123; if (instance == null) &#123; return new LazySingleton1(); &#125; return instance; &#125;&#125; çº¿ç¨‹å®‰å…¨æˆ‘ä»¬ç°åœ¨æ ¹æ®ä¸Šé¢çš„å•ä¾‹è¿›è¡Œæ›´æ”¹ï¼Œä½¿ä¹‹å¤šçº¿ç¨‹ä¸‹ä¹Ÿåªä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ã€‚æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬æŠŠè·å–å®ä¾‹çš„æ–¹æ³•getInstance() è®¾ç½®ä¸ºåŒæ­¥çš„ï¼ˆsynchronizedï¼‰ã€‚ 123456789101112131415161718192021public class LazySingleton2 &#123; private static LazySingleton2 instance = null; /** * ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢è¢«å¤–éƒ¨å®ä¾‹åŒ– */ private LazySingleton2() &#123;&#125; /** * é™æ€æ–¹æ³•åˆ›å»ºå®ä¾‹ * * @return */ public static synchronized LazySingleton2 getInstance() &#123; if (instance == null) &#123; return new LazySingleton2(); &#125; return instance; &#125;&#125; è¿™æ ·çœ‹ä¼¼ä¸é”™ï¼Œä½†åŠ å…¥é”åä¼šä½¿æ–¹æ³•æ€§èƒ½ä¸‹é™ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å†ä¼˜åŒ–ä¸€äº›ã€‚æˆ‘ä»¬å‘ç°å…¶å®æˆ‘ä»¬ä¸å¿…åœ¨è¿›å»å…¥æ–¹æ³•å°±åŠ é”ï¼Œæˆ‘ä»¬åªè¦åœ¨åˆ›å»ºå®ä¾‹æ—¶åŠ é”å³å¯ã€‚ 1234567891011121314151617181920212223public class LazySingleton3 &#123; private static LazySingleton3 instance = null; /** * ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢è¢«å¤–éƒ¨å®ä¾‹åŒ– */ private LazySingleton3() &#123;&#125; /** * é™æ€æ–¹æ³•åˆ›å»ºå®ä¾‹ * * @return */ public static LazySingleton3 getInstance() &#123; if (instance == null) &#123; synchronized (instance)&#123; return new LazySingleton3(); &#125; &#125; return instance; &#125;&#125; åŒé‡æ ¡éªŒé”ï¼ˆDouble Checked Lockingï¼‰ä¸Šé¢çš„æ–¹å¼ä»ç„¶ä¼šå­˜åœ¨é—®é¢˜ï¼Œå¦‚æœå¤šæ¬¡è°ƒç”¨åŒæ—¶è¿›å…¥åˆ°äº†if (instance == null)è¯­å¥ï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚ 1234567891011121314151617181920public class Singleton &#123; private static volatile Singleton instance; /** * ç§æœ‰æ„é€ å™¨ï¼Œé˜²æ­¢è¢«å¤–éƒ¨å®ä¾‹åŒ– */ private Singleton() &#123;&#125; public static Singleton getSingleton() &#123; if (instance == null) &#123; synchronized (Singleton.class) &#123; if (instance == null) &#123; instance = new Singleton(); &#125; &#125; &#125; return instance; &#125;&#125; é™æ€å†…éƒ¨ç±»ï¼ˆstatic nested classï¼‰è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥å»¶è¿ŸåŠ è½½å¹¶èƒ½ä¿è¯åˆå§‹åŒ–æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚ 123456789101112public class Singleton &#123; private static class SingletonHolder &#123; private static final Singleton INSTANCE = new Singleton(); &#125; private Singleton() &#123;&#125; public static final Singleton getInstance() &#123; return SingletonHolder.INSTANCE; &#125;&#125; æšä¸¾å•ä¾‹æšä¸¾å•ä¾‹æ˜¯ä¸€ç§æ¯”è¾ƒæ–°çš„å®ç°å•ä¾‹çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒæ¨èçš„å†™æ³•ã€‚å› ä¸ºï¼š1. æšä¸¾å•ä¾‹å†™æ³•ç®€å• 2. çº¿ç¨‹å®‰å…¨ 123456789101112public enum Singleton &#123; INSTANCE; /** * å•ä¾‹ä¸­çš„æ–¹æ³• */ public void method() &#123; System.out.println(\"å•ä¾‹æšä¸¾æ–¹æ³•\"); &#125; public static void main(String args[]) &#123; Singleton.INSTANCE.method(); &#125;&#125; æ€»ç»“ æ–¹å¼ çº¿ç¨‹ åˆå§‹åŒ– éš¾åº¦ é¥¿æ±‰å¼ å®‰å…¨ ç«‹å³åˆ›å»º å®¹æ˜“ æ‡’æ±‰å¼ å®‰å…¨/ä¸å®‰å…¨ æ‡’åŠ è½½ å®¹æ˜“ é™æ€å†…éƒ¨ç±» å®‰å…¨ æ‡’åŠ è½½ ä¸€èˆ¬ åŒé‡é” å®‰å…¨ æ‡’åŠ è½½ å¤æ‚ æšä¸¾ å®‰å…¨ ç«‹å³åˆ›å»º å®¹æ˜“ ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘è®¤ä¸ºä¼˜å…ˆä½¿ç”¨æšä¸¾æ–¹å¼ï¼Œé™æ€å†…éƒ¨ç±»å’Œé¥¿æ±‰å¼ï¼Œå½“ç„¶è¿˜æ˜¯å¾—æ ¹æ®å…·ä½“æƒ…å†µè€Œå®šã€‚","link":"/2018/08/14/è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼/"},{"title":"é«˜æ•ˆå·¥å…·é›†åˆ","text":"ä¸å¯å¦è®¤ï¼Œé¡ºæ‰‹çš„å·¥å…·èƒ½å¸®åŠ©æˆ‘ä»¬æé«˜å·¥ä½œçš„æ•ˆç‡ï¼Œè¿™é‡Œæˆ‘å°†åˆ—å‡ºæˆ‘æ‰€ç”¨åˆ°è¿‡çš„é«˜æ•ˆå·¥å…·ã€‚ å½•å±Gifè½¯ä»¶ï¼šScreenToGif æ¨èï¼šScreenToGifæ­£å¦‚å…¶åï¼Œæ˜¯ä¸€æ¬¾é€šè¿‡å½•å±æ¥åˆ¶ä½œGifåŠ¨ç”»çš„è½¯ä»¶ï¼Œè™½ç„¶æ–‡ä»¶å¤§å°åªæœ‰å‡ å…†ï¼Œå´æœ‰éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œç•Œé¢ä¼˜ç¾ï¼Œè€Œä¸”å®Œå…¨å…è´¹ï¼Œæ˜¯æˆ‘ç›®å‰ç”¨è¿‡æœ€å¥½çš„ï¼Œå¼ºçƒˆæ¨èï¼ æ¥å£è°ƒè¯•å·¥å…·ï¼šPostman åœ¨æˆ‘ä»¬å¹³æ—¶å¼€å‘ä¸­ï¼Œç‰¹åˆ«æ˜¯éœ€è¦ä¸æ¥å£æ‰“äº¤é“æ—¶ï¼Œæ— è®ºæ˜¯å†™æ¥å£è¿˜æ˜¯ç”¨æ¥å£ï¼Œæ‹¿åˆ°æ¥å£åè‚¯å®šéƒ½å¾—æå‰æµ‹è¯•ä¸€ä¸‹ï¼Œè¿™æ ·çš„è¯å°±éå¸¸éœ€è¦æœ‰ä¸€ä¸ªæ¯”è¾ƒç»™åŠ›çš„Httpè¯·æ±‚æ¨¡æ‹Ÿå·¥å…·ï¼Œç°åœ¨æµè¡Œçš„è¿™ç§å·¥å…·ä¹ŸæŒºå¤šçš„ï¼Œä½†Postmanæ˜¯æˆ‘æœ€é’ççš„ä¸€ä¸ªã€‚ JSONæ ¼å¼åŒ–å·¥å…·ï¼šæ¡Œé¢ç‰ˆCyJsonView 2.3.1 æµè§ˆå™¨ç‰ˆJSONView æ¡Œé¢ç‰ˆCyJsonViewä½œè€…è—è¨€åŸºäºJavaå¼€å‘çš„å¼€æºè½¯ä»¶ï¼Œéœ€è¦æœ‰Javaå¼€å‘ç¯å¢ƒï¼Œç•Œé¢ç®€æ´æ˜äº†ï¼ŒåŠŸèƒ½ä¹Ÿéå¸¸å…¨ã€‚ æµè§ˆå™¨ç‰ˆJSONView,æ˜¯æµè§ˆå™¨ä¸­æ ¼å¼åŒ–çš„æ’ä»¶ï¼Œå¹³æ—¶æ¥å£è¯·æ±‚ç›´æ¥è¿”å›æ ¼å¼åŒ–åçš„ï¼Œæ”¯æŒæ”¶ç¼©ï¼Œå±•å¼€ï¼Œä¸€ç›®äº†ç„¶ã€‚ è¿œç¨‹æ§åˆ¶è½¯ä»¶ï¼šTeamViewer ç›¸å¯¹äºå…¶å®ƒè¿œç¨‹æ§åˆ¶ï¼Œè§†é¢‘ä¼šè®®ç­‰è½¯ä»¶ï¼ˆå¦‚ï¼šQQè¿œç¨‹ï¼‰ï¼ŒTeamVieweræ— è®ºæ˜¯è§†é¢‘æ¸…æ™°åº¦ï¼Œæµç•…åº¦éƒ½è¦ä¼˜äºå…¶å®ƒï¼Œä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ã€‚ æˆªå±è½¯ä»¶ï¼šPicPick PicPick æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å…è´¹å±å¹•æˆªå›¾å·¥å…·ï¼Œæ±‡é›†å±å¹•æˆªå–ã€å–è‰²å™¨ã€è°ƒè‰²æ¿ã€æ”¾å¤§é•œã€æ ‡å°ºã€é‡è§’å™¨ã€åæ ‡è½´ã€ç™½æ¿ç­‰åŠŸèƒ½äºä¸€èº«ã€‚æ”¯æŒçš„å±å¹•æˆªå›¾æ¨¡å¼åŒ…æ‹¬ï¼šå…¨å±ã€æ´»åŠ¨çª—å£ã€æ»šåŠ¨çª—å£ã€çŸ©å½¢åŒºåŸŸã€å›ºå®šåŒºåŸŸã€æ‰‹ç»˜åŒºåŸŸã€é‡å¤ä¸Šæ¬¡æˆªå–ç­‰ï¼Œè¿™åº”è¯¥æ»¡è¶³ç»å¤§éƒ¨åˆ†éœ€æ±‚äº†ã€‚ è¿œç¨‹ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼šXshell and Xftp å…è´¹è½¯ä»¶ Xshell å’Œ Xftp éƒ½æ˜¯ NetSarang å‡ºå“çš„ä¼˜ç§€ç½‘ç»œç®¡ç†ã€å®‰å…¨ä¼ è¾“å·¥å…·ã€‚Xshell æ˜¯ä¸€ä¸ªå…è´¹çš„å®‰å…¨ç»ˆç«¯ä»¿çœŸå™¨ï¼Œå¯ä»¥ä½œä¸º SSHã€TELNET æˆ– RLOGIN çš„ç»ˆç«¯æ¨¡æ‹Ÿï¼Œèƒ½å¤Ÿä» Windows å¹³å°å®‰å…¨è¿æ¥ Linux æœåŠ¡å™¨ï¼ŒXftp åˆ™æ˜¯å®‰å…¨ä¼ è¾“å®¢æˆ·ç«¯ï¼Œæ”¯æŒ FTP å’Œ SFTP åè®®ï¼Œä¸¤è€…éƒ½æ”¯æŒæ ‡ç­¾åŒ–çš„ä¼šè¯çª—å£ã€‚å¦‚æœä½ çš„é¡¹ç›®éƒ¨ç½²åˆ°Liunxä¸‹é¢ï¼Œè¿™æ ·çš„å·¥å…·ä½ å°‘ä¸äº†çš„ã€‚ å¸è½½å·¥å…·ï¼šUninstall Tool ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜å‘¢ï¼Ÿå¸è½½æŸä¸ªè½¯ä»¶åï¼Œé‡æ–°å®‰è£…æˆ–è€…å®‰è£…åŒå…¬å¸ä¸åŒè½¯ä»¶ï¼Œå‘ç°æ— æ³•å®‰è£…é—®é¢˜ï¼Œè¿™å¯èƒ½å°±æ˜¯æ³¨å†Œè¡¨æœªåˆ é™¤çš„é—®é¢˜ï¼Œè€Œä¸”è¿˜ç•™æœ‰å¸è½½æ®‹ä½™æ–‡ä»¶ã€‚é‚£ä¹ˆç°åœ¨Uninstall Toolå¯ä»¥å¸®ä½ è§£å†³è¿™äº›é—®é¢˜ï¼Œå®ƒå¾ˆå°ï¼Œè€Œä¸”è¡¨ç°ä¸é”™ã€‚ UMLç”»å›¾å·¥å…·ï¼šStarUML å¼€æºä¸å…è´¹ï¼Œè½»é‡çº§çš„ç”»å›¾å·¥å…·ã€‚ ç»˜å›¾è½¯ä»¶ï¼šMACç‰ˆOmniGraffleå’ŒWinç‰ˆvisio OmniGraffleæ˜¯ä¸€æ¬¾ç›¸å½“å…¨é¢çš„å·¥å…·ï¼Œç”¨é€”å¾ˆå¹¿æ³›,è¢«èª‰ä¸ºMACä¸Šçš„visioã€‚ æŠ“åŒ…å·¥å…·ï¼šFiddlerä¸Charles Fiddleræ˜¯ä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„HTTPä»£ç†ï¼Œä¹Ÿæ˜¯ç›®å‰æœ€å¸¸ç”¨çš„httpæŠ“åŒ…å·¥å…·ä¹‹ä¸€ ã€‚ å®ƒèƒ½å¤Ÿè®°å½•å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ‰€æœ‰ HTTPè¯·æ±‚ï¼Œå¯ä»¥é’ˆå¯¹ç‰¹å®šçš„HTTPè¯·æ±‚ï¼Œåˆ†æè¯·æ±‚æ•°æ®ã€è®¾ç½®æ–­ç‚¹ã€è°ƒè¯•webåº”ç”¨ã€ä¿®æ”¹è¯·æ±‚çš„æ•°æ®ï¼Œç”šè‡³å¯ä»¥ä¿®æ”¹æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œæ˜¯webè°ƒè¯•çš„åˆ©å™¨ã€‚ Charlesé€šè¿‡å°†è‡ªå·±è®¾ç½®æˆç³»ç»Ÿçš„ç½‘ç»œè®¿é—®ä»£ç†æœåŠ¡å™¨ï¼Œä½¿å¾—æ‰€æœ‰çš„ç½‘ç»œè®¿é—®è¯·æ±‚éƒ½é€šè¿‡å®ƒæ¥å®Œæˆï¼Œä»è€Œå®ç°äº†ç½‘ç»œå°åŒ…çš„æˆªå–å’Œåˆ†æã€‚ gitç®¡ç†å·¥å…·:sourcetree,smartGit SourceTreeæ˜¯å¼ºå¤§çš„Git/Mercurialæ¡Œé¢å®¢æˆ·ç«¯ï¼Œæ”¯æŒWindowså’ŒMacæ“ä½œç³»ç»Ÿã€‚ä½†æ–°ç‰ˆå¿…é¡»ç™»å½•Atlassianè´¦å·ï¼Œå¿…é¡»ç¿»å¢™æ‰èƒ½ä½¿ç”¨ã€‚é€šè¿‡SourceTreeç¾è§‚ç®€å•çš„ç•Œé¢ï¼Œä½ å¯ä»¥æ”¾å¼ƒå‘½ä»¤è¡Œäº†ã€‚æ€»ç»“å‡ºæ¥å°±æ˜¯ï¼šç®€çº¦ï¼Œç¾è§‚ã€‚ è™½ç„¶smartGitä¸å¦‚sourcetreeç•Œé¢é‚£ä¹ˆç¾è§‚ï¼Œä½†smartGitå¹¶ä¸éœ€è¦ç¿»å¢™ï¼ŒåŠŸèƒ½ä¹Ÿèƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚ Winç‰ˆæ¡Œé¢é—¹é’Ÿï¼šæ¢¦ç•…é—¹é’Ÿ å¼€å‘å†æœ‰æ¿€æƒ…ï¼Œä¹Ÿä¸èƒ½å¿˜äº†ä¿é‡è‡ªå·±çš„èº«ä½“ï¼Œå¤§éƒ¨åˆ†äººcodingæ—¶ï¼Œå–œæ¬¢æ²‰è¿·ä»£ç æ— æ³•è‡ªæ‹”ï¼Œå®¹æ˜“å¿˜è®°æ—¶é—´ï¼Œè¿™æ¬¾è½¯ä»¶æ°å¥½å¼¥è¡¥è¿™ä¸€ç‚¹ï¼Œä½†è¿™æ¬¾é—¹é’ŸåŠŸèƒ½éå¸¸å¤šï¼Œç•Œé¢ä¹Ÿéå¸¸ç¾è§‚ã€‚ ä¿æŠ¤è§†åŠ›ï¼šf.lux å’Œ æŠ¤çœ¼å® åœ¨ç”Ÿç†å±‚é¢ä¸Šï¼Œæœ€å®¹æ˜“å—ä¼¤çš„é¦–å…ˆå°±æ˜¯æˆ‘ä»¬çš„çœ¼ç›ã€‚å°¤å…¶åœ¨å¤œé—´å¯¹ç€åˆºçœ¼çš„å±å¹•ï¼Œé•¿ä¹…ä¸‹æ¥å¿…ä¼šä¸ºçœ¼ç›å¥åº·åŸ‹ä¸‹éšæ‚£ï¼Œç‰¹åˆ«æ˜¯ç”µè„‘å±å¹•çš„è“å…‰æ›´ä¼šå¯¹ç¡çœ äº§ç”Ÿæ¶ˆæçš„å½±å“ï¼Œè¿è‹¹æœä¹Ÿéƒ½åœ¨ iPhone / iPad ä¸Šå¢åŠ äº†å¤œé—´æ¨¡å¼æ¥è¿‡æ»¤ã€Œè“å…‰ã€ä»è€Œä¿æŠ¤ç”¨æˆ·çš„çœ¼ç›ã€‚ä»–ä»¬ä¼šæ ¹æ®å½“å‰æ—¶åŒºï¼Œå½“å‰æ—¶é—´è°ƒæ•´å±å¹•è‰²æ¸©ï¼Œè¾¾åˆ°ä¿æŠ¤çœ¼ç›çš„ä½œç”¨ã€‚ è™šæ‹ŸåŒ–å®¹å™¨ï¼šDocker ç›¸ä¿¡åšå¼€å‘çš„å¯¹äºå®‰è£…å„ç§å¼€å‘ç¯å¢ƒï¼ˆtomcat,nginx,redis,mysqlâ€¦â€¦ï¼‰éƒ½æ¯”è¾ƒçƒ¦ï¼Œä¸ä»…å¦‚æ­¤ï¼Œå®ƒè¿˜å ç”¨æœ¬æœºè®¸å¤šèµ„æºï¼Œå¯¼è‡´æœ¬æœºç¬¨æ‹™ï¼Œé‚£ä¹ˆDockerçš„å‡ºç°ä¼šè§£å†³æˆ‘ä»¬çš„é—®é¢˜ã€‚ IDEAä¸­è¶…å®ç”¨çš„æ’ä»¶ iedis ä¸€ä¸ªrediså¯è§†åŒ–æ’ä»¶ Mybatis Pluginå¸®åŠ©ä½ è½»æ¾ä½¿ç”¨mybatisä½œä¸ºORMçš„æ’ä»¶ GsonFormat å®ä½“ç±»å’Œjsonäº’ç›¸è½¬åŒ–çš„ç¥å™¨ æ’ä»¶åç§° æ’ä»¶ä»‹ç» å®˜ç½‘åœ°å€ GitOSC å¼€æºä¸­å›½çš„ç äº‘æ’ä»¶ https://plugins.jetbrains.com/plugin/8383-gitosc Alibaba Java Coding Guidelines é˜¿é‡Œå·´å·´å‡ºçš„ä»£ç è§„èŒƒæ£€æŸ¥æ’ä»¶ https://plugins.jetbrains.com/plugin/10046-alibaba-java-coding-guidelines IDE Features Trainer IntelliJ IDEA å®˜æ–¹å‡ºçš„å­¦ä¹ è¾…åŠ©æ’ä»¶ https://plugins.jetbrains.com/plugin/8554?pr=idea Key promoter å¿«æ·é”®æç¤º https://plugins.jetbrains.com/plugin/4455?pr=idea Grep Console è‡ªå®šä¹‰è®¾ç½®æ§åˆ¶å°è¾“å‡ºé¢œè‰² https://plugins.jetbrains.com/idea/plugin/7125-grep-console String Manipulation é©¼å³°å¼å‘½åå’Œä¸‹åˆ’çº¿å‘½åäº¤æ›¿å˜åŒ– https://plugins.jetbrains.com/plugin/2162?pr=idea MetricsReloaded ä»£ç å¤æ‚åº¦æ£€æŸ¥ https://plugins.jetbrains.com/plugin/93?pr=idea Statistic ä»£ç ç»Ÿè®¡ https://plugins.jetbrains.com/plugin/4509?pr=idea JRebel Plugin çƒ­éƒ¨ç½² https://plugins.jetbrains.com/plugin/?id=4441 CodeGlance åœ¨ç¼–è¾‘ä»£ç æœ€å³ä¾§ï¼Œæ˜¾ç¤ºä¸€å—ä»£ç å°åœ°å›¾ https://plugins.jetbrains.com/plugin/7275?pr=idea GsonFormat æŠŠ JSON å­—ç¬¦ä¸²ç›´æ¥å®ä¾‹åŒ–æˆç±» https://plugins.jetbrains.com/plugin/7654?pr=idea Markdown Navigator ä¹¦å†™ Markdown æ–‡ç«  https://plugins.jetbrains.com/plugin/7896?pr=idea Jindent-Source Code Formatter è‡ªå®šä¹‰ç±»ã€æ–¹æ³•ã€docã€å˜é‡æ³¨é‡Šæ¨¡æ¿ http://plugins.jetbrains.com/plugin/2170?pr=idea Translation ç¿»è¯‘æ’ä»¶ https://github.com/YiiGuxing/TranslationPlugin Maven Helper Maven è¾…åŠ©æ’ä»¶ https://plugins.jetbrains.com/plugin/7179-maven-helper Properties to YAML Converter æŠŠ Properties çš„é…ç½®æ ¼å¼æ”¹ä¸º YAML æ ¼å¼ https://plugins.jetbrains.com/plugin/8000-properties-to-yaml-converter Git Flow Integration Git Flow çš„å›¾å½¢ç•Œé¢æ“ä½œ https://plugins.jetbrains.com/plugin/7315-git-flow-integration Alfred 3 for Macå¼ºå¤§çš„ç²˜è´´ å¼€æºæ•°æ®åº“å®¢æˆ·ç«¯Sequel Pro è¿œç¨‹ç»ˆç«¯è½¯ä»¶FinalShell","link":"/2017/06/06/é«˜æ•ˆå·¥å…·é›†åˆ/"},{"title":"è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼","text":"å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯åˆ›å»ºå‹æ¨¡å¼ä¹‹ä¸€ã€‚å®ƒç»“æ„æ¸…æ™°ç®€å•ï¼Œæ˜¯å¸¸ç”¨çš„ä¸€ç§æ¨¡å¼ï¼Œä¹Ÿæ¯”è¾ƒé€‚åˆæˆ‘ä»¬å…¥é—¨å­¦ä¹ ã€‚ ç®€å•å·¥å‚ï¼ˆSimple Factory Patternï¼‰ç®€å•å·¥å‚æ¨¡å¼åˆå«é™æ€å·¥å‚æ–¹æ³•ã€‚è™½ç„¶å®ƒå¹¶ä¸å±äº23ç§GOFè®¾è®¡æ¨¡å¼ä¹‹ä¸€ã€‚ä½†æ˜¯ä»–æ˜¯æŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼çš„åŸºç¡€ï¼Œå¹¶ä¸”ä¹Ÿæœ‰å¹¿æ³›çš„åº”ç”¨ã€‚ å…ˆæ¥çœ‹çœ‹æ˜¯æ€ä¹ˆå®ç°ç®€å•å·¥å‚çš„ï¼Œä»¥ç°åœ¨æ€§ä»·æ¯”è¾ƒå¥½çš„æ‰‹æœºå‚å•†å°ç±³å’Œé­…æ—ä¸ºä¾‹ã€‚ ä¸¤å®¶éƒ½ç”Ÿäº§æ‰‹æœºè¿™ä¸ªäº§å“ï¼Œæ‰€ä»¥å¯ä»¥æŠ½è±¡å‡ºæ¥ä¸€ä¸ªäº§å“ï¼Œä¸¤å®¶æœ‰å„è‡ªçš„å…·ä½“äº§å“ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/** * @author: flyhero * @date: 2018-07-28 ä¸Šåˆ10:20 */public abstract class Phone &#123; public String name; public Double price; /** * è¾“å‡ºå“ç‰Œ */ public abstract void brand(); /** * è¿è¡Œæ‰‹æœº */ public abstract void run();&#125;//å°ç±³æ‰‹æœºpublic class XiaoMiPhone extends Phone &#123; public XiaoMiPhone() &#123; name = \"å°ç±³\"; price = 1599d; &#125; @Override public void brand() &#123; System.out.println(\"å“ç‰Œï¼š\" + name + \" ä»·æ ¼ï¼š\" + price); &#125; @Override public void run() &#123; System.out.println(\"å¼€å¯å°ç±³æ‰‹æœº\"); &#125;&#125;//é­…æ—æ‰‹æœºpublic class MeizuPhone extends Phone &#123; public MeizuPhone() &#123; name = \"é­…æ—\"; price = 1999d; &#125; @Override public void brand() &#123; System.out.println(\"å“ç‰Œï¼š\" + name + \" ä»·æ ¼ï¼š\" + price); &#125; @Override public void run() &#123; System.out.println(\"å¼€å¯é­…æ—æ‰‹æœº\"); &#125;&#125; æˆ‘è¦æœ‰ä¸€åº§å·¥å‚ï¼Œå¯ä»¥ç”Ÿäº§ä¸åŒçš„æ‰‹æœºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344public class SimplePhoneFactory &#123; /** * æ ¹æ®ä¸åŒå‚æ•°ç”Ÿäº§ä¸åŒå®ä¾‹ * * @param brand * @return */ public Phone produce(String brand) &#123; Phone phone = null; switch (brand) &#123; case \"meizu\": phone = new MeizuPhone(); break; case \"xiaomi\": phone = new XiaoMiPhone(); break; default: break; &#125; return phone; &#125; /** * é€šè¿‡åå°„æœºåˆ¶ç”Ÿäº§ * * @param clazz * @return */ public Phone produceX(Class clazz) &#123; Phone phone = null; try &#123; phone = (Phone) clazz.newInstance(); &#125; catch (InstantiationException e) &#123; e.printStackTrace(); &#125; catch (IllegalAccessException e) &#123; e.printStackTrace(); &#125; return phone; &#125;&#125; ç°åœ¨æˆ‘æ–°å»ºä¸€ä¸ªå·¥å‚ï¼Œç„¶åå‘Šè¯‰å·¥å‚æˆ‘æƒ³è¦ç”Ÿäº§å°ç±³æˆ–é­…æ—æ‰‹æœºå°±å¯ä»¥äº†ã€‚ 123456789public class Client &#123; public static void main(String[] args) &#123; SimplePhoneFactory simplePhoneFactory = new SimplePhoneFactory(); simplePhoneFactory.produce(\"xiaomi\").brand(); simplePhoneFactory.produce(\"meizu\").brand(); simplePhoneFactory.produceX(XiaoMiPhone.class).brand(); simplePhoneFactory.produceX(MeizuPhone.class).brand(); &#125;&#125; UML ä¸ºä»€ä¹ˆä½¿ç”¨ï¼Ÿæˆ‘ä»¬ä¸€ç›´å¼ºè°ƒè¦é¢å‘æ¥å£ç¼–ç¨‹ï¼Œå°½é‡ä¸è¦ä¾èµ–äºå…·ä½“çš„ç±»ã€‚è¿™é‡Œæˆ‘ä»¬æŠ½è±¡å‡ºäº†äº§å“ç±»ï¼Œç„¶åé€šè¿‡ä¸€ä¸ªå·¥å‚ç±»ï¼Œè¾“å…¥ä¸åŒçš„å‚æ•°å¯ä»¥åˆ›å»ºä¸åŒçš„äº§å“ï¼Œè¿™å¤§å¤§è§£è€¦äº†å®¢æˆ·ç«¯ä¾èµ–è¿‡å¤šçš„ç±»ã€‚ æœ‰ä»€ä¹ˆä¸å¥½çš„åœ°æ–¹ï¼Ÿ å¢åŠ äº§å“ï¼Œéœ€è¦ä¿®æ”¹å·¥å‚ç±»ï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™ å·¥å‚ç±»é›†ä¸­äº†æ‰€æœ‰å®ä¾‹çš„åˆ›å»ºé€»è¾‘ï¼Œè¿åäº†é«˜å†…èšè´£ä»»åˆ†é…åŸåˆ™ å·¥å‚æ–¹æ³•æ¨¡å¼ å®šä¹‰ï¼šä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚å·¥å‚æ–¹æ³•ä½¿ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿåˆ°å…¶å­ç±»ã€‚ ä½•æ—¶ä½¿ç”¨ ç”¨æˆ·éœ€è¦ä¸€ä¸ªç±»çš„å­ç±»çš„å®ä¾‹ï¼Œä½†ä¸å¸Œæœ›ä¸è¯¥ç±»çš„å­ç±»å½¢æˆè€¦åˆ ç”¨æˆ·éœ€è¦ä¸€ä¸ªç±»çš„å­ç±»çš„å®ä¾‹ï¼Œä½†ç”¨æˆ·ä¸çŸ¥é“è¯¥ç±»æœ‰å“ªäº›å­ç±»å¯ç”¨ ä¼˜ç‚¹ ä½¿ç”¨å·¥å‚æ–¹æ³•å¯ä»¥è®©ç”¨æˆ·çš„ä»£ç å’ŒæŸä¸ªç‰¹å®šç±»çš„å­ç±»çš„ä»£ç è§£è€¦ å·¥å‚æ–¹æ³•ä½¿ç”¨æˆ·ä¸å¿…çŸ¥é“å®ƒæ‰€ä½¿ç”¨çš„å¯¹è±¡æ˜¯æ€æ ·è¢«åˆ›å»ºçš„ï¼Œåªéœ€çŸ¥é“è¯¥å¯¹è±¡æœ‰å“ªäº›æ–¹æ³•å³å¯ã€‚ å¦‚ä½•å®ç° æŠ½è±¡ä¸€ä¸ªäº§å“ï¼ŒåŒç®€å•å·¥å‚ç¬¬ä¸€æ­¥ã€‚ æŠ½è±¡å‡ºä¸€ä¸ªå·¥å‚ç±»å’Œnä¸ªå…·ä½“å·¥å‚ 1234567891011121314151617181920212223public interface IFactory &#123; /** * ç”Ÿäº§å®ä¾‹ * * @return */ Phone produce();&#125;//é­…æ—å·¥å‚public class MeizuFactory implements IFactory&#123; @Override public Phone produce() &#123; return new MeizuPhone(); &#125;&#125;//å°ç±³å·¥å‚public class XiaoMiFactory implements IFactory &#123; @Override public Phone produce() &#123; return new XiaoMiPhone(); &#125;&#125; ç°åœ¨æˆ‘è¦ç”Ÿäº§é­…æ—æ‰‹æœºå°±æ–°å»ºé­…æ—å·¥å‚ï¼Œå°ç±³å°±æ–°å»ºå°ç±³å·¥å‚ã€‚ 123456789public class Client &#123; public static void main(String[] args) &#123; IFactory meizu = new MeizuFactory(); meizu.produce().brand(); IFactory xiaomi = new XiaoMiFactory(); xiaomi.produce().brand(); &#125;&#125; UML æŠ½è±¡å·¥å‚æ¨¡å¼ å®šä¹‰ï¼šæä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— é¡»æŒ‡å®šä»–ä»¬çš„å…·ä½“çš„ç±»ã€‚ ç°åœ¨æ¯ä¸ªå·¥å‚åªç”Ÿäº§äº†æ‰‹æœºï¼Œä½†ç°åœ¨æƒ³è¦å†ç”Ÿäº§è€³æœºå‘¢ï¼Ÿäºæ˜¯æˆ‘åˆæŠ½è±¡å‡ºæ¥äº†â€œæŠ½è±¡ç±»è€³æœºâ€ã€‚ 12345678910111213141516171819202122public abstract class Headset &#123; public String name; public Double price; /** * æ’­æ”¾ */ public abstract void play(); &#125; public class XiaomiHeadset extends Headset &#123; @Override public void play() &#123; System.out.println(\"å°ç±³è€³æœºæ’­æ”¾éŸ³ä¹\"); &#125;&#125;public class MeizuHeadset extends Headset &#123; @Override public void play() &#123; System.out.println(\"é­…æ—è€³æœºæ’­æ”¾éŸ³ä¹\"); &#125;&#125; äºæ˜¯æˆ‘åœ¨æŠ½è±¡å·¥å‚ç±»ä¸­æ‰©å±•ç±»ä¸€ä¸ªç”Ÿäº§è€³æœºçš„æ–¹æ³•ï¼š 1234567891011121314151617181920212223242526272829303132333435public interface IFactory &#123; /** * ç”Ÿäº§å®ä¾‹ * * @return */ Phone produce(); /** * ç”Ÿäº§è€³æœº * * @return */ Headset produceHeadset();&#125;public class MeizuFactory implements IFactory&#123; @Override public Phone produce() &#123; return new MeizuPhone(); &#125; @Override public Headset produceHeadset() &#123; return new MeizuHeadset(); &#125;&#125;public class XiaoMiFactory implements IFactory &#123; @Override public Phone produce() &#123; return new XiaoMiPhone(); &#125; @Override public Headset produceHeadset() &#123; return new XiaoMiHeadset(); &#125;&#125; ç°åœ¨é­…æ—æˆ–å°ç±³æ— è®ºæƒ³è¦ç”Ÿäº§æ‰‹æœºæˆ–è€³æœºï¼Œå°±å¯ä»¥æ–°å»ºè‡ªå·±çš„å·¥å‚ï¼Œç„¶åè°ƒç”¨å¯¹åº”çš„ç”Ÿäº§æ–¹æ³•å°±å¯ä»¥äº†ã€‚ 1234567891011public class Client &#123; public static void main(String[] args) &#123; IAbstractFactory meizu = new MeizuFactory(); meizu.produceHeadset().play(); meizu.producePhone().run(); IAbstractFactory xiaomi = new XiaomiFactory(); xiaomi.produceHeadset().play(); xiaomi.producePhone().run(); &#125;&#125; UML æ€»ç»“çœŸå®çš„å¿ å‘Šï¼šçœ‹ä¸‰éä¸å¦‚å®è·µä¸€éï¼Œçœ‹ä¸‰éåŠ å®è·µæ•ˆæœæ›´ä½³ã€‚ ç»“åˆUMLå›¾å°±å¯ä»¥çŸ¥é“ä¸‰è€…çš„åŒºåˆ«ã€‚ ç®€å•å·¥å‚æ¨¡å¼ ä¸€ä¸ªæŠ½è±¡çš„äº§å“ï¼Œnä¸ªå…·ä½“çš„äº§å“ æ²¡æœ‰æŠ½è±¡å·¥å‚ï¼Œ1ä¸ªå…·ä½“å·¥å‚ æ ¹æ®è¾“å…¥çš„å‚æ•°ä¸åŒï¼Œåˆ›å»ºä¸åŒçš„å…·ä½“äº§å“ å·¥å‚æ–¹æ³•æ¨¡å¼ ä¸€ä¸ªæŠ½è±¡çš„äº§å“ï¼Œnä¸ªå…·ä½“çš„äº§å“ ä¸€ä¸ªæŠ½è±¡çš„å·¥å‚ï¼Œnä¸ªå…·ä½“çš„å·¥å‚ æ¯ä¸ªå·¥å‚åªç”Ÿäº§ä¸€ä¸ªäº§å“ æŠ½è±¡å·¥å‚æ¨¡å¼ ä¸€ä¸ªæŠ½è±¡çš„äº§å“ï¼Œnä¸ªå…·ä½“çš„äº§å“ ä¸€ä¸ªæŠ½è±¡çš„å·¥å‚ï¼Œnä¸ªå…·ä½“çš„å·¥å‚ æ¯ä¸ªå·¥å‚åªç”Ÿäº§nä¸ªäº§å“","link":"/2018/07/28/è®¾è®¡æ¨¡å¼-å·¥å‚æ–¹æ³•æ¨¡å¼/"},{"title":"Spring MVCå…¥é—¨ç¤ºä¾‹","text":"æœ¬æ–‡ç”±flyheroç¿»è¯‘ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨SpringMVCæ¡†æ¶æ„å»ºä¸€ä¸ªhello worldçš„webåº”ç”¨ç¨‹åºã€‚SpringMVCæ˜¯Springæ¡†æ¶ä¸­æœ€é‡è¦çš„æ¨¡å—ä¹‹ä¸€ã€‚å®ƒä»¥å¼ºå¤§çš„Spring IOCå®¹å™¨ä¸ºåŸºç¡€å¹¶ä¸”å……åˆ†çš„åˆ©ç”¨å®¹å™¨çš„ç‰¹å¾æ¥ç®€åŒ–å®ƒçš„é…ç½®ã€‚ ç›®å½•è¡¨ ä»€ä¹ˆæ˜¯MVCæ¡†æ¶ï¼Ÿ Dispatcher Servlet(Spring Controller) Spring MVC Hello Worldä¾‹å­ è¿è¡Œæ—¶ä¾èµ– é…ç½®web.xmlå’Œspring-servlet.xmlæ–‡ä»¶ è¯·æ±‚å¤„ç†å™¨EmployeeController.java è§†å›¾æ¨¡å‹EmployeeVO.java Daoå±‚ç±» Serviceå±‚ç±» è§†å›¾employeesListDisplay.jsp ä»€ä¹ˆæ˜¯MVCæ¡†æ¶ï¼ŸModel-view-controller (MVC) æ˜¯ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„ä»¥åº”ç”¨ç¨‹åºä¸ºåŸºç¡€çš„ç•Œé¢è®¾è®¡çš„è®¾è®¡æ¨¡å¼ã€‚åœ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œå®ƒä¸»è¦æ˜¯ä»UIä¸­è§£è€¦ä¸šåŠ¡é€»è¾‘é€šè¿‡åˆ†ç¦»model,view,å’Œcontrollerçš„ä½œç”¨ã€‚é€šå¸¸ï¼Œmodelsæ˜¯è´Ÿè´£ä¸ºå½“å‰è§†å›¾å°è£…åº”ç”¨ç¨‹åºæ•°æ®ã€‚viewsä»…åº”è¯¥å±•ç°è¿™äº›æ•°æ®ï¼Œå¹¶ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚controlleræ˜¯è´Ÿè´£æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚å¹¶è°ƒç”¨åç«¯servicesï¼ˆmanager or daoï¼‰è¿›è¡Œä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚å¤„ç†ä¹‹åï¼Œåç«¯serviceså¯èƒ½è¿”å›ä¸€äº›æ•°æ®ä¾›viewså±•ç¤ºã€‚Controllers æ”¶é›†è¿™äº›æ•°æ®å¹¶ä¸”å‡†å¤‡modelsç»™viewå±•ç¤ºã€‚MVCæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä»UIä¸­åˆ†æä¸šåŠ¡é€»è¾‘ä»¥å…è®¸å®ƒä»¬å„è‡ªæ”¹å˜è€Œä¸ç›¸äº’å½±å“ã€‚åœ¨ä¸€ä¸ªSpringMVCåº”ç”¨ç¨‹åºä¸­ï¼Œmodelsé€šå¸¸ç”±POJOå¯¹è±¡ç»„æˆï¼Œå®ƒè¢«serviceå±‚å¤„ç†ï¼Œåœ¨æŒä¹…å±‚è¢«æŒä¹…åŒ–ã€‚Viewsé€šå¸¸æ˜¯ç”¨Java Standard Tag Library(JSTL)å†™çš„JSPæ¨¡æ¿ã€‚Controller éƒ¨åˆ†æ˜¯ç”±dispatcher servletæ¥ç®¡ç†ï¼Œæˆ‘ä»¬å°†åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­å­¦ä¹ æ›´å¤šç»†èŠ‚ã€‚ ä¸€äº›å¼€å‘è€…è®¤ä¸ºserviceå±‚å’ŒDAOå±‚ç±»åœ¨MVCä¸­æ˜¯modelçš„ç»„æˆéƒ¨åˆ†ï¼Œåœ¨è¿™é‡Œæˆ‘æœ‰ä¸åŒçš„è§‚ç‚¹ã€‚æˆ‘ä¸è®¤ä¸ºserviceå±‚å’ŒDAOå±‚ç±»æ˜¯MVCæ¡†æ¶ä¸­çš„éƒ¨åˆ†ã€‚é€šå¸¸ä¸€ä¸ªwebåº”ç”¨ç¨‹åºæ˜¯3å±‚æ¶æ„ï¼Œå³data-service-presentationã€‚MVCé€šå¸¸æ˜¯è¡¨ç°å±‚(presentation )çš„ä¸€éƒ¨åˆ†ã€‚ Dispatcher Servlet (Spring Controller)åœ¨æœ€ç®€å•çš„Spring MVCåº”ç”¨ç¨‹åºä¸­ï¼Œä½ éœ€è¦åœ¨ä¸€ä¸ªJava webéƒ¨ç½²æè¿°ï¼ˆå³web.xmlï¼‰ä¸­é…ç½®çš„å”¯ä¸€çš„servletã€‚ä¸€ä¸ªSpring MVC controller â€”â€”ç»å¸¸è¢«å«åšä¸€ä¸ªå®ç°front controllerè®¾è®¡æ¨¡å¼çš„Dispatcher Servletï¼Œå¹¶ä¸”æ¯ä¸ªwebè¯·æ±‚å¿…é¡»é€šè¿‡å®ƒä»¥è‡³äºå®ƒèƒ½ç®¡ç†æ‰€æœ‰çš„è¯·æ±‚ç”Ÿå‘½å‘¨æœŸã€‚ å½“ä¸€ä¸ªwebè¯·æ±‚å‘é€åˆ°ä¸€ä¸ªSpring MVCåº”ç”¨ç¨‹åºæ—¶ï¼Œdispatcher servleté¦–å…ˆæ¥æ”¶è¿™ä¸ªè¯·æ±‚ã€‚ç„¶åï¼Œå®ƒå°†åœ¨Springâ€™s webåº”ç”¨ä¸Šä¸‹æ–‡ä¸­ç»„ç»‡ä¸åŒçš„ç»„ä»¶é…ç½®ï¼ˆä¾‹å¦‚ï¼šçœŸå®çš„è¯·æ±‚å¤„ç†æ§åˆ¶å™¨å’Œè§†å›¾è§£æå™¨ï¼‰æˆ–è€…åœ¨controlleræœ¬èº«ä¸­æ³¨è§£ç›®å‰æ‰€æœ‰éœ€è¦å¤„ç†çš„è¯·æ±‚ã€‚ ä¸ºäº†åœ¨Spring 3.0ä¸­å®šä¹‰ä¸€ä¸ªcontrollerç±»ï¼Œç±»ä¸å¾—ä¸è¢«@Controlleræ³¨è§£æ ‡è®°ã€‚å½“ä¸€ä¸ªå¸¦æœ‰@Controlleræ³¨è§£çš„controlleræ¥æ”¶ä¸€ä¸ªè¯·æ±‚ï¼Œå®ƒä¼šå¯»æ‰¾ä¸€ä¸ªé€‚åˆçš„å¤„ç†æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ã€‚è¿™å°±éœ€è¦ä¸€ä¸ªcontrollerç±»æ˜ å°„æ¯ä¸ªè¯·æ±‚åˆ°ä¸€ä¸ªå¤„ç†æ–¹æ³•ï¼Œé€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ªå¤„ç†æ˜ å°„ã€‚ä¸ºäº†å¦‚æ­¤ï¼Œä¸€ä¸ªcontrollerç±»çš„æ–¹æ³•ä¼šè¢«@RequestMappingæ³¨è§£æ¥ä¿®é¥°ï¼Œä½¿å®ƒä»¬æˆä¸ºå¤„ç†æ–¹æ³•ã€‚ ä¸€ä¸ªå¤„ç†æ–¹æ³•å¤„ç†è¯·æ±‚å®Œæˆåï¼Œå®ƒå°†æ§åˆ¶æƒå§”æ‰˜ç»™è§†å›¾ï¼Œè¡¨ç¤ºä¸ºå¤„ç†æ–¹æ³•çš„è¿”å›å€¼ã€‚ä¸ºäº†æä¾›ä¸€ä¸ªçµæ´»çš„æ–¹æ³•ï¼Œä¸€ä¸ªå¤„ç†æ–¹æ³•çš„è¿”å›å€¼ä¸ä»£è¡¨ä¸€ä¸ªè§†å›¾çš„å®ç°ï¼Œä½†æ˜¯ç›¸å½“äºä¸€ä¸ªæ²¡æœ‰ä»»ä½•çš„æ–‡ä»¶æ‰©å±•çš„é€»è¾‘è§†å›¾ã€‚ä½ èƒ½å¤Ÿæ˜ å°„è¿™äº›é€»è¾‘è§†å›¾åˆ°æ­£ç¡®çš„å®ç°åˆ°applicationContextæ–‡ä»¶ä»¥è‡³äºä½ å¯ä»¥å®¹æ˜“çš„æ”¹å˜ä½ çš„è§†å›¾å±‚è€Œæ²¡æœ‰æ¥è§¦è¯·æ±‚å¤„ç†çš„ç±»ä»£ç ã€‚ ä¸ºäº†è§£å†³ä¸€ä¸ªé€»è¾‘åç§°åŒ¹é…æ­£ç¡®çš„æ–‡ä»¶ï¼Œè¿™æ˜¯è§†å›¾è§£æå™¨ï¼ˆview resolversï¼‰çš„è´£ä»»ã€‚ä¸€æ—¦controllerç±»æŠŠè§†å›¾åç§°è§£æåˆ°ä¸€ä¸ªè§†å›¾å®ç°ï¼Œå®ƒä¼šæ ¹æ®æ¯ä¸ªè§†å›¾çš„å®ç°è®¾è®¡æ¥æ¸²æŸ“å¯¹è±¡ã€‚ Hello Worldä¾‹å­åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘åˆ›å»ºäº†æœ€ç®€å•çš„å‘˜å·¥ç®¡ç†ç¨‹åºç¤ºä¾‹ï¼Œå®ƒä»…æœ‰ä¸€ä¸ªåŠŸèƒ½å³åœ¨ç³»ç»Ÿä¸­åˆ—å‡ºæ‰€æœ‰çš„åœ¨èŒå‘˜å·¥ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸‹é¢è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç›®å½•ç»“æ„ã€‚ç°åœ¨æ¥è®©æˆ‘ä»¬æ¥å†™æ‰€æœ‰æœ‰å…³çš„æ–‡ä»¶åˆ°è¿™ä¸ªhello worldåº”ç”¨ä¸­ã€‚ pom.xml ä¸‹é¢ pom.xml æ–‡ä»¶åŒ…å«äº† spring mvcçš„ä¾èµ–å’Œå†™Jspæ–‡ä»¶çš„æ ‡ç­¾åº“ã€‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.howtodoinjava.demo&lt;/groupId&gt; &lt;artifactId&gt;springmvcexample&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;name&gt;springmvcexample Maven Webapp&lt;/name&gt; &lt;url&gt;http://maven.apache.org&lt;/url&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- Spring MVC support --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;4.1.4.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-web&lt;/artifactId&gt; &lt;version&gt;4.1.4.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Tag libs support for view layer --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;taglibs&lt;/groupId&gt; &lt;artifactId&gt;standard&lt;/artifactId&gt; &lt;version&gt;1.1.2&lt;/version&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;finalName&gt;springmvcexample&lt;/finalName&gt; &lt;/build&gt;&lt;/project&gt; web.xml è¿™ä¸ªæœ€ç®€web.xmlæ–‡ä»¶å£°æ˜ä¸€ä¸ªservletï¼ˆå³dispatcher servletï¼‰ç”¨äºæ¥æ”¶æ‰€æœ‰ç§ç±»çš„è¯·æ±‚ã€‚dispatcher servletè¿™é‡Œå……å½“å‰ç½®æ§åˆ¶å™¨ã€‚ 12345678910111213141516171819202122&lt;web-app id=&quot;WebApp_ID&quot; version=&quot;2.4&quot; xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt; &lt;display-name&gt;Spring Web MVC Hello World Application&lt;/display-name&gt; &lt;servlet&gt; &lt;servlet-name&gt;spring&lt;/servlet-name&gt; &lt;servlet-class&gt; org.springframework.web.servlet.DispatcherServlet &lt;/servlet-class&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;spring&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; spring-servlet.xml (ä½ ä¹Ÿèƒ½å¤Ÿä½¿ç”¨applicationContext.xmlæ–‡ä»¶) æˆ‘ä»¬åœ¨è¯·æ±‚handlerã€serviceã€daoå±‚ä½¿ç”¨å¸¦æ³¨è§£çš„ç±»ï¼Œæ‰€ä»¥åœ¨åŸºç¡€çš„åŒ…ä¸­æˆ‘å¯¹æ‰€æœ‰çš„ç±»æ–‡ä»¶è¿›è¡Œæ³¨è§£å¤„ç†ã€‚â€œcom.howtodoinjava.demoâ€œ12345678910111213141516171819&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context/ http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt; &lt;context:component-scan base-package=&quot;com.howtodoinjava.demo&quot; /&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping&quot; /&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot; /&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt;&lt;/beans&gt; EmployeeController.java åœ¨ç±»å’Œæ–¹æ³•ä¸Šæ³¨è§£@RequestMappingæ¥å†³å®šURLåœ¨å“ªä¸ªæ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚12345678910111213141516171819202122import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import com.howtodoinjava.demo.service.EmployeeManager;@Controller@RequestMapping(&quot;/employee-module&quot;)public class EmployeeController &#123; @Autowired EmployeeManager manager; @RequestMapping(value = &quot;/getAllEmployees&quot;, method = RequestMethod.GET) public String getAllEmployees(Model model) &#123; model.addAttribute(&quot;employees&quot;, manager.getAllEmployees()); return &quot;employeesListDisplay&quot;; &#125;&#125; æ›´å¤šå…³äºï¼š How to use @Component, @Repository, @Service and @Controller Annotations? EmployeeVO.java è¿™ä¸ªç±»å……å½“MVCæ¨¡å¼çš„modelã€‚ 1234567891011121314151617181920package com.howtodoinjava.demo.model;import java.io.Serializable;public class EmployeeVO implements Serializable &#123; private static final long serialVersionUID = 1L; private Integer id; private String firstName; private String lastName; //Setters and Getters @Override public String toString() &#123; return \"EmployeeVO [id=\" + id + \", firstName=\" + firstName + \", lastName=\" + lastName + \"]\"; &#125;&#125; EmployeeDAO.java è¿™ä¸ªç±»åœ¨ä¸‰å±‚ç»“æ„ä¸­æ˜¯ç¬¬ä¸‰å±‚ï¼Œè´Ÿè´£ä¸åº•å±‚æ•°æ®åº“çš„äº¤äº’ã€‚ 12345678import java.util.List;import com.howtodoinjava.demo.model.EmployeeVO;public interface EmployeeDAO &#123; public List&lt;EmployeeVO&gt; getAllEmployees();&#125; EmployeeDAOImpl.java 1234567891011121314151617181920212223242526272829import java.util.ArrayList;import java.util.List;import org.springframework.stereotype.Repository;import com.howtodoinjava.demo.model.EmployeeVO;@Repositorypublic class EmployeeDAOImpl implements EmployeeDAO &#123; public List&lt;EmployeeVO&gt; getAllEmployees() &#123; List&lt;EmployeeVO&gt; employees = new ArrayList&lt;EmployeeVO&gt;(); EmployeeVO vo1 = new EmployeeVO(); vo1.setId(1); vo1.setFirstName(\"Lokesh\"); vo1.setLastName(\"Gupta\"); employees.add(vo1); EmployeeVO vo2 = new EmployeeVO(); vo2.setId(2); vo2.setFirstName(\"Raj\"); vo2.setLastName(\"Kishore\"); employees.add(vo2); return employees; &#125;&#125; EmployeeManager.java è¿™ä¸ªç±»åœ¨ä¸‰å±‚æ¶æ„ä¸­å±äºç¬¬äºŒå±‚ï¼Œè´Ÿè´£ä¸DAOå±‚çš„äº¤äº’ã€‚12345678import java.util.List;import com.howtodoinjava.demo.model.EmployeeVO;public interface EmployeeManager &#123; public List&lt;EmployeeVO&gt; getAllEmployees();&#125; EmployeeManagerImpl.java12345678910111213141516171819import java.util.List;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import com.howtodoinjava.demo.dao.EmployeeDAO;import com.howtodoinjava.demo.model.EmployeeVO;@Servicepublic class EmployeeManagerImpl implements EmployeeManager &#123; @Autowired EmployeeDAO dao; public List&lt;EmployeeVO&gt; getAllEmployees() &#123; return dao.getAllEmployees(); &#125;&#125; employeesListDisplay.jsp è¿™ä¸ªjspç”¨äºå±•ç¤ºç³»ç»Ÿä¸­æ‰€æœ‰çš„å‘˜å·¥ã€‚å®ƒå¾ªç¯éå†å‘˜å·¥é›†åˆï¼Œå¹¶ä¸”è¾“å‡ºä»–ä»¬çš„è¯¦ç»†åˆ°è¡¨æ ¼ä¸­ã€‚è¿™ç¬¦åˆMVCçš„è§†å›¾å±‚ã€‚ 12345678910111213141516171819202122232425262728&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;%&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Spring MVC Hello World&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h2&gt;All Employees in System&lt;/h2&gt; &lt;table border=&quot;1&quot;&gt; &lt;tr&gt; &lt;th&gt;Employee Id&lt;/th&gt; &lt;th&gt;First Name&lt;/th&gt; &lt;th&gt;Last Name&lt;/th&gt; &lt;/tr&gt; &lt;c:forEach items=&quot;$&#123;employees&#125;&quot; var=&quot;employee&quot;&gt; &lt;tr&gt; &lt;td&gt;$&#123;employee.id&#125;&lt;/td&gt; &lt;td&gt;$&#123;employee.firstName&#125;&lt;/td&gt; &lt;td&gt;$&#123;employee.lastName&#125;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/table&gt;&lt;/body&gt;&lt;/html&gt; ç°åœ¨éƒ¨ç½²åº”ç”¨ç¨‹åºåˆ°ä½ çš„æœåŠ¡å™¨ï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯tomcat 7ï¼‰ã€‚å¹¶ä¸”ç‚¹å‡»URLâ€œhttp://localhost:8080/springmvcexample/employee-module/getAllEmployeesâ€ã€‚å¦‚æœä½ æ­£ç¡®é…ç½®æ‰€æœ‰ï¼Œä½ ä¼šçœ‹åˆ°ä¸‹é¢å±å¹•ã€‚ æºç ä¸‹è½½ åœ¨è¿™ä¸ªæ•™ç¨‹ä¸­ï¼Œå¦‚æœå®ƒä¸ä¸ºä½ å·¥ä½œæˆ–æ˜¯ä¸æ¸…æ¥šçš„ï¼Œé‚£ä¹ˆç»™æˆ‘ç•™è¨€è¯„è®ºã€‚","link":"/2016/08/30/Spring-MVCå…¥é—¨ç¤ºä¾‹/"},{"title":"Springäº‹åŠ¡ä¼ æ’­å’Œäº‹åŠ¡éš”ç¦»","text":"äº‹åŠ¡å¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…è®¸å¤šæ•°æ®ä¸ä¸€è‡´æ€§çš„é—®é¢˜ã€‚ ä»€ä¹ˆæ˜¯äº‹åŠ¡ä¼ æ’­ï¼Ÿå°±æ˜¯ä¸€ä¸ªäº‹åŠ¡ä¸­é‡åˆ°å…¶å®ƒäº‹åŠ¡ï¼Œspringè¯¥å¦‚ä½•æ¥å¤„ç†è¿™äº›äº‹åŠ¡çš„è¡Œä¸ºã€‚ ä»€ä¹ˆæ˜¯äº‹åŠ¡éš”ç¦»ï¼Ÿå‡è‹¥ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶å¯¹åŒä¸€æ•°æ®è¿›è¡Œæ“ä½œï¼Œä¸ºäº†æœ‰æ•ˆä¿è¯å¹¶å‘è¯»å–æ•°æ®çš„æ­£ç¡®æ€§ï¼Œspringå¯¹è¿™äº›æƒ…å†µçš„è¿›è¡Œå¤„ç†ã€‚ ä¸¤è€…å¯¹æ¯”å¯¹æ¯”äº‹åŠ¡ä¼ æ’­å’Œäº‹åŠ¡éš”ç¦»æ¥è®²ï¼šï¼ˆå¦‚æœ‰ä¸å¦¥ï¼Œè¯·æŒ‡å‡ºï¼‰ ä¼ æ’­æ˜¯é¡ºåºè¿›è¡Œçš„ éš”ç¦»æ˜¯åŒæ—¶è¿›è¡Œçš„ ç”¨å›¾æ¥è¯´æ˜è·å–æ›´åŠ å½¢è±¡ å¦‚æœä½ äº†è§£è„è¯»ï¼Œå¹»è¯»ï¼Œä¸å¯é‡å¤è¯»çš„è¯ï¼Œé‚£äº‹åŠ¡éš”ç¦»æ›´åŠ å®¹æ˜“ç†è§£äº†ã€‚ çŸ¥é“äº†ä»€ä¹ˆæ˜¯äº‹åŠ¡ä¼ æ’­å’Œéš”ç¦»ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹äº‹åŠ¡ä¼ æ’­å’Œéš”ç¦»éƒ½æœ‰å“ªäº›ï¼Ÿ äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºåœ¨Spring çš„äº‹åŠ¡ä¸­ï¼Œ å¯ä»¥é€šè¿‡ propagation æ¥å®šä¹‰äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºï¼š åç§° æ„ä¹‰ PROPAGATION_REQUIRED è‹¥å½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²ç»å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ï¼ˆå¸¸ç”¨ï¼‰ PROPAGATION_SUPPORTS æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼ˆå¸¸ç”¨ï¼‰ PROPAGATION_REQUIRES_NEW æ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ï¼ˆå¸¸ç”¨ï¼‰ PROPAGATION_MANDATORY ä½¿ç”¨å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚ PROPAGATION_NOT_SUPPORTED ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ PROPAGATION_NEVER ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ PROPAGATION_NESTED å¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸ PROPAGATION_REQUIREDç±»ä¼¼çš„æ“ä½œã€‚ éš”ç¦»ç•Œåˆ«åœ¨Spring çš„äº‹åŠ¡ä¸­ï¼Œ å¯ä»¥é€šè¿‡ isolation æ¥å®šä¹‰ã€‚ è¯¥éš”ç¦»ç•Œåˆ«ä¸»è¦å®šä¹‰äº†ä¸€ä¸ªäº‹åŠ¡å’Œå…¶ä»–äº‹åŠ¡è¿›è¡Œçš„èµ„æºæˆ–è€…æ•°æ®æ›´æ”¹ç›¸éš”ç¦»çš„ç¨‹åº¦ã€‚ åç§° æ„ä¹‰ è„è¯» å¹»è¯» ä¸å¯é‡å¤è¯» ISOLATION_DEFAULT é»˜è®¤çš„éš”ç¦»çº§åˆ«ï¼Œä½¿ç”¨æ•°æ®åº“é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«. ISOLATION_READ_UNCOMMITTED è¿™æ˜¯äº‹åŠ¡æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå®ƒå……è®¸ä»¤å¤–ä¸€ä¸ªäº‹åŠ¡å¯ä»¥çœ‹åˆ°è¿™ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚ âˆš âˆš âˆš OLATION_READ_COMMITTED ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹çš„æ•°æ®æäº¤åæ‰èƒ½è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡è¯»å–ã€‚å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¸èƒ½è¯»å–è¯¥äº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚ Ã— âˆš âˆš ISOLATION_REPEATABLE_READ å®ƒä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¸èƒ½è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®å¤–ï¼Œè¿˜é¿å…ä¸å¯é‡å¤è¯»çš„æƒ…å†µäº§ç”Ÿã€‚ Ã— âˆš Ã— ISOLATION_SERIALIZABLE è¿™æ˜¯èŠ±è´¹æœ€é«˜ä»£ä»·ä½†æ˜¯æœ€å¯é çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œäº‹åŠ¡è¢«å¤„ç†ä¸ºé¡ºåºæ‰§è¡Œã€‚é™¤äº†é˜²æ­¢è„è¯»ï¼Œä¸å¯é‡å¤è¯»å¤–ï¼Œè¿˜é¿å…äº†å¹»åƒè¯»ã€‚ Ã— Ã— Ã— MySQL äº‹åŠ¡éš”ç¦»çº§åˆ« åç§° è„è¯» å¹»è¯» ä¸å¯é‡å¤è¯» è¯»æœªæäº¤ READ UNCOMMITTED âˆš âˆš âˆš è¯»å·²æäº¤ READ COMMITTED Ã— âˆš âˆš å¯é‡å¤è¯» REPEATABLE READ Ã— âˆš Ã— å¯ä¸²è¡ŒåŒ– SERIALIZABLE Ã— Ã— Ã— åœ¨MySQLæ•°æ®åº“ä¸­ï¼Œæ”¯æŒä¸Šé¢å››ç§éš”ç¦»çº§åˆ«ï¼Œé»˜è®¤çš„ä¸ºRepeatable read (å¯é‡å¤è¯»)ï¼› åœ¨Oracleæ•°æ®åº“ä¸­ï¼Œåªæ”¯æŒSerializable (ä¸²è¡ŒåŒ–)çº§åˆ«å’ŒRead committed (è¯»å·²æäº¤)è¿™ä¸¤ç§çº§åˆ«ï¼Œå…¶ä¸­é»˜è®¤çš„ä¸ºRead committedçº§åˆ«ã€‚ è„è¯»ï¼Œå¹»è¯»ï¼Œä¸å¯é‡å¤è¯» åç§° æ„ä¹‰ è„è¯» æŒ‡å½“ä¸€ä¸ªäº‹åŠ¡æ­£åœ¨è®¿é—®æ•°æ®ï¼Œå¹¶ä¸”å¯¹æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œè€Œè¿™ç§ä¿®æ”¹è¿˜æ²¡æœ‰æäº¤åˆ°æ•°æ®åº“ä¸­ï¼Œè¿™æ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¿™ä¸ªæ•°æ®ï¼Œç„¶åä½¿ç”¨äº†è¿™ä¸ªæ•°æ®ã€‚å› ä¸ºè¿™ä¸ªæ•°æ®æ˜¯è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ï¼Œé‚£ä¹ˆå¦å¤–ä¸€ä¸ªäº‹åŠ¡è¯»åˆ°çš„è¿™ä¸ªæ•°æ®æ˜¯è„æ•°æ®ï¼Œä¾æ®è„æ•°æ®æ‰€åšçš„æ“ä½œå¯èƒ½æ˜¯ä¸æ­£ç¡®çš„ã€‚ å¹»è¯» æŒ‡å½“äº‹åŠ¡ä¸æ˜¯ç‹¬ç«‹æ‰§è¡Œæ—¶å‘ç”Ÿçš„ä¸€ç§ç°è±¡ï¼Œä¾‹å¦‚ç¬¬ä¸€ä¸ªäº‹åŠ¡å¯¹ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®è¿›è¡Œäº†ä¿®æ”¹ï¼Œè¿™ç§ä¿®æ”¹æ¶‰åŠåˆ°è¡¨ä¸­çš„å…¨éƒ¨æ•°æ®è¡Œã€‚åŒæ—¶ï¼Œç¬¬äºŒä¸ªäº‹åŠ¡ä¹Ÿä¿®æ”¹è¿™ä¸ªè¡¨ä¸­çš„æ•°æ®ï¼Œè¿™ç§ä¿®æ”¹æ˜¯å‘è¡¨ä¸­æ’å…¥ä¸€è¡Œæ–°æ•°æ®ã€‚é‚£ä¹ˆï¼Œä»¥åå°±ä¼šå‘ç”Ÿæ“ä½œç¬¬ä¸€ä¸ªäº‹åŠ¡çš„ç”¨æˆ·å‘ç°è¡¨ä¸­è¿˜æœ‰æ²¡æœ‰ä¿®æ”¹çš„æ•°æ®è¡Œï¼Œå°±å¥½è±¡å‘ç”Ÿäº†å¹»è§‰ä¸€æ ·ã€‚ ä¸å¯é‡å¤è¯» æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ï¼Œå¤šæ¬¡è¯»åŒä¸€æ•°æ®ã€‚åœ¨è¿™ä¸ªäº‹åŠ¡è¿˜æ²¡æœ‰ç»“æŸæ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®è¯¥åŒä¸€æ•°æ®ã€‚é‚£ä¹ˆï¼Œåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­çš„ä¸¤æ¬¡è¯»æ•°æ®ä¹‹é—´ï¼Œç”±äºç¬¬äºŒä¸ªäº‹åŠ¡çš„ä¿®æ”¹ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™æ ·å°±å‘ç”Ÿäº†åœ¨ä¸€ä¸ªäº‹åŠ¡å†…ä¸¤æ¬¡è¯»åˆ°çš„æ•°æ®æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤ç§°ä¸ºæ˜¯ä¸å¯é‡å¤è¯»ã€‚ ä¸¾ä¾‹ ç†è§£springäº‹åŠ¡ä¼ æ’­å‡å¦‚userService.deleteUser()äº‹åŠ¡ä¸­è°ƒç”¨äº†scoreService.deleteScore()æ–¹æ³•ã€‚ 123456//UserService.javapublic void deleteUser(int id)&#123; userDao.delete(id); scoreService.deleteScore(id);&#125; è‹¥ä¸¤ä¸ªæ–¹éƒ½æ˜¯springé»˜è®¤äº‹åŠ¡ä¼ æ’­ï¼Œå½“æ‰§è¡ŒuserService.deleteUser()çš„æ—¶å€™springå·²ç»èµ·äº†äº‹åŠ¡ï¼Œè¿™æ—¶è°ƒç”¨ scoreService.deleteScore()ï¼ŒscoreService.deleteScore() çœ‹åˆ°è‡ªå·±å·²ç»è¿è¡Œåœ¨ userService.deleteUser()çš„äº‹åŠ¡å†…éƒ¨ï¼Œå°±ä¸å†èµ·æ–°çš„äº‹åŠ¡ã€‚ è‹¥userService.deleteUser()æ²¡æœ‰äº‹åŠ¡ï¼Œé‚£ä¹ˆscoreService.deleteScore() è¿è¡Œçš„æ—¶å€™å‘ç°è‡ªå·±æ²¡æœ‰åœ¨äº‹åŠ¡ä¸­ï¼Œå®ƒå°±ä¼šä¸ºè‡ªå·±åˆ†é…ä¸€ä¸ªäº‹åŠ¡ã€‚ è¿™æ ·ï¼Œåœ¨userService.deleteUser() æˆ–è€…åœ¨scoreService.deleteScore() å†…çš„ä»»ä½•åœ°æ–¹å‡ºç°å¼‚å¸¸ï¼Œäº‹åŠ¡éƒ½ä¼šè¢«å›æ»šã€‚ è‹¥userService.deleteUser()çš„äº‹åŠ¡çº§åˆ«ä¸º PROPAGATION_REQUIREDï¼›scoreService.deleteScore() çš„äº‹åŠ¡çº§åˆ«ä¸º PROPAGATION_REQUIRES_NEWã€‚ é‚£ä¹ˆå½“æ‰§è¡Œåˆ°scoreService.deleteScore() çš„æ—¶å€™ï¼ŒuserService.deleteUser() æ‰€åœ¨çš„äº‹åŠ¡å°±ä¼šæŒ‚èµ·ï¼ŒscoreService.deleteScore() ä¼šèµ·ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œç­‰å¾… scoreService.deleteScore()çš„äº‹åŠ¡å®Œæˆä»¥åï¼Œå®ƒæ‰ç»§ç»­æ‰§è¡Œã€‚ PROPAGATION_REQUIRES_NEWä¸ PROPAGATION_REQUIRED çš„äº‹åŠ¡åŒºåˆ«åœ¨äºäº‹åŠ¡çš„å›æ»šç¨‹åº¦äº†ã€‚å› ä¸º scoreService.deleteScore() æ˜¯æ–°èµ·ä¸€ä¸ªäº‹åŠ¡ï¼Œé‚£ä¹ˆå°±æ˜¯å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„äº‹åŠ¡ã€‚å¦‚æœ scoreService.deleteScore()å·²ç»æäº¤ï¼Œé‚£ä¹ˆuserService.deleteUser() å¤±è´¥å›æ»šï¼ŒscoreService.deleteScore()æ˜¯ä¸ä¼šå›æ»šçš„ã€‚å¦‚æœscoreService.deleteScore() å¤±è´¥å›æ»šï¼Œå¦‚æœä»–æŠ›å‡ºçš„å¼‚å¸¸è¢«userService.deleteUser()æ•è·ï¼ŒuserService.deleteUser()äº‹åŠ¡ä»ç„¶å¯èƒ½æäº¤(ä¸»è¦çœ‹BæŠ›å‡ºçš„å¼‚å¸¸æ˜¯ä¸æ˜¯Aä¼šå›æ»šçš„å¼‚å¸¸)ã€‚ scoreService.deleteScore()çš„äº‹åŠ¡çº§åˆ«ä¸º PROPAGATION_SUPPORTSï¼Œé‚£ä¹ˆå½“æ‰§è¡Œåˆ°scoreService.deleteScore()æ—¶ï¼Œå¦‚æœå‘ç°userService.deleteUser()å·²ç»å¼€å¯äº†ä¸€ä¸ªäº‹åŠ¡ï¼Œåˆ™åŠ å…¥å½“å‰çš„äº‹åŠ¡ï¼Œå¦‚æœå‘ç°userService.deleteUser()æ²¡æœ‰å¼€å¯äº‹åŠ¡ï¼Œåˆ™è‡ªå·±ä¹Ÿä¸å¼€å¯äº‹åŠ¡ã€‚è¿™ç§æ—¶å€™ï¼Œå†…éƒ¨æ–¹æ³•çš„äº‹åŠ¡æ€§å®Œå…¨ä¾èµ–äºæœ€å¤–å±‚çš„äº‹åŠ¡ã€‚ 5.è‹¥scoreService.deleteScore()çš„äº‹åŠ¡å±æ€§è¢«é…ç½®ä¸º PROPAGATION_NESTED, æ­¤æ—¶ä¸¤è€…ä¹‹é—´åˆå°†å¦‚ä½•åä½œå‘¢? scoreService.deleteScore()å¦‚æœå›æ»š, é‚£ä¹ˆå†…éƒ¨äº‹åŠ¡(å³ scoreService.deleteScore()) å°†å›æ»šåˆ°å®ƒæ‰§è¡Œå‰çš„ SavePoint è€Œå¤–éƒ¨äº‹åŠ¡(å³ userService.deleteUser()) å¯ä»¥æœ‰ä»¥ä¸‹ä¸¤ç§å¤„ç†æ–¹å¼: aã€æ•è·å¼‚å¸¸ï¼Œæ‰§è¡Œå¼‚å¸¸åˆ†æ”¯é€»è¾‘ 1234567public void deleteUser() &#123; try &#123; scoreService.deleteScore(); &#125; catch (Exception e) &#123; // æ‰§è¡Œå…¶ä»–ä¸šåŠ¡ &#125; &#125; è¿™ç§æ–¹å¼ä¹Ÿæ˜¯åµŒå¥—äº‹åŠ¡æœ€æœ‰ä»·å€¼çš„åœ°æ–¹, å®ƒèµ·åˆ°äº†åˆ†æ”¯æ‰§è¡Œçš„æ•ˆæœ, å¦‚æœscoreService.deleteScore()å¤±è´¥, é‚£ä¹ˆæ‰§è¡Œå…¶ä»–ä¸šåŠ¡, è€ŒscoreService.deleteScore()å·²ç»å›æ»šåˆ°å®ƒæ‰§è¡Œä¹‹å‰çš„ä¿å­˜ç‚¹(SavePoint), æ‰€ä»¥ä¸ä¼šäº§ç”Ÿè„æ•°æ®(ç›¸å½“äºæ­¤æ–¹æ³•ä»æœªæ‰§è¡Œè¿‡), è¿™ç§ç‰¹æ€§å¯ä»¥ç”¨åœ¨æŸäº›ç‰¹æ®Šçš„ä¸šåŠ¡ä¸­, è€Œ PROPAGATION_REQUIRED å’Œ PROPAGATION_REQUIRES_NEW éƒ½æ²¡æœ‰åŠæ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚ bã€ å¤–éƒ¨äº‹åŠ¡å›æ»š/æäº¤ ä»£ç ä¸åšä»»ä½•ä¿®æ”¹, å¦‚æœå†…éƒ¨äº‹åŠ¡å›æ»š, é‚£ä¹ˆé¦–å…ˆå®ƒå°†å›æ»šåˆ°å®ƒæ‰§è¡Œä¹‹å‰çš„ ä¿å­˜ç‚¹(SavePoint)(åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šå¦‚æ­¤), å¤–éƒ¨äº‹åŠ¡å°†æ ¹æ®å…·ä½“çš„é…ç½®å†³å®šè‡ªå·±æ˜¯æäº¤è¿˜æ˜¯å›æ»šã€‚ ä¿å­˜ç‚¹ï¼ˆsavepointï¼‰æ˜¯äº‹åŠ¡è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé€»è¾‘ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠäº‹åŠ¡å›é€€åˆ°è¿™ä¸ªç‚¹ï¼Œè€Œä¸å¿…å›é€€æ•´ä¸ªäº‹åŠ¡ã€‚ å¦‚ä½•åœ¨Springæ¡†æ¶ä¸­ä½¿ç”¨å£°æ˜å¼äº‹åŠ¡ï¼ŸSpringçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†æ˜¯åŸºäºAOPçš„ï¼Œè€ŒAOPæ˜¯é€šè¿‡åŠ¨æ€ä»£ç†å®ç°çš„ã€‚åŠ¨æ€ä»£ç†çš„ä¸€ä¸ªé‡è¦ç‰¹å¾æ˜¯ï¼šå®ƒæ˜¯é’ˆå¯¹æ¥å£çš„ï¼Œæ‰€ä»¥å¦‚æœdaoæˆ–è€…serviceè¦é€šè¿‡åŠ¨æ€ä»£ç†è®©Springæ¥ç®¡äº‹åŠ¡ï¼Œå°±å¿…é¡»åœ¨daoæˆ–è€…serviceæŠ½è±¡ä¸€ä¸ªæ¥å£ã€‚å¸¸è§çš„å½¢å¼æ¯”å¦‚ï¼š 12æ¥å£ç±»ï¼šUserServiceå®ç°ç±»ï¼šUserServiceImpl å½“ç„¶å¦‚æœæ²¡æœ‰è¿™æ ·çš„æ¥å£ï¼Œé‚£ä¹ˆSpringä¼šä½¿ç”¨CGLibæ¥è§£å†³é—®é¢˜ï¼Œä½†è¿™ä¸æ˜¯Springæ¨èçš„æ–¹å¼ã€‚ åŸºäº@Transactionalçš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†Springå¼•å…¥äº†åŸºäº Annotation çš„æ–¹å¼ï¼Œå…·ä½“ä¸»è¦æ¶‰åŠ @Transactional æ ‡æ³¨ã€‚ åœ¨springçš„xmlé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼šspring-service.xml 123456789101112&lt;!-- æ‰«æserviceåŒ…ä¸‹æ‰€æœ‰ä½¿ç”¨æ³¨è§£çš„ç±»å‹ --&gt;&lt;context:component-scan base-package=&quot;com.flyhero.flyapi.service.impl&quot; /&gt;&lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt;&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;&lt;/bean&gt;&lt;!-- é…ç½®åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡ --&gt;&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt; @Transactional å¯ä»¥ä½œç”¨äºæ¥å£ã€æ¥å£æ–¹æ³•ã€ç±»ä»¥åŠç±»æ–¹æ³•ä¸Šã€‚å½“ä½œç”¨äºç±»ä¸Šæ—¶ï¼Œè¯¥ç±»çš„æ‰€æœ‰ public æ–¹æ³•å°†éƒ½å…·æœ‰è¯¥ç±»å‹çš„äº‹åŠ¡å±æ€§ï¼ŒåŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ–¹æ³•çº§åˆ«ä½¿ç”¨è¯¥æ ‡æ³¨æ¥è¦†ç›–ç±»çº§åˆ«çš„å®šä¹‰ã€‚ 1234567@Transactionalpublic interface UserService &#123; //å°†è¦†ç›–æ¥å£ä¸Šçš„äº‹åŠ¡ @Transactional(propagation=Propagation.REQUIRED) User findById(int id); &#125; 123456789@Transactionalpublic class ScoreServiceImpl&#123; //å°†è¦†ç›–ç±»ä¸Šçš„äº‹åŠ¡ @Transactional(propagation=Propagation.REQUIRED) public int insert(User user) &#123; int num=userMapper.insertSelective(user); return num; &#125;&#125; è™½ç„¶ @Transactional æ³¨è§£å¯ä»¥ä½œç”¨äºæ¥å£ã€æ¥å£æ–¹æ³•ã€ç±»ä»¥åŠç±»æ–¹æ³•ä¸Šï¼Œä½†æ˜¯ Spring å»ºè®®ä¸è¦åœ¨æ¥å£æˆ–è€…æ¥å£æ–¹æ³•ä¸Šä½¿ç”¨è¯¥æ³¨è§£ï¼Œå› ä¸ºè¿™åªæœ‰åœ¨ä½¿ç”¨åŸºäºæ¥å£çš„ä»£ç†æ—¶å®ƒæ‰ä¼šç”Ÿæ•ˆã€‚å¦å¤–ï¼Œ @Transactional æ³¨è§£åº”è¯¥åªè¢«åº”ç”¨åˆ° public æ–¹æ³•ä¸Šï¼Œè¿™æ˜¯ç”± Spring AOP çš„æœ¬è´¨å†³å®šçš„ã€‚å¦‚æœä½ åœ¨ protectedã€private æˆ–è€…é»˜è®¤å¯è§æ€§çš„æ–¹æ³•ä¸Šä½¿ç”¨ @Transactional æ³¨è§£ï¼Œè¿™å°†è¢«å¿½ç•¥ï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºä»»ä½•å¼‚å¸¸ã€‚ åŸºäºtxå‘½åç©ºé—´çš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†åœ¨springçš„xmlé…ç½®æ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼šspring-service.xml12345678910111213141516171819202122232425 &lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;defaultDataSource&quot; /&gt;&lt;/bean&gt;&lt;!--æ‹¦æˆªå™¨æ–¹å¼é…ç½®äº‹ç‰© --&gt; &lt;tx:advice id=&quot;transactionAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt; &lt;tx:attributes&gt; &lt;tx:method name=&quot;add*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;save*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;insert*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;modify*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot; /&gt; &lt;tx:method name=&quot;find*&quot; propagation=&quot;SUPPORTS&quot; /&gt; &lt;tx:method name=&quot;query*&quot; propagation=&quot;SUPPORTS&quot; /&gt; &lt;tx:method name=&quot;search*&quot; propagation=&quot;SUPPORTS&quot; /&gt; &lt;tx:method name=&quot;*&quot; propagation=&quot;SUPPORTS&quot; /&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt;&lt;aop:config expose-proxy=&quot;true&quot;&gt; &lt;!-- åªå¯¹ä¸šåŠ¡é€»è¾‘å±‚å®æ–½äº‹åŠ¡ --&gt; &lt;aop:pointcut id=&quot;transactionPointcut&quot; expression=&quot;execution(* com.flyhero.flyapi.service.*.*(..))&quot; /&gt; &lt;!--Advisorå®šä¹‰ï¼Œåˆ‡å…¥ç‚¹å’Œé€šçŸ¥åˆ†åˆ«ä¸ºtransactionPointcutã€transactionAdvice --&gt; &lt;aop:advisor pointcut-ref=&quot;transactionPointcut&quot; advice-ref=&quot;transactionAdvice&quot;/&gt; &lt;/aop:config&gt; execution(* com.flyhero.flyapi.service.*.*(..))ä»£ç å½“ä¸­ç¬¬ä¸€ä¸ª ä¸ºå®šä¹‰é€šé… è¿”å›å€¼ç±»å‹ï¼›ç¬¬äºŒä¸ª ä¸ºå®šä¹‰é€šé… com.flyhero.flyapi.serviceåŒ…ä¸­æ‰€æœ‰ç±»ï¼›ç¬¬ä¸‰ä¸ª* ä¸ºå®šä¹‰é€šé… ç±»ä¸­çš„ä»»æ„æ–¹æ³•ã€‚ç¬¬å››(..) ä¸ºå®šä¹‰æ–¹æ³•ä¸­å¯ä»¥æœ‰ä»»æ„å‚æ•°ã€‚ è¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åœ¨æ–¹æ³•ä¸Šä½¿ç”¨@Transactionalæ³¨è§£äº†ã€‚ æ³¨è§£æ–¹å¼å’Œå‘½åç©ºé—´æ–¹å¼å¯¹æ¯” æ–¹å¼ ä¼˜ç‚¹ ç¼ºç‚¹ æ³¨è§£æ–¹å¼ ä½¿ç”¨èµ·æ¥éå¸¸ç®€å•æ˜äº†ï¼Œæ²¡æœ‰å­¦ä¹ æˆæœ¬ å¿…é¡»åœ¨æ¯ä¸€ä¸ªéœ€è¦ä½¿ç”¨äº‹åŠ¡çš„æ–¹æ³•æˆ–è€…ç±»ä¸Šç”¨ @Transactional æ ‡æ³¨ å‘½åç©ºé—´æ–¹å¼ ä¸åˆ‡ç‚¹è¡¨è¾¾å¼ç»“åˆï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œåˆ©ç”¨åˆ‡ç‚¹è¡¨è¾¾å¼ï¼Œä¸€ä¸ªé…ç½®å¯ä»¥åŒ¹é…å¤šä¸ªæ–¹æ³• é…ç½®è¾ƒå¤šï¼Œå¯¹äºæ–°æ‰‹æ˜“å‡ºé”™ é¡¹ç›®ä¸­é‡åˆ°çš„é—®é¢˜ï¼š @Transactional é‡ä¸Š try catch","link":"/2017/06/28/Springäº‹åŠ¡ä¼ æ’­å’Œäº‹åŠ¡éš”ç¦»/"},{"title":"ä¸€ä¸¾æ‹¿ä¸‹String","text":"å­—ç¬¦ä¸²å¹¿æ³›åº”ç”¨ åœ¨Java ç¼–ç¨‹ä¸­ï¼Œåœ¨ Java ä¸­å­—ç¬¦ä¸²å±äºå¯¹è±¡ï¼ŒJava æä¾›äº† String ç±»æ¥åˆ›å»ºå’Œæ“ä½œå­—ç¬¦ä¸²ã€‚ 1. String ç®€ä»‹Stringå®šä¹‰: 12public final class String implements java.io.Serializable, Comparable&lt;String&gt;, CharSequence &#123;&#125; 1.1 ä¸ºä»€ä¹ˆè®¾è®¡ä¸ºä¸å¯å˜ç±»å‘¢ï¼Ÿ Stringè®¾è®¡ä¸ºä¸å¯å˜ç±»ä¸»è¦è€ƒè™‘åˆ°ï¼šæ•ˆç‡å’Œå®‰å…¨ã€‚ æ•ˆç‡ï¼š1.åœ¨æ—©æœŸçš„JVMå®ç°ç‰ˆæœ¬ä¸­ï¼Œè¢«finalä¿®é¥°çš„æ–¹æ³•ä¼šè¢«è½¬ä¸ºå†…åµŒè°ƒç”¨ä»¥æå‡æ‰§è¡Œæ•ˆç‡ã€‚è€Œä»Java SE5/6å¼€å§‹ï¼Œå°±æ¸æ¸æ‘ˆå¼ƒè¿™ç§æ–¹å¼äº†ã€‚å› æ­¤åœ¨ç°åœ¨çš„Java SEç‰ˆæœ¬ä¸­ï¼Œä¸éœ€è¦è€ƒè™‘ç”¨finalå»æå‡æ–¹æ³•è°ƒç”¨æ•ˆç‡ã€‚åªæœ‰åœ¨ç¡®å®šä¸æƒ³è®©è¯¥æ–¹æ³•è¢«è¦†ç›–æ—¶ï¼Œæ‰å°†æ–¹æ³•è®¾ç½®ä¸ºfinalã€‚2.ç¼“å­˜hashcodeï¼ŒStringä¸å¯å˜ï¼Œæ‰€ä»¥hashcodeä¸å˜ï¼Œè¿™æ ·ç¼“å­˜æ‰æœ‰æ„ä¹‰ï¼Œä¸å¿…é‡æ–°è®¡ç®—ã€‚ å®‰å…¨ï¼šStringå¸¸è¢«ä½œä¸ºç½‘ç»œè¿æ¥ï¼Œæ–‡ä»¶æ“ä½œç­‰å‚æ•°ç±»å‹ï¼Œå€˜è‹¥å¯æ”¹å˜ï¼Œä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚ 2. æµ‹è¯•æŒæ¡ç¨‹åº¦ä¸ºäº†ä¸æµªè´¹ä½ çš„æ—¶é—´ï¼Œè¯·çœ‹ä¸‹é¢çš„é¢˜ç›®ï¼Œè‹¥ä½ ä¸€ç›®äº†ç„¶ï¼Œå¯ä»¥è·³è¿‡æœ¬æ–‡äº†ã€‚ 12345678910111213141516171819String str1 = \"HelloFlyapi\";String str2 = \"HelloFlyapi\";String str3 = new String(\"HelloFlyapi\");String str4 = \"Hello\";String str5 = \"Flyapi\";String str6 = \"Hello\" + \"Flyapi\";String str7 = str4 + str5;logger.info(\"str1 == str2 result: &#123;&#125;\",str1 == str2);logger.info(\"str1 == str3 result: &#123;&#125;\",str1 == str3);logger.info(\"str1 == str6 result: &#123;&#125;\",str1 == str6);logger.info(\"str1 == str7 result: &#123;&#125;\",str1 == str7);logger.info(\"str1 == str7.intern() result: &#123;&#125;\",str1 == str7.intern());logger.info(\"str3 == str3.intern() result: &#123;&#125;\",str3 == str3.intern()); 3. String çš„åˆ›å»ºæ–¹å¼ä»ä¸Šé¢çš„é¢˜ä¸­ä½ ä¼šçŸ¥é“ï¼ŒStringçš„åˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§ï¼š 3.1 ç›´æ¥èµ‹å€¼ æ­¤æ–¹å¼åœ¨æ–¹æ³•åŒºä¸­å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºå¯¹è±¡1String str = &quot;flyapi&quot;; 3.2 æ„é€ å™¨ æ­¤æ–¹å¼åœ¨å †å†…å­˜åˆ›å»ºå¯¹è±¡ 1String str = new String(); 4. åˆ†æè¦ç†è§£Stringï¼Œé‚£ä¹ˆè¦äº†è§£JVMå†…å­˜ä¸­çš„æ ˆ(stack)ã€å †(heap)å’Œæ–¹æ³•åŒºã€‚ç®€è¦å›¾ï¼ˆè¯¦ç»†å¯æŸ¥çœ‹å¦ä¸€ç¯‡æ–‡ç« ï¼‰å¦‚ä¸‹ï¼š str1 == str2 1234String str1 = &quot;HelloFlyapi&quot;;String str2 = &quot;HelloFlyapi&quot;;System.out.println(str1 == str2); // true å½“æ‰§è¡Œç¬¬ä¸€å¥æ—¶ï¼ŒJVMä¼šå…ˆå»å¸¸é‡æ± ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨HelloFlyapiï¼Œå½“å­˜åœ¨æ—¶ç›´æ¥è¿”å›å¸¸é‡æ± é‡Œçš„å¼•ç”¨ï¼›å½“ä¸å­˜åœ¨æ—¶ï¼Œä¼šåœ¨å­—ç¬¦åˆ›å¸¸é‡æ± ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¹¶è¿”å›å¼•ç”¨ã€‚ å½“æ‰§è¡Œç¬¬äºŒå¥æ—¶ï¼ŒåŒæ ·çš„é“ç†ï¼Œç”±äºç¬¬ä¸€å¥å·²ç»åœ¨å¸¸é‡æ± ä¸­åˆ›å»ºäº†ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›ä¸Šå¥åˆ›å»ºçš„å¯¹è±¡çš„å¼•ç”¨ã€‚ str1 == str3 1234String str1 = \"HelloFlyapi\";String str3 = new String(\"HelloFlyapi\");System.out.println(str1 == str3); // false æ‰§è¡Œç¬¬ä¸€å¥ï¼ŒåŒä¸Šç¬¬ä¸€å¥ã€‚ æ‰§è¡Œç¬¬äºŒå¥æ—¶ï¼Œä¼šåœ¨å †ï¼ˆheapï¼‰ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå½“å­—ç¬¦åˆ›å¸¸é‡æ± ä¸­æ²¡æœ‰â€˜HelloFlyapiâ€™æ—¶ï¼Œä¼šåœ¨å¸¸é‡æ± ä¸­ä¹Ÿåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼›å½“å¸¸é‡æ± ä¸­å·²ç»å­˜åœ¨äº†ï¼Œå°±ä¸ä¼šåˆ›å»ºæ–°çš„äº†ã€‚ str1 == str6 1234String str1 = \"HelloFlyapi\";String str6 = \"Hello\" + \"Flyapi\";System.out.println(str1 == str6); // true ç”±äºâ€Helloâ€å’Œâ€Flyapiâ€éƒ½æ˜¯å¸¸é‡ï¼Œç¼–è¯‘æ—¶ï¼Œç¬¬äºŒå¥ä¼šè¢«è‡ªåŠ¨ç¼–è¯‘ä¸ºâ€˜String str6 = â€œHelloFlyapiâ€;â€™ str1 == str7 123456String str1 = \"HelloFlyapi\";String str4 = \"Hello\";String str5 = \"Flyapi\";String str7 = str4 + str5;System.out.println(str1 == str7); // false å…¶ä¸­å‰ä¸‰å¥å˜é‡å­˜å‚¨çš„æ˜¯å¸¸é‡æ± ä¸­çš„å¼•ç”¨åœ°å€ã€‚ ç¬¬å››å¥æ‰§è¡Œæ—¶ï¼ŒJVMä¼šåœ¨å †ï¼ˆheapï¼‰ä¸­åˆ›å»ºä¸€ä¸ªä»¥str4ä¸ºåŸºç¡€çš„ä¸€ä¸ªStringBuilderå¯¹è±¡ï¼Œç„¶åè°ƒç”¨StringBuilderçš„append()æ–¹æ³•å®Œæˆä¸str5çš„åˆå¹¶ï¼Œä¹‹åä¼šè°ƒç”¨toString()æ–¹æ³•åœ¨å †ï¼ˆheapï¼‰ä¸­åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ï¼Œå¹¶æŠŠè¿™ä¸ªStringå¯¹è±¡çš„å¼•ç”¨èµ‹ç»™str7ã€‚ 5. å¸¸ç”¨æ–¹æ³•ä¸‹é¢æ˜¯ String ç±»æ”¯æŒçš„æ–¹æ³•ï¼Œæ›´å¤šè¯¦ç»†ï¼Œå‚çœ‹ Java String API æ–‡æ¡£: æ–¹æ³• æè¿° char charAt(int index) è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„ char å€¼ã€‚ int compareTo(Object o) æŠŠè¿™ä¸ªå­—ç¬¦ä¸²å’Œå¦ä¸€ä¸ªå¯¹è±¡æ¯”è¾ƒã€‚ int compareTo(String anotherString) æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚ int compareToIgnoreCase(String str) æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä¸è€ƒè™‘å¤§å°å†™ã€‚ String concat(String str) å°†æŒ‡å®šå­—ç¬¦ä¸²è¿æ¥åˆ°æ­¤å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚ boolean contentEquals(StringBuffer sb) å½“ä¸”ä»…å½“å­—ç¬¦ä¸²ä¸æŒ‡å®šçš„StringButteræœ‰ç›¸åŒé¡ºåºçš„å­—ç¬¦æ—¶å€™è¿”å›çœŸã€‚ static String copyValueOf(char[] data) è¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„ Stringã€‚ static String copyValueOf(char[] data, int offset, int count) è¿”å›æŒ‡å®šæ•°ç»„ä¸­è¡¨ç¤ºè¯¥å­—ç¬¦åºåˆ—çš„ Stringã€‚ boolean endsWith(String suffix) æµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„åç¼€ç»“æŸã€‚ boolean equals(Object anObject) å°†æ­¤å­—ç¬¦ä¸²ä¸æŒ‡å®šçš„å¯¹è±¡æ¯”è¾ƒã€‚ boolean equalsIgnoreCase(String anotherString) å°†æ­¤ String ä¸å¦ä¸€ä¸ª String æ¯”è¾ƒï¼Œä¸è€ƒè™‘å¤§å°å†™ã€‚ byte[] getBytes() ä½¿ç”¨å¹³å°çš„é»˜è®¤å­—ç¬¦é›†å°†æ­¤ String ç¼–ç ä¸º byte åºåˆ—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªæ–°çš„ byte æ•°ç»„ä¸­ã€‚ byte[] getBytes(String charsetName) ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦é›†å°†æ­¤ String ç¼–ç ä¸º byte åºåˆ—ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åˆ°ä¸€ä¸ªæ–°çš„ byte æ•°ç»„ä¸­ã€‚ void getChars(int srcBegin, int srcEnd, char[] dst, int dstBegin) å°†å­—ç¬¦ä»æ­¤å­—ç¬¦ä¸²å¤åˆ¶åˆ°ç›®æ ‡å­—ç¬¦æ•°ç»„ã€‚ int hashCode() è¿”å›æ­¤å­—ç¬¦ä¸²çš„å“ˆå¸Œç ã€‚ int indexOf(int ch) è¿”å›æŒ‡å®šå­—ç¬¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚ int indexOf(int ch, int fromIndex) è¿”å›åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æŒ‡å®šå­—ç¬¦å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹æœç´¢ã€‚ int indexOf(String str) è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚ int indexOf(String str, int fromIndex) è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹ã€‚ String intern() è¿”å›å­—ç¬¦ä¸²å¯¹è±¡çš„è§„èŒƒåŒ–è¡¨ç¤ºå½¢å¼ã€‚ int lastIndexOf(int ch) è¿”å›æŒ‡å®šå­—ç¬¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ã€‚ int lastIndexOf(int ch, int fromIndex) è¿”å›æŒ‡å®šå­—ç¬¦åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¤„å¼€å§‹è¿›è¡Œåå‘æœç´¢ã€‚ int lastIndexOf(String str) è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€å³è¾¹å‡ºç°å¤„çš„ç´¢å¼•ã€‚ int lastIndexOf(String str, int fromIndex) è¿”å›æŒ‡å®šå­å­—ç¬¦ä¸²åœ¨æ­¤å­—ç¬¦ä¸²ä¸­æœ€åä¸€æ¬¡å‡ºç°å¤„çš„ç´¢å¼•ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹åå‘æœç´¢ã€‚ int length() è¿”å›æ­¤å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ boolean matches(String regex) å‘ŠçŸ¥æ­¤å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ boolean regionMatches(boolean ignoreCase, int toffset, String other, int ooffset, int len) æµ‹è¯•ä¸¤ä¸ªå­—ç¬¦ä¸²åŒºåŸŸæ˜¯å¦ç›¸ç­‰ã€‚ boolean regionMatches(int toffset, String other, int ooffset, int len) æµ‹è¯•ä¸¤ä¸ªå­—ç¬¦ä¸²åŒºåŸŸæ˜¯å¦ç›¸ç­‰ã€‚ String replace(char oldChar, char newChar) è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯é€šè¿‡ç”¨ newChar æ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ‰€æœ‰ oldChar å¾—åˆ°çš„ã€‚ String replaceAll(String regex, String replacement) ä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²æ‰€æœ‰åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„å­å­—ç¬¦ä¸²ã€‚ String replaceFirst(String regex, String replacement) ä½¿ç”¨ç»™å®šçš„ replacement æ›¿æ¢æ­¤å­—ç¬¦ä¸²åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ String[] split(String regex) æ ¹æ®ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚ String[] split(String regex, int limit) æ ¹æ®åŒ¹é…ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼æ¥æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚ boolean startsWith(String prefix) æµ‹è¯•æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å‰ç¼€å¼€å§‹ã€‚ boolean startsWith(String prefix, int toffset) æµ‹è¯•æ­¤å­—ç¬¦ä¸²ä»æŒ‡å®šç´¢å¼•å¼€å§‹çš„å­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå‰ç¼€å¼€å§‹ã€‚ CharSequence subSequence(int beginIndex, int endIndex) è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦åºåˆ—ï¼Œå®ƒæ˜¯æ­¤åºåˆ—çš„ä¸€ä¸ªå­åºåˆ—ã€‚ String substring(int beginIndex) è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ String substring(int beginIndex, int endIndex) è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯æ­¤å­—ç¬¦ä¸²çš„ä¸€ä¸ªå­å­—ç¬¦ä¸²ã€‚ char[] toCharArray() å°†æ­¤å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦æ•°ç»„ã€‚ String toLowerCase() ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒçš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå°å†™ã€‚ String toLowerCase(Locale locale) ä½¿ç”¨ç»™å®š Locale çš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå°å†™ã€‚ String toString() è¿”å›æ­¤å¯¹è±¡æœ¬èº«ï¼ˆå®ƒå·²ç»æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ï¼‰ã€‚ String toUpperCase() ä½¿ç”¨é»˜è®¤è¯­è¨€ç¯å¢ƒçš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå¤§å†™ã€‚ String toUpperCase(Locale locale) ä½¿ç”¨ç»™å®š Locale çš„è§„åˆ™å°†æ­¤ String ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½è½¬æ¢ä¸ºå¤§å†™ã€‚ String trim() è¿”å›å­—ç¬¦ä¸²çš„å‰¯æœ¬ï¼Œå¿½ç•¥å‰å¯¼ç©ºç™½å’Œå°¾éƒ¨ç©ºç™½ã€‚ static String valueOf(primitive data type x) è¿”å›ç»™å®šdata typeç±»å‹xå‚æ•°çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ 6. Stringç›¸å…³ç”±äºStringçš„ä¸å¯å˜æ€§å¯¼è‡´ï¼Œå­—ç¬¦ä¸²å˜æ›´æ—¶æ•ˆç‡ä½ä¸‹ï¼Œåœ¨ä¹‹åå¾—JDKç‰ˆæœ¬ä¸­å‡ºç°äº†StringBuilderå’ŒStringBuffer. ç±» å¯å˜æ€§ çº¿ç¨‹å®‰å…¨ String ä¸å¯å˜ å®‰å…¨ StringBuffer å¯å˜ å®‰å…¨ StringBuilder å¯å˜ éå®‰å…¨ 7. å¸¸è§Stringé¢è¯•é¢˜ String str = new String(â€œabcâ€)åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Ÿ è¿™ä¸ªé—®é¢˜å…¶å®æ˜¯ä¸ä¸¥è°¨çš„ï¼Œä½†é¢è¯•ä¸€èˆ¬ä¼šé‡åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¡¥å……æ¥è¯´æ˜ã€‚ ç±»çš„åŠ è½½å’Œæ‰§è¡Œè¦åˆ†å¼€æ¥è®²ï¼š å½“åŠ è½½ç±»æ—¶ï¼Œâ€abcâ€è¢«åˆ›å»ºå¹¶é©»ç•™åœ¨äº†å­—ç¬¦åˆ›å¸¸é‡æ± ä¸­ï¼ˆå¦‚æœå…ˆå‰åŠ è½½ä¸­æ²¡æœ‰åˆ›å»ºé©»ç•™è¿‡ï¼‰ã€‚ å½“æ‰§è¡Œæ­¤å¥æ—¶ï¼Œå› ä¸ºâ€abcâ€å¯¹åº”çš„Stringå®ä¾‹å·²ç»å­˜åœ¨äºå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ï¼Œæ‰€ä»¥JVMä¼šå°†æ­¤å®ä¾‹å¤åˆ¶åˆ°ä¼šåœ¨å †ï¼ˆheapï¼‰ä¸­å¹¶è¿”å›å¼•ç”¨åœ°å€ã€‚ é€šè¿‡å­—èŠ‚ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š1234567Code: 0: new #2 // class java/lang/String 3: dup 4: ldc #3 // String wang 6: invokespecial #4 // Method java/lang/String.&quot;&lt;init&gt;&quot;:(Ljava/lang/String;)V 9: astore_1 10: return æ‰§è¡Œæ—¶ä»…åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ã€‚ å…³äºè¿™ä¸ªé¢è¯•é¢˜ï¼Œå¯ä»¥çœ‹çœ‹ä¸€ä¸ªè¶…å¤§ç‰›çš„å›ç­”ï¼šhttp://rednaxelafx.iteye.com/blog/774673","link":"/2018/03/11/ä¸€ä¸¾æ‹¿ä¸‹String/"},{"title":"ã€è¯»ã€‘Javaæ ¸å¿ƒæŠ€æœ¯å·1","text":"çœ‹åˆ°è¿™æœ¬ä¹¦æ—¶ï¼Œæˆ‘çš„å†…å¿ƒæ˜¯å´©æºƒçš„ï¼Œå·1å°±700å¤šé¡µï¼Œä½†æ˜¯è¿™æœ¬ä¹¦æ˜¯å¾ˆå¤šå‰è¾ˆæ‰€æ¨èçš„ï¼Œæƒ³å¿…å…¶ä¸­å¿…æœ‰ç²¾åæ‰€åœ¨ï¼Œç¡¬ç€å¤´çš®ä¸Šå§ã€‚ é˜…è¯»æ–¹å¼ æ‹¿åˆ°ä¹¦çš„ç¬¬ä¸€çœ¼è‚¯å®šå»çœ‹ç›®å½•ï¼Œå¤§æ¦‚äº†è§£ä¸€ä¸‹ï¼Œå„ä¸ªç« èŠ‚æ‰€è®²å†…å®¹ã€‚ ä¸ºè¡¨å¯¹ä½œè€…çš„å°Šé‡ï¼Œå¿«è¯»æ‰«è¯»äº†ï¼Œè¯‘è€…åºã€å‰è¨€å’Œè‡´è°¢ã€‚ é€šè¿‡ç›®å½•äº†è§£åˆ°ï¼Œç¬¬1ï¼Œ2ç« æ‰€è®²æ¦‚è¿°å’Œç¯å¢ƒæ­å»ºï¼Œå¯¹äºæˆ‘æ¥è¯´æ²¡æœ‰ä»·å€¼ï¼Œé€‰æ‹©å¿½ç•¥ã€‚ ç¬¬10ï¼Œ11ï¼Œ12ï¼Œ13ç« æ‰€è®²Javaå›¾å½¢ç•Œé¢ç›¸å…³ï¼Œå½“ä»Šè¿™æ–¹é¢å‡ ä¹å¾ˆå°‘ä½¿ç”¨ï¼Œé€‰æ‹©å¿½ç•¥ã€‚ ç”±äºå¹¶ä¸æ˜¯Javaæ–°æ‰‹ï¼Œæ‰€ä»¥æˆ‘å°†é€‰æ‹©å¯¹æˆ‘æœ‰ç›Šçš„çŸ¥è¯†ç‚¹è¿›è¡Œè®°å½•ã€‚ æœ€åè¯»å®Œï¼Œåº”è¯¥æ€»ç»“æˆæ€ç»´å¯¼å›¾ã€‚ ç¬¬ä¸‰ç«  Javaçš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„é•¿æ•´å‹ long a = 3.14L è¿™é‡Œæ³¨æ„è¦ç”¨å¤§å†™çš„Lä½œä¸ºåç¼€ï¼Œå› ä¸ºå°å†™ l æœ‰æ—¶å¾ˆåƒæ•°å­— 1 æµ®ç‚¹å‹ å•ç²¾åº¦ç±»å‹è¡¨ç¤ºï¼šfloat a = 3.14F æˆ– 3.14f åŒç²¾åº¦ç±»å‹çš„è¡¨ç¤ºï¼šdouble b = 3.14D æˆ– 3.14f æ³¨æ„ï¼šå½“æµ®ç‚¹å‹æ•°å­—æ²¡æœ‰åç¼€æ—¶ï¼ˆå¦‚ï¼š3.14ï¼‰ï¼Œé»˜è®¤ä¸ºdoubleç±»å‹ã€‚å¦å¤–æµ®ç‚¹æ•°å€¼ä¸é€‚ç”¨äºæ— æ³•æ¥å—èˆå…¥è¯¯å·®çš„é‡‘èè®¡ç®—ä¸­ï¼Œå¦‚ 2.0 - 1.1 ç»“æœæ˜¯ 0.89999999999999ï¼Œä¸ºæ›´ç²¾ç¡®çš„è®¡ç®—ï¼Œå¯ä»¥ä½¿ç”¨BigDecimalç±»ã€‚ æœ‰ä¸‰ä¸ªç‰¹æ®Šçš„æµ®ç‚¹å‹æ•°å€¼ï¼š æ­£æ— ç©·å¤§ è´Ÿæ— ç©·å¤§ NaN ï¼ˆä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼‰æ­£æ•´æ•°é™¤ä»¥0çš„ç»“æœæ­£æ— ç©·å¤§(å¦‚ï¼š3/0.0 ç»“æœä¸ºInfinity)ï¼ŒInfinityè¡¨ç¤ºæ— ç©·å¤§çš„æ¦‚å¿µï¼Œ0.0å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„0ï¼Œå®ƒåªæ˜¯éå¸¸æ¥è¿‘0è€Œå·²ã€‚ï¼Œ0/0æˆ–è€…è´Ÿæ•°çš„å¹³æ–¹æ ¹ç»“æœä¸ºNaN.(å¦‚ï¼š0.0/0.0 ï¼ŒMath.sqrt(-3)ç»“æœä¸º NaN )ï¼Œå¯¹äºæ‰€æœ‰æ²¡æœ‰è‰¯å¥½çš„æ•°å­—å®šä¹‰çš„æµ®ç‚¹è®¡ç®—ï¼Œä¾‹å¦‚0.0/0.0ï¼Œæˆ–è€…å¯¹è´Ÿæ•°æ±‚å¹³æ–¹æ ¹å…¶å€¼éƒ½æ˜¯å®ƒ. ç»“åˆèµ‹å€¼å’Œè¿ç®—ç¬¦ x = x + 4ç®€å†™ï¼š x += 4 æ³¨æ„ï¼š å¦‚æœè¿ç®—ç¬¦å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œå…¶ç±»å‹ä¸å·¦ä¾§æ“ä½œæ•°ç±»å‹ä¸åŒï¼Œï¼Œå°±ä¼šå‘ç”Ÿå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå¦‚ int x = 2 ; x += 3.14 ; è¿™ç›¸å½“äº x = ï¼ˆintï¼‰ï¼ˆx + 3.14ï¼‰ è‡ªå¢è‡ªå‡è¿ç®—ç¬¦javaä¸­å€Ÿé‰´äº†Cå’ŒC++çš„åšæ³•ï¼Œæä¾›äº†è‡ªå¢è‡ªå‡è¿ç®—ç¬¦ï¼šn + + å°†å½“å‰å€¼åŠ 1 è¿™ç§è¿ç®—ç¬¦æœ‰ä¸¤ç§å½¢å¼ï¼šè¿ç®—ç¬¦ä½œä¸ºå‰ç¼€å’Œè¿ç®—ç¬¦ä½œä¸ºåç¼€ã€‚ä¾‹ï¼š 1234int m = 7 ;int n = 7 ;int a = 2 * ++n; //a=16,m=8int b = 2 * n++; //b=14,n=8 å‰ç¼€å½¢å¼å…ˆå®ŒæˆåŠ 1ï¼Œåç¼€å½¢å¼ä¼šä½¿ç”¨åŸæ¥çš„å€¼ï¼Œå†åŠ 1ã€‚ ä¸å»ºè®®åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨++,å› ä¸ºè¿™æ ·çš„ä»£ç å¾ˆå®¹æ˜“è®©äººå›°æƒ‘ï¼Œè€Œä¸”ä¼šå¸¦æ¥çƒ¦äººçš„bugã€‚ &amp;&amp;å’Œ&amp; ä¸ ||å’Œ|&amp;&amp;è¡¨ç¤ºé€»è¾‘â€œä¸â€ï¼Œ||è¡¨ç¤ºé€»è¾‘â€œæˆ–â€ã€‚ è¿™ä¸¤ä¸ªè¿ç®—ç¬¦æ˜¯æŒ‰ç…§â€œçŸ­è·¯â€æ–¹å¼æ¥æ±‚å€¼çš„ï¼šå¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ•°å·²ç»èƒ½å¤Ÿç¡®å®šè¡¨è¾¾å¼çš„å€¼ï¼Œç¬¬äºŒä¸ªæ“ä½œæ•°å°±ä¸ä¼šè®¡ç®—äº†ã€‚å¦‚ï¼š12exp1 &amp;&amp; exp2 ,å½“exp1ä¸ºflaseæ—¶ï¼Œé‚£ä¹ˆexp2å°±ä¸ä¼šæ‰§è¡Œäº†ã€‚exp1 || exp2 ,å½“exp1ä¸ºtrueæ—¶ï¼Œé‚£ä¹ˆexp2å°±ä¸ä¼šæ‰§è¡Œäº†ã€‚ &amp;å’Œ| è¿ç®—ç¬¦ä¸é‡‡ç”¨â€œçŸ­è·¯â€æ–¹å¼æ±‚å€¼ï¼Œæ‰€ä»¥ä¸è®ºç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¦ç¡®å®šæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œä¸¤ä¸ªæ“ä½œæ•°éƒ½ä¼šè¢«è®¡ç®—ã€‚ å­—ç¬¦ä¸² æ£€æµ‹æ˜¯å¦ç›¸ç­‰ ä¸€å®šè¦ç”¨equals()å‡½æ•°ï¼Œå®ƒæ˜¯åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸ç­‰ï¼Œè€Œ == æ˜¯åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åœ¨åŒä¸€ä¸ªä½ç½®ä¸Šã€‚å¦‚æœ == ç›¸ç­‰ï¼Œé‚£ä¹ˆequalsä¸€å®šç›¸ç­‰ï¼Œåä¹‹ä¸ç„¶ã€‚ ç©ºä¸²å’ŒNull â€œâ€æ˜¯ä¸€ä¸ªJavaå¯¹è±¡ï¼Œæœ‰è‡ªå·±çš„ä¸²é•¿åº¦ï¼ˆ0ï¼‰å’Œå†…å®¹ï¼ˆç©ºï¼‰ï¼Œå½“ä¸ºNullæ—¶ï¼Œè¡¨ç¤ºç›®å‰æ²¡æœ‰ä»»ä½•å¯¹è±¡ä¸è¯¥å˜é‡å…³è”ã€‚ æ£€æŸ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ—¢ä¸æ˜¯nullä¹Ÿä¸æ˜¯ç©ºä¸²ï¼š1if(str != null &amp;&amp; str.length() != 0) è¦å…ˆæ£€æŸ¥ä¸ä¸ºnullï¼Œå› ä¸ºä¸ºnullæ—¶æ— æ³•è°ƒç”¨length()å‡½æ•°ã€‚ å¤šé‡é€‰æ‹©ï¼šswitch12345678switch(x)&#123; case x1 : *** break; case x2 : *** break;&#125; å…¶ä¸­xå¯ä»¥ä¸ºchar,byte,short,intç±»å‹ï¼Œåˆ°Java SE 7å¼€å§‹ï¼Œå¯ä»¥æ˜¯Stringç±»å‹çš„ã€‚ ä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨switchè¯­å¥ï¼Œå› ä¸ºbreakè¯­å¥çš„å¿˜è®°å®¹æ˜“å¯¼è‡´é—®é¢˜ã€‚ å‘½ä»¤è¡Œå‚æ•°å­¦ä¹ Javaä½ ä¸€å®šçŸ¥é“ä¸‹é¢ä»£ç ï¼š 123456public class Massage&#123; public static void main(String[] args)&#123; System.out.println(args[0]); System.out.println(args[1]); &#125;&#125; å½“ä½ åœ¨å‘½ä»¤è¡Œå˜å¼‚è¿è¡Œè¿™ä¸ªç±»æ—¶ï¼šjava Massage -hello world æ‰“å°ç»“æœï¼š 12helloworld ç¬¬å››ç«  å¯¹è±¡ä¸ç±»ç±»ä¹‹é—´çš„å…³ç³» ä¾èµ–ï¼ˆuses-aï¼‰ Aç±»æ–¹æ³•æ“çºµBç±»å¯¹è±¡ï¼Œå«åšä¸€ä¸ªç±»ä¾èµ–å¦ä¸€ä¸ªç±»ã€‚ èšåˆï¼ˆhas-aï¼‰ Aç±»çš„å¯¹è±¡åŒ…å«Bç±»çš„å¯¹è±¡ã€‚ ç»§æ‰¿ï¼ˆis-aï¼‰ Aç±»ç»§æ‰¿Bç±»ã€‚ æˆ‘ä»¬åº”è¯¥å°½é‡å‡å°‘ç›¸äº’ä¾èµ–çš„ç±»å­˜åœ¨ï¼Œå¦‚æœAç±»ä¸çŸ¥é“Bç±»ï¼Œå°±ä¸ä¼šå…³ç³»Bç±»çš„å˜åŒ–ï¼Œè¿™æ ·Bç±»æ— è®ºæ€ä¹ˆå˜åŒ–éƒ½ä¸ä¼šå¯¼è‡´Açš„bugï¼Œè½¯ä»¶å·¥ç¨‹ä¸Šå«åšï¼šè®©ç±»ä¹‹é—´çš„è€¦åˆåº¦æœ€å°ã€‚ Java 8ä¸­æ–°å¢LocalDateç±»Dateæ˜¯ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºæ—¶é—´ç‚¹çš„Dateç±»ï¼ŒLocalDateç”¨æ¥è¡¨ç¤ºå¤§å®¶ç†Ÿæ‚‰çš„æ—¥å†è¡¨ç¤ºæ³•ã€‚ Dateç±»æ‰€æä¾›çš„æ—¥æœŸå¤„ç†å¹¶æ²¡æœ‰å¤ªå¤§çš„ç”¨é€”ã€‚ 1.Dateå’ŒSimpleDateFormatteréƒ½ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚2.Dateå¯¹æ—¥æœŸçš„è®¡ç®—æ–¹å¼ç¹çï¼Œæœˆä»½ä»0å¼€å§‹ã€‚ åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ä¸ªæ–¹å¼ï¼š 123LocalDate local1 = LocalDate.now();LocalDate local2 = LocalDate.of(2017,10,30); LocalDateå¹¶ä¸åŒ…å«æ—¶é—´ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢è·å–å¹´æœˆæ—¥ï¼š 123int year = local2.getYear();int month = local2.getMonthValue();int day = local2.getDayOfMonth(); å½“ç„¶LocalDateä¹Ÿæä¾›äº†æ—¥æœŸçš„å¢å‡ï¼š 12local2.pulsDays(100);local2.minusDays(100); æ›´å¤šæ–¹æ³•æŸ¥çœ‹APIï¼Œè¿™é‡Œä¸åšè¯¦ç»†è¡¨è¿°ã€‚ finalå®ä¾‹åŸŸå°†å®ä¾‹åŸŸå®šä¹‰ä¸ºfinalï¼Œæ„å»ºå¯¹è±¡æ—¶å¿…é¡»åˆå§‹åŒ–è¿™ä¸ªå®ä¾‹åŸŸï¼Œåé¢çš„æ“ä½œä¸­ä¸èƒ½å¤Ÿå†å¯¹å®ƒè¿›è¡Œä¿®æ”¹ã€‚å¦‚ï¼š 1234public class Employee&#123; private final String name; â€¦â€¦&#125; è¿™ä¸ªnameå±æ€§æ²¡æœ‰setNameæ–¹æ³•ã€‚finalä¿®é¥°ç¬¦å¤§éƒ½åº”ç”¨äºåŸºæœ¬æ•°æ®ç±»å‹æˆ–ä¸å¯å˜çš„ç±»æˆ–å¯¹è±¡ã€‚å¦‚æœç±»ä¸­æ¯ä¸ªæ–¹æ³•éƒ½ä¸ä¼šæ”¹å˜å…¶å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±æ˜¯ä¸å¯å˜ç±»ï¼Œå¦‚Stringç±»ã€‚ å¯¹äºå¯å˜çš„ç±»ä½¿ç”¨finalä¿®é¥°ï¼Œä¼šå¯¹åˆ«äººé€ æˆæ··ä¹±ã€‚å¦‚ï¼š 1private final StringBuilder sb; åœ¨Employeeæ„é€ æ–¹æ³•ä¸­è¿›è¡Œåˆå§‹åŒ– 123public Employee()&#123; sb = new StringBuilder();&#125; finalå…³é”®è¯åªæ˜¯è¡¨ç¤ºå­˜å‚¨åœ¨sbå˜é‡ä¸­çš„å¯¹è±¡åº”ç”¨ä¸ä¼šå†æŒ‡å‘å…¶ä»–StringBuilderå¯¹è±¡ï¼Œä¸è¿‡è¿™ä¸ªå¯¹è±¡å¯ä»¥æ›´æ”¹ï¼š 123public void giveGoldStar()&#123; sb.append( LocalDate.now() + &quot;: Gold star!&quot;);&#125; é™æ€åŸŸ static12345public class Employee&#123; private static int sid = 1001; private int id ; â€¦â€¦&#125; static ä¿®é¥°çš„å¸¸é‡ï¼Œæ˜¯é¢å‘ç±»çš„ï¼Œå³æ— è®ºå­˜åœ¨å¤šå°‘Employeeå¯¹è±¡ï¼Œsidåªå­˜åœ¨ä¸€ä¸ªï¼Œæ‰€æœ‰å¯¹è±¡å°†å…±äº«ä¸€ä¸ªsidï¼Œä½†idå´å’Œå¯¹è±¡åŒå­˜åœ¨ï¼Œå¤šå°‘ä¸ªå¯¹è±¡å°±æœ‰å¤šå°‘ä¸ªidã€‚ï¼ˆstatic ä¿®é¥°åï¼Œå®ƒå±äºç±»ï¼Œè€Œä¸å±äºä»»ä½•å¯¹è±¡ï¼‰ é™æ€å·¥å‚æ–¹æ³•ç±»ä¼¼LocalDate.nowå’ŒLocalDate.oféƒ½æ˜¯ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•æ¥æ„é€ å¯¹è±¡ã€‚ 12345NumberFormat currenyFormatter = NumberFormat.getCurrencyInstance();NumberFormat percentFormatter = NumberFormat.getPercentInstance();double x = 0.1;System.out.println(currenyFormatter.format(x)); //è¾“å‡º $0.10System.out.println(percentFormatter.format(x)); //è¾“å‡º 10% ä¸ºä»€ä¹ˆä¸åˆ©ç”¨æ„é€ æ–¹æ³•æ¥å®Œæˆè¿™äº›æ“ä½œå‘¢ï¼ŸåŸå› ï¼š æ— æ³•å‘½åæ„é€ å™¨ï¼Œè¿™é‡Œå¸Œæœ›å¾—åˆ°çš„è´§å¸å®ä¾‹å’Œç™¾åˆ†æ¯”å®ä¾‹é‡‡ç”¨ä¸åŒçš„åå­—ã€‚ å½“ä½¿ç”¨æ„é€ å™¨æ—¶ï¼Œæ— æ³•æ”¹å˜æ‰€æ„é€ çš„å¯¹è±¡ç±»å‹ï¼Œè€ŒFactoryæ–¹æ³•å°†è¿”å›ä¸€ä¸ªDecimalFormatç±»å¯¹è±¡ï¼Œè¿™æ˜¯NumberFormatçš„å­ç±»ã€‚ æ–¹æ³•å‚æ•°æ–¹æ³•å‚æ•°å…±æœ‰ä¸¤ç§ç±»å‹ï¼š åŸºæœ¬æ•°æ®ç±»å‹ å¯¹è±¡ç±»å‹ ä¸€ä¸ªæ–¹æ³•ä¸å¯èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å‚æ•°ï¼Œå¦‚ï¼š 12double x = 10;harry.raiseSalary(x); ä¸­ä¸è®ºåŠ è–ªæ–¹æ³•å…·ä½“æ€ä¹ˆå®ç°ï¼Œä½†xå€¼å§‹ç»ˆä¸å˜ã€‚ å¯¹è±¡ä½œä¸ºå‚æ•°å…¶å®æ˜¯å¯¹è±¡å¼•ç”¨çš„æ‹·è´ï¼Œä»–ä»¬æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚ 12345678910public void swap(Employee x,Employee y)&#123; Employee temp = x; x = y; y = temp;&#125; Employee a = new Employee(&quot;zhang&quot;); Employee b = new Employee(&quot;wang&quot;); swap(a,b); //ç°åœ¨xæŒ‡å‘wang,yæŒ‡å‘zhang System.out.println(a.toString()+&quot;--&quot;+b.toString()); æœ€åä½ ä¼šå‘ç°aä¾ç„¶æ˜¯zhang,bä¾ç„¶æ˜¯wang,å› ä¸ºå½¢å‚xï¼Œyåœ¨æ‰§è¡Œå®Œåè¢«ä¸¢å¼ƒäº†ï¼ŒåŸæ¥çš„aï¼Œbä¾ç„¶æŒ‡å‘ä¹‹å‰çš„çš„å¯¹è±¡ã€‚ æ€»ç»“ï¼š javaå¯¹å¯¹è±¡é‡‡ç”¨çš„ä¸æ˜¯å¼•ç”¨è°ƒç”¨ï¼Œå®é™…ä¸Šï¼Œå¯¹è±¡å¼•ç”¨æ˜¯æŒ‰å€¼ä¼ é€’çš„ã€‚ ä¸€ä¸ªæ–¹æ³•ä¸èƒ½ä¿®æ”¹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ•°å€¼å‹å’Œå¸ƒå°”å‹ï¼‰ ä¸€ä¸ªæ–¹æ³•å¯ä»¥æ”¹å˜ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ï¼ˆå±æ€§â€¦â€¦ï¼‰ ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è®©ä¸€ä¸ªå¯¹è±¡å‚æ•°å¼•ç”¨æ–°çš„å¯¹è±¡ æ— åƒæ„é€ å‡½æ•°å½“ä¸€ä¸ªç±»æ²¡æœ‰æä¾›æ„é€ å‡½æ•°æ—¶ï¼Œç³»ç»Ÿä¼šä¸ºè¿™ä¸ªç±»æä¾›ä¸€ä¸ªé»˜è®¤çš„æ— åƒæ„é€ å‡½æ•°ï¼Œä½†å½“ä½ æä¾›äº†æœ‰å‚çš„æ„é€ å‡½æ•°æ—¶ï¼Œç³»ç»Ÿæ˜¯ä¸ä¼šæä¾›æ— åƒæ„é€ å‡½æ•°çš„ï¼Œæ‰€ä»¥å½“ä½ è¦è°ƒç”¨æ— åƒæ„é€ å‡½æ•°æ—¶ï¼Œä¸»åŠ¨æä¾›æ— åƒæ„é€ å‡½æ•°æˆ–ä¸æä¾›ä»»ä½•æ„é€ å‡½æ•°ã€‚ ç±»è®¾è®¡æŠ€å·§ ä¸€å®šä¿è¯æ•°æ®çš„ç§æœ‰æ€§ ä¸€å®šå¯¹æ•°æ®åˆå§‹åŒ– ä¸è¦åœ¨ç±»ä¸­ä½¿ç”¨è¿‡å¤šçš„åŸºæœ¬ç±»å‹ å°†èŒè´£è¿‡å¤šçš„ç±»è¿›è¡Œåˆ†è§£ ç±»åå’Œæ–¹æ³•åè¦èƒ½ä½“ç°ä»–ä»¬çš„èŒè´£ ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜ç±» ç±»ä¸å¯å˜ï¼Œå°±å¯ä»¥å®‰å…¨åœ°åœ¨å¤šä¸ªçº¿ç¨‹é—´å…±äº«å…¶å¯¹è±¡ã€‚ ç¬¬äº”ç«  ç»§æ‰¿çˆ¶ç±»å’Œå­ç±» å°†é€šç”¨æ–¹æ³•æ”¾åœ¨çˆ¶ç±»ä¸­ï¼Œè€Œå°†å…·æœ‰ç‰¹æ®Šç”¨é€”çš„æ–¹æ³•æ”¾åœ¨å­ç±»ä¸­ã€‚ å…³é”®å­—thisçš„ä¸¤ç§ç”¨æ³•ï¼šä¸€æ˜¯å¼•ç”¨æœ¬ç±»æˆå‘˜å˜é‡ï¼ŒäºŒæ˜¯è°ƒç”¨æœ¬ç±»å…¶ä»–æ„é€ å‡½æ•°ã€‚ å…³é”®å­—superä¸¤ç§ç”¨æ³•ï¼šä¸€æ˜¯åº”ç”¨çˆ¶ç±»æˆå‘˜å˜é‡ï¼ŒäºŒæ˜¯è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ã€‚ä¸è¿‡ä¸¤è€…è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œè°ƒç”¨è¯­å¥å¿…é¡»æ”¾åœ¨æ„é€ å‡½æ•°ç¬¬ä¸€è¡Œã€‚","link":"/2017/10/19/ã€è¯»ã€‘Javaæ ¸å¿ƒæŠ€æœ¯å·1/"},{"title":"äºŒã€å…«ã€åã€åå…­è¿›åˆ¶è½¬æ¢ï¼ˆå›¾è§£ç¯‡ï¼‰","text":"Javaè¯­æ³•ä¸­æ˜¯æ”¯æŒä½è¿ç®—çš„ï¼Œåœ¨è¿›è¡Œä½è¿ç®—å‰ï¼Œæˆ‘ä»¬æœ€å¥½å¯¹å„ä¸ªè¿›åˆ¶åŠå…¶è½¬æ¢éƒ½äº†è§£ä¸‹ï¼Œè¿™ç¯‡æ–‡ç« è®²è§£çš„å¾ˆæ˜¯è¯¦ç»†ã€‚ èƒŒæ™¯ï¼ˆContextsï¼‰ ä¹‹å‰ä½¿ç”¨SQLæŠŠåè¿›åˆ¶çš„æ•´æ•°è½¬æ¢ä¸ºä¸‰åå…­è¿›åˆ¶ï¼ŒSQLä»£ç è¯·å‚è€ƒï¼šSQL Server è¿›åˆ¶è½¬æ¢å‡½æ•°ï¼Œå…¶å®å®ƒæ˜¯åŸºäºäºŒã€å…«ã€åã€åå…­è¿›åˆ¶è½¬æ¢çš„è®¡ç®—å…¬å¼çš„ï¼Œè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢æ˜¯å¾ˆåŸºç¡€çš„çŸ¥è¯†ï¼Œä½†æ˜¯æˆ‘å‘ç°ç½‘ç»œä¸Šæ²¡æœ‰ä¸€ç¯‡èƒ½æŠŠå®ƒè¯´çš„æ¸…æ™°ã€ç®€å•ã€æ˜“æ‡‚çš„æ–‡ç« ï¼Œæ‰€ä»¥æˆ‘æ‰å†™è¿™ç¯‡æ–‡ç« çš„å¿µå¤´ï¼Œå¸Œæœ›èƒ½è®©ä½ å†ä¹Ÿä¸ç”¨æ‹…å¿ƒã€å®³æ€•è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢äº†ã€‚ ä¸‹é¢æ˜¯äºŒã€å…«ã€åã€åå…­è¿›åˆ¶ä¹‹é—´å…³ç³»çš„ç»“æ„å›¾ï¼š ä¸‹æ–‡ä¼šåˆ†4ä¸ªéƒ¨åˆ†å¯¹è¿™ä¸ªå›¾è¿›è¡Œåˆ†è§£ï¼Œé’ˆå¯¹æ¯ä¸ªéƒ¨åˆ†ä¼šä»¥å›¾æ–‡çš„å½¢å¼è¿›è¡Œè®²è§£ï¼š ï¼ˆäºŒã€å…«ã€åå…­è¿›åˆ¶ï¼‰ â†’ ï¼ˆåè¿›åˆ¶ï¼‰ï¼› ï¼ˆåè¿›åˆ¶ï¼‰ â†’ ï¼ˆäºŒã€å…«ã€åå…­è¿›åˆ¶ï¼‰ï¼› ï¼ˆäºŒè¿›åˆ¶ï¼‰ â†” ï¼ˆå…«ã€åå…­è¿›åˆ¶ï¼‰ï¼› ï¼ˆå…«è¿›åˆ¶ï¼‰ â†” ï¼ˆåå…­è¿›åˆ¶ï¼‰ï¼› è¿›åˆ¶è½¬æ¢ç®—æ³•ï¼ˆConvertï¼‰ åœ¨æ•°å­—åé¢åŠ ä¸Šä¸åŒçš„å­—æ¯æ¥è¡¨ç¤ºä¸åŒçš„è¿›ä½åˆ¶ã€‚Bï¼ˆBinary)è¡¨ç¤ºäºŒè¿›åˆ¶ï¼ŒOï¼ˆOctalï¼‰è¡¨ç¤ºå…«è¿›åˆ¶ï¼ŒDï¼ˆDecimalï¼‰æˆ–ä¸åŠ è¡¨ç¤ºåè¿›åˆ¶ï¼ŒHï¼ˆHexadecimalï¼‰è¡¨ç¤ºåå…­è¿›åˆ¶ã€‚ä¾‹å¦‚ï¼š(101011)B=(53)O=(43)D=(2B)H (ä¸€) ï¼ˆäºŒã€å…«ã€åå…­è¿›åˆ¶ï¼‰ â†’ ï¼ˆåè¿›åˆ¶ï¼‰ äºŒè¿›åˆ¶ â†’ åè¿›åˆ¶ æ–¹æ³•ï¼šäºŒè¿›åˆ¶æ•°ä»ä½ä½åˆ°é«˜ä½ï¼ˆå³ä»å³å¾€å·¦ï¼‰è®¡ç®—ï¼Œç¬¬0ä½çš„æƒå€¼æ˜¯2çš„0æ¬¡æ–¹ï¼Œç¬¬1ä½çš„æƒå€¼æ˜¯2çš„1æ¬¡æ–¹ï¼Œç¬¬2ä½çš„æƒå€¼æ˜¯2çš„2æ¬¡æ–¹ï¼Œä¾æ¬¡é€’å¢ä¸‹å»ï¼ŒæŠŠæœ€åçš„ç»“æœç›¸åŠ çš„å€¼å°±æ˜¯åè¿›åˆ¶çš„å€¼äº†ã€‚ ä¾‹ï¼šå°†äºŒè¿›åˆ¶çš„(101011)Bè½¬æ¢ä¸ºåè¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š ç¬¬0ä½ 1 x 2^0 = 1ï¼› ç¬¬1ä½ 1 x 2^1 = 2ï¼› ç¬¬2ä½ 0 x 2^2 = 0ï¼› ç¬¬3ä½ 1 x 2^3 = 8ï¼› ç¬¬4ä½ 0 x 2^4 = 0ï¼› ç¬¬5ä½ 1 x 2^5 = 32ï¼› è¯»æ•°ï¼ŒæŠŠç»“æœå€¼ç›¸åŠ ï¼Œ1+2+0+8+0+32=43ï¼Œå³(101011)B=(43)Dã€‚ å…«è¿›åˆ¶ â†’ åè¿›åˆ¶ æ–¹æ³•ï¼šå…«è¿›åˆ¶æ•°ä»ä½ä½åˆ°é«˜ä½ï¼ˆå³ä»å³å¾€å·¦ï¼‰è®¡ç®—ï¼Œç¬¬0ä½çš„æƒå€¼æ˜¯8çš„0æ¬¡æ–¹ï¼Œç¬¬1ä½çš„æƒå€¼æ˜¯8çš„1æ¬¡æ–¹ï¼Œç¬¬2ä½çš„æƒå€¼æ˜¯8çš„2æ¬¡æ–¹ï¼Œä¾æ¬¡é€’å¢ä¸‹å»ï¼ŒæŠŠæœ€åçš„ç»“æœç›¸åŠ çš„å€¼å°±æ˜¯åè¿›åˆ¶çš„å€¼äº†ã€‚ å…«è¿›åˆ¶å°±æ˜¯é€¢8è¿›1ï¼Œå…«è¿›åˆ¶æ•°é‡‡ç”¨ 0ï½7è¿™å…«æ•°æ¥è¡¨è¾¾ä¸€ä¸ªæ•°ã€‚ ä¾‹ï¼šå°†å…«è¿›åˆ¶çš„(53)Oè½¬æ¢ä¸ºåè¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š ç¬¬0ä½ 3 x 8^0 = 3ï¼› ç¬¬1ä½ 5 x 8^1 = 40ï¼› è¯»æ•°ï¼ŒæŠŠç»“æœå€¼ç›¸åŠ ï¼Œ3+40=43ï¼Œå³(53)O=(43)Dã€‚ åå…­è¿›åˆ¶ â†’ åè¿›åˆ¶ æ–¹æ³•ï¼šåå…­è¿›åˆ¶æ•°ä»ä½ä½åˆ°é«˜ä½ï¼ˆå³ä»å³å¾€å·¦ï¼‰è®¡ç®—ï¼Œç¬¬0ä½çš„æƒå€¼æ˜¯16çš„0æ¬¡æ–¹ï¼Œç¬¬1ä½çš„æƒå€¼æ˜¯16çš„1æ¬¡æ–¹ï¼Œç¬¬2ä½çš„æƒå€¼æ˜¯16çš„2æ¬¡æ–¹ï¼Œä¾æ¬¡é€’å¢ä¸‹å»ï¼ŒæŠŠæœ€åçš„ç»“æœç›¸åŠ çš„å€¼å°±æ˜¯åè¿›åˆ¶çš„å€¼äº†ã€‚ åå…­è¿›åˆ¶å°±æ˜¯é€¢16è¿›1ï¼Œåå…­è¿›åˆ¶çš„16ä¸ªæ•°ä¸º0123456789ABCDEFã€‚ ä¾‹ï¼šå°†åå…­è¿›åˆ¶çš„(2B)Hè½¬æ¢ä¸ºåè¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š ç¬¬0ä½ B x 16^0 = 11ï¼› ç¬¬1ä½ 2 x 16^1 = 32ï¼› è¯»æ•°ï¼ŒæŠŠç»“æœå€¼ç›¸åŠ ï¼Œ11+32=43ï¼Œå³(2B)H=(43)Dã€‚ (äºŒ) ï¼ˆåè¿›åˆ¶ï¼‰ â†’ ï¼ˆäºŒã€å…«ã€åå…­è¿›åˆ¶ï¼‰ åè¿›åˆ¶ â†’ äºŒè¿›åˆ¶ æ–¹æ³•ï¼šé™¤2å–ä½™æ³•ï¼Œå³æ¯æ¬¡å°†æ•´æ•°éƒ¨åˆ†é™¤ä»¥2ï¼Œä½™æ•°ä¸ºè¯¥ä½æƒä¸Šçš„æ•°ï¼Œè€Œå•†ç»§ç»­é™¤ä»¥2ï¼Œä½™æ•°åˆä¸ºä¸Šä¸€ä¸ªä½æƒä¸Šçš„æ•°ï¼Œè¿™ä¸ªæ­¥éª¤ä¸€ç›´æŒç»­ä¸‹å»ï¼Œç›´åˆ°å•†ä¸º0ä¸ºæ­¢ï¼Œæœ€åè¯»æ•°æ—¶å€™ï¼Œä»æœ€åä¸€ä¸ªä½™æ•°è¯»èµ·ï¼Œä¸€ç›´åˆ°æœ€å‰é¢çš„ä¸€ä¸ªä½™æ•°ã€‚ ä¾‹ï¼šå°†åè¿›åˆ¶çš„(43)Dè½¬æ¢ä¸ºäºŒè¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š å°†å•†43é™¤ä»¥2ï¼Œå•†21ä½™æ•°ä¸º1ï¼› å°†å•†21é™¤ä»¥2ï¼Œå•†10ä½™æ•°ä¸º1ï¼› å°†å•†10é™¤ä»¥2ï¼Œå•†5ä½™æ•°ä¸º0ï¼› å°†å•†5é™¤ä»¥2ï¼Œå•†2ä½™æ•°ä¸º1ï¼› å°†å•†2é™¤ä»¥2ï¼Œå•†1ä½™æ•°ä¸º0ï¼› å°†å•†1é™¤ä»¥2ï¼Œå•†0ä½™æ•°ä¸º1ï¼› è¯»æ•°ï¼Œå› ä¸ºæœ€åä¸€ä½æ˜¯ç»è¿‡å¤šæ¬¡é™¤ä»¥2æ‰å¾—åˆ°çš„ï¼Œå› æ­¤å®ƒæ˜¯æœ€é«˜ä½ï¼Œè¯»æ•°å­—ä»æœ€åçš„ä½™æ•°å‘å‰è¯»ï¼Œ101011ï¼Œå³(43)D=(101011)Bã€‚ åè¿›åˆ¶ â†’ å…«è¿›åˆ¶ æ–¹æ³•1ï¼šé™¤8å–ä½™æ³•ï¼Œå³æ¯æ¬¡å°†æ•´æ•°éƒ¨åˆ†é™¤ä»¥8ï¼Œä½™æ•°ä¸ºè¯¥ä½æƒä¸Šçš„æ•°ï¼Œè€Œå•†ç»§ç»­é™¤ä»¥8ï¼Œä½™æ•°åˆä¸ºä¸Šä¸€ä¸ªä½æƒä¸Šçš„æ•°ï¼Œè¿™ä¸ªæ­¥éª¤ä¸€ç›´æŒç»­ä¸‹å»ï¼Œç›´åˆ°å•†ä¸º0ä¸ºæ­¢ï¼Œæœ€åè¯»æ•°æ—¶å€™ï¼Œä»æœ€åä¸€ä¸ªä½™æ•°èµ·ï¼Œä¸€ç›´åˆ°æœ€å‰é¢çš„ä¸€ä¸ªä½™æ•°ã€‚ ä¾‹ï¼šå°†åè¿›åˆ¶çš„(796)Dè½¬æ¢ä¸ºå…«è¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š å°†å•†796é™¤ä»¥8ï¼Œå•†99ä½™æ•°ä¸º4ï¼› å°†å•†99é™¤ä»¥8ï¼Œå•†12ä½™æ•°ä¸º3ï¼› å°†å•†12é™¤ä»¥8ï¼Œå•†1ä½™æ•°ä¸º4ï¼› å°†å•†1é™¤ä»¥8ï¼Œå•†0ä½™æ•°ä¸º1ï¼› è¯»æ•°ï¼Œå› ä¸ºæœ€åä¸€ä½æ˜¯ç»è¿‡å¤šæ¬¡é™¤ä»¥8æ‰å¾—åˆ°çš„ï¼Œå› æ­¤å®ƒæ˜¯æœ€é«˜ä½ï¼Œè¯»æ•°å­—ä»æœ€åçš„ä½™æ•°å‘å‰è¯»ï¼Œ1434ï¼Œå³(796)D=(1434)Oã€‚ æ–¹æ³•2ï¼šä½¿ç”¨é—´æ¥æ³•ï¼Œå…ˆå°†åè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œç„¶åå°†äºŒè¿›åˆ¶åˆè½¬æ¢æˆå…«è¿›åˆ¶ï¼› åè¿›åˆ¶ â†’ åå…­è¿›åˆ¶ æ–¹æ³•1ï¼šé™¤16å–ä½™æ³•ï¼Œå³æ¯æ¬¡å°†æ•´æ•°éƒ¨åˆ†é™¤ä»¥16ï¼Œä½™æ•°ä¸ºè¯¥ä½æƒä¸Šçš„æ•°ï¼Œè€Œå•†ç»§ç»­é™¤ä»¥16ï¼Œä½™æ•°åˆä¸ºä¸Šä¸€ä¸ªä½æƒä¸Šçš„æ•°ï¼Œè¿™ä¸ªæ­¥éª¤ä¸€ç›´æŒç»­ä¸‹å»ï¼Œç›´åˆ°å•†ä¸º0ä¸ºæ­¢ï¼Œæœ€åè¯»æ•°æ—¶å€™ï¼Œä»æœ€åä¸€ä¸ªä½™æ•°èµ·ï¼Œä¸€ç›´åˆ°æœ€å‰é¢çš„ä¸€ä¸ªä½™æ•°ã€‚ ä¾‹ï¼šå°†åè¿›åˆ¶çš„(796)Dè½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š å°†å•†796é™¤ä»¥16ï¼Œå•†49ä½™æ•°ä¸º12ï¼Œå¯¹åº”åå…­è¿›åˆ¶çš„Cï¼› å°†å•†49é™¤ä»¥16ï¼Œå•†3ä½™æ•°ä¸º1ï¼› å°†å•†3é™¤ä»¥16ï¼Œå•†0ä½™æ•°ä¸º3ï¼› è¯»æ•°ï¼Œå› ä¸ºæœ€åä¸€ä½æ˜¯ç»è¿‡å¤šæ¬¡é™¤ä»¥16æ‰å¾—åˆ°çš„ï¼Œå› æ­¤å®ƒæ˜¯æœ€é«˜ä½ï¼Œè¯»æ•°å­—ä»æœ€åçš„ä½™æ•°å‘å‰è¯»ï¼Œ31Cï¼Œå³(796)D=(31C)Hã€‚ æ–¹æ³•2ï¼šä½¿ç”¨é—´æ¥æ³•ï¼Œå…ˆå°†åè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶ï¼Œç„¶åå°†äºŒè¿›åˆ¶åˆè½¬æ¢æˆåå…­è¿›åˆ¶ï¼› (ä¸‰) ï¼ˆäºŒè¿›åˆ¶ï¼‰ â†” ï¼ˆå…«ã€åå…­è¿›åˆ¶ï¼‰ äºŒè¿›åˆ¶ â†’ å…«è¿›åˆ¶ æ–¹æ³•ï¼šå–ä¸‰åˆä¸€æ³•ï¼Œå³ä»äºŒè¿›åˆ¶çš„å°æ•°ç‚¹ä¸ºåˆ†ç•Œç‚¹ï¼Œå‘å·¦ï¼ˆå‘å³ï¼‰æ¯ä¸‰ä½å–æˆä¸€ä½ï¼Œæ¥ç€å°†è¿™ä¸‰ä½äºŒè¿›åˆ¶æŒ‰æƒç›¸åŠ ï¼Œç„¶åï¼ŒæŒ‰é¡ºåºè¿›è¡Œæ’åˆ—ï¼Œå°æ•°ç‚¹çš„ä½ç½®ä¸å˜ï¼Œå¾—åˆ°çš„æ•°å­—å°±æ˜¯æˆ‘ä»¬æ‰€æ±‚çš„å…«è¿›åˆ¶æ•°ã€‚å¦‚æœå‘å·¦ï¼ˆå‘å³ï¼‰å–ä¸‰ä½åï¼Œå–åˆ°æœ€é«˜ï¼ˆæœ€ä½ï¼‰ä½æ—¶å€™ï¼Œå¦‚æœæ— æ³•å‡‘è¶³ä¸‰ä½ï¼Œå¯ä»¥åœ¨å°æ•°ç‚¹æœ€å·¦è¾¹ï¼ˆæœ€å³è¾¹ï¼‰ï¼Œå³æ•´æ•°çš„æœ€é«˜ä½ï¼ˆæœ€ä½ä½ï¼‰æ·»0ï¼Œå‡‘è¶³ä¸‰ä½ã€‚ ä¾‹ï¼šå°†äºŒè¿›åˆ¶çš„(11010111.0100111)Bè½¬æ¢ä¸ºå…«è¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š å°æ•°ç‚¹å‰111 = 7ï¼› 010 = 2ï¼› 11è¡¥å…¨ä¸º011ï¼Œ011 = 3ï¼› å°æ•°ç‚¹å010 = 2ï¼› 011 = 3ï¼› 1è¡¥å…¨ä¸º100ï¼Œ100 = 4ï¼› è¯»æ•°ï¼Œè¯»æ•°ä»é«˜ä½åˆ°ä½ä½ï¼Œå³(11010111.0100111)B=(327.234)Oã€‚ äºŒè¿›åˆ¶ä¸å…«è¿›åˆ¶ç¼–ç å¯¹åº”è¡¨ï¼š äºŒè¿›åˆ¶ å…«è¿›åˆ¶ 000 0 001 1 010 2 011 3 100 4 101 5 110 6 111 7 å…«è¿›åˆ¶ â†’ äºŒè¿›åˆ¶ æ–¹æ³•ï¼šå–ä¸€åˆ†ä¸‰æ³•ï¼Œå³å°†ä¸€ä½å…«è¿›åˆ¶æ•°åˆ†è§£æˆä¸‰ä½äºŒè¿›åˆ¶æ•°ï¼Œç”¨ä¸‰ä½äºŒè¿›åˆ¶æŒ‰æƒç›¸åŠ å»å‡‘è¿™ä½å…«è¿›åˆ¶æ•°ï¼Œå°æ•°ç‚¹ä½ç½®ç…§æ—§ã€‚ ä¾‹ï¼šå°†å…«è¿›åˆ¶çš„(327)Oè½¬æ¢ä¸ºäºŒè¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š 3 = 011ï¼› 2 = 010ï¼› 7 = 111ï¼› è¯»æ•°ï¼Œè¯»æ•°ä»é«˜ä½åˆ°ä½ä½ï¼Œ011010111ï¼Œå³(327)O=(11010111)Bã€‚ äºŒè¿›åˆ¶ â†’ åå…­è¿›åˆ¶ æ–¹æ³•ï¼šå–å››åˆä¸€æ³•ï¼Œå³ä»äºŒè¿›åˆ¶çš„å°æ•°ç‚¹ä¸ºåˆ†ç•Œç‚¹ï¼Œå‘å·¦ï¼ˆå‘å³ï¼‰æ¯å››ä½å–æˆä¸€ä½ï¼Œæ¥ç€å°†è¿™å››ä½äºŒè¿›åˆ¶æŒ‰æƒç›¸åŠ ï¼Œç„¶åï¼ŒæŒ‰é¡ºåºè¿›è¡Œæ’åˆ—ï¼Œå°æ•°ç‚¹çš„ä½ç½®ä¸å˜ï¼Œå¾—åˆ°çš„æ•°å­—å°±æ˜¯æˆ‘ä»¬æ‰€æ±‚çš„åå…­è¿›åˆ¶æ•°ã€‚å¦‚æœå‘å·¦ï¼ˆå‘å³ï¼‰å–å››ä½åï¼Œå–åˆ°æœ€é«˜ï¼ˆæœ€ä½ï¼‰ä½æ—¶å€™ï¼Œå¦‚æœæ— æ³•å‡‘è¶³å››ä½ï¼Œå¯ä»¥åœ¨å°æ•°ç‚¹æœ€å·¦è¾¹ï¼ˆæœ€å³è¾¹ï¼‰ï¼Œå³æ•´æ•°çš„æœ€é«˜ä½ï¼ˆæœ€ä½ä½ï¼‰æ·»0ï¼Œå‡‘è¶³å››ä½ã€‚ ä¾‹ï¼šå°†äºŒè¿›åˆ¶çš„(11010111)Bè½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š 0111 = 7ï¼› 1101 = Dï¼› è¯»æ•°ï¼Œè¯»æ•°ä»é«˜ä½åˆ°ä½ä½ï¼Œå³(11010111)B=(D7)Hã€‚ åå…­è¿›åˆ¶ â†’ äºŒè¿›åˆ¶ æ–¹æ³•ï¼šå–ä¸€åˆ†å››æ³•ï¼Œå³å°†ä¸€ä½åå…­è¿›åˆ¶æ•°åˆ†è§£æˆå››ä½äºŒè¿›åˆ¶æ•°ï¼Œç”¨å››ä½äºŒè¿›åˆ¶æŒ‰æƒç›¸åŠ å»å‡‘è¿™ä½åå…­è¿›åˆ¶æ•°ï¼Œå°æ•°ç‚¹ä½ç½®ç…§æ—§ã€‚ ä¾‹ï¼šå°†åå…­è¿›åˆ¶çš„(D7)Hè½¬æ¢ä¸ºäºŒè¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š D = 1101ï¼› 7 = 0111ï¼› è¯»æ•°ï¼Œè¯»æ•°ä»é«˜ä½åˆ°ä½ä½ï¼Œå³(D7)H=(11010111)Bã€‚ (å››) ï¼ˆå…«è¿›åˆ¶ï¼‰ â†” ï¼ˆåå…­è¿›åˆ¶ï¼‰ å…«è¿›åˆ¶ â†’ åå…­è¿›åˆ¶ æ–¹æ³•ï¼šå°†å…«è¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åå†å°†äºŒè¿›åˆ¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶ï¼Œå°æ•°ç‚¹ä½ç½®ä¸å˜ã€‚ ä¾‹ï¼šå°†å…«è¿›åˆ¶çš„(327)Oè½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š 3 = 011ï¼› 2 = 010ï¼› 7 = 111ï¼› 0111 = 7ï¼› 1101 = Dï¼› è¯»æ•°ï¼Œè¯»æ•°ä»é«˜ä½åˆ°ä½ä½ï¼ŒD7ï¼Œå³(327)O=(D7)Hã€‚ åå…­è¿›åˆ¶ â†’ å…«è¿›åˆ¶ æ–¹æ³•ï¼šå°†åå…­è¿›åˆ¶è½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åå†å°†äºŒè¿›åˆ¶è½¬æ¢ä¸ºå…«è¿›åˆ¶ï¼Œå°æ•°ç‚¹ä½ç½®ä¸å˜ã€‚ ä¾‹ï¼šå°†åå…­è¿›åˆ¶çš„(D7)Hè½¬æ¢ä¸ºå…«è¿›åˆ¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š 7 = 0111ï¼› D = 1101ï¼› 0111 = 7ï¼› 010 = 2ï¼› 011 = 3ï¼› è¯»æ•°ï¼Œè¯»æ•°ä»é«˜ä½åˆ°ä½ä½ï¼Œ327ï¼Œå³(D7)H=(327)Oã€‚ æ‰©å±•é˜…è¯» 1. åŒ…å«å°æ•°çš„è¿›åˆ¶æ¢ç®—ï¼š (ABC.8C)H=10x16^2+11x16^1+12x16^0+8x16^-1+12x16^-2 =2560+176+12+0.5+0.046875 =(2748.546875)D 2. è´Ÿæ¬¡å¹‚çš„è®¡ç®—ï¼š 2^-5=2^(0-5)=2^0/2^5=1/2^5 åŒåº•æ•°å¹‚ç›¸é™¤ï¼Œåº•æ•°ä¸å˜ï¼ŒæŒ‡æ•°ç›¸å‡ï¼Œåè¿‡æ¥ æˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸ªæ•°å­¦å…³ç³»ï¼Œå³23=8ï¼Œ24=16ï¼Œè€Œå…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶æ˜¯ç”¨è¿™å…³ç³»è¡ç”Ÿè€Œæ¥çš„ï¼Œå³ç”¨ä¸‰ä½äºŒè¿›åˆ¶è¡¨ç¤ºä¸€ä½å…«è¿›åˆ¶ï¼Œç”¨å››ä½äºŒè¿›åˆ¶è¡¨ç¤ºä¸€ä½åå…­è¿›åˆ¶æ•°ã€‚æ¥ç€ï¼Œè®°ä½4ä¸ªæ•°å­—8ã€4ã€2ã€1ï¼ˆ23=8ã€22=4ã€21=2ã€20=1ï¼‰ã€‚ å‚è€ƒæ–‡çŒ®ï¼ˆReferencesï¼‰äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶ä¹‹é—´è½¬æ¢ äºŒè¿›åˆ¶å¦‚ä½•è½¬æ¢æˆå…«è¿›åˆ¶","link":"/2018/07/14/äºŒã€å…«ã€åã€åå…­è¿›åˆ¶è½¬æ¢ï¼ˆå›¾è§£ç¯‡)/"}],"tags":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","link":"/tags/æœåŠ¡å™¨/"},{"name":"Kafka","slug":"Kafka","link":"/tags/Kafka/"},{"name":"é›†ç¾¤","slug":"é›†ç¾¤","link":"/tags/é›†ç¾¤/"},{"name":"SQL","slug":"SQL","link":"/tags/SQL/"},{"name":"MySQL","slug":"MySQL","link":"/tags/MySQL/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","link":"/tags/æ•°æ®åº“/"},{"name":"Shell","slug":"Shell","link":"/tags/Shell/"},{"name":"Linux","slug":"Linux","link":"/tags/Linux/"},{"name":"solr","slug":"solr","link":"/tags/solr/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"POI","slug":"POI","link":"/tags/POI/"},{"name":"Excel","slug":"Excel","link":"/tags/Excel/"},{"name":"Redis","slug":"Redis","link":"/tags/Redis/"},{"name":"git","slug":"git","link":"/tags/git/"},{"name":"github","slug":"github","link":"/tags/github/"},{"name":"zookeeper","slug":"zookeeper","link":"/tags/zookeeper/"},{"name":"Spring","slug":"Spring","link":"/tags/Spring/"},{"name":"Quartz","slug":"Quartz","link":"/tags/Quartz/"},{"name":"final","slug":"final","link":"/tags/final/"},{"name":"å‡½æ•°å¼","slug":"å‡½æ•°å¼","link":"/tags/å‡½æ•°å¼/"},{"name":"SpringMVC","slug":"SpringMVC","link":"/tags/SpringMVC/"},{"name":"String","slug":"String","link":"/tags/String/"},{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","link":"/tags/è¯»ä¹¦/"},{"name":"ç¬”è®°","slug":"ç¬”è®°","link":"/tags/ç¬”è®°/"}],"categories":[{"name":"ä½è¿ç®—","slug":"ä½è¿ç®—","link":"/categories/ä½è¿ç®—/"},{"name":"Linux","slug":"Linux","link":"/categories/Linux/"},{"name":"SQL","slug":"SQL","link":"/categories/SQL/"},{"name":"Shellè„šæœ¬ç¼–ç¨‹","slug":"Shellè„šæœ¬ç¼–ç¨‹","link":"/categories/Shellè„šæœ¬ç¼–ç¨‹/"},{"name":"solr","slug":"solr","link":"/categories/solr/"},{"name":"å·¥ä½œå®æˆ˜","slug":"å·¥ä½œå®æˆ˜","link":"/categories/å·¥ä½œå®æˆ˜/"},{"name":"git","slug":"git","link":"/categories/git/"},{"name":"Spring","slug":"Spring","link":"/categories/Spring/"},{"name":"Javaå†…åŠŸç¬¬ä¸€é‡","slug":"Javaå†…åŠŸç¬¬ä¸€é‡","link":"/categories/Javaå†…åŠŸç¬¬ä¸€é‡/"},{"name":"Java8å®æˆ˜","slug":"Java8å®æˆ˜","link":"/categories/Java8å®æˆ˜/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","link":"/categories/è®¾è®¡æ¨¡å¼/"},{"name":"å·¥å…·","slug":"å·¥å…·","link":"/categories/å·¥å…·/"},{"name":"SpringMVC","slug":"SpringMVC","link":"/categories/SpringMVC/"},{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","link":"/categories/è¯»ä¹¦ç¬”è®°/"}]}